"userAgent      = navigator.userAgent,"
"userAgent    = navigator.userAgent,"
"userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||"
"userAgent = config.userAgent || ""Node.js ("" + process.platform + ""; U; rv:"" + process.version + "")"";"
"userAgent = id(""qunit-userAgent"");"
"userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?!1:fa&&""function""==typeof fa.open&&""undefined""!=typeof IDBKeyRange:!1}catch(a){return!1}}function g(){return""function""==typeof openDatabase}function h(){try{return""undefined""!=typeof localStorage&&""setItem""in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if(""TypeError""!==c.name)throw c;for(var d=""undefined""!=typeof BlobBuilder?BlobBuilder:""undefined""!=typeof MSBlobBuilder?MSBlobBuilder:""undefined""!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;b>e;e++)d[e]=a.charCodeAt(e);return c}function l(a){return new ia(function(b){var c=i([""""]);a.objectStore(ja).put(c,""key""),a.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},a.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!a||parseInt(a[1],10)>=43)}})[""catch""](function(){return!1})}function m(a){return""boolean""==typeof ga?ia.resolve(ga):l(a).then(function(a){return ga=a})}function n(a){var b=ha[a.name],c={};c.promise=new ia(function(a){c.resolve=a}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function o(a){var b=ha[a.name],c=b.deferredOperations.pop();c&&c.resolve()}function p(a,b){return new ia(function(c,d){if(a.db){if(!b)return c(a.db);n(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=fa.open.apply(fa,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(ja)}catch(d){if(""ConstraintError""!==d.name)throw d;console.warn('The database ""'+a.name+'"" has been upgraded from version '+b.oldVersion+"" to version ""+b.newVersion+', but the storage ""'+a.storeName+'"" already exists.')}}),f.onerror=function(){d(f.error)},f.onsuccess=function(){c(f.result),o(a)}})}function q(a){return p(a,!1)}function r(a){return p(a,!0)}function s(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database ""'+a.name+""\"" can't be downgraded from version ""+a.db.version+"" to version ""+a.version+"".""),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function t(a){return new ia(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"""");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function u(a){var b=k(atob(a.data));return i([b],{type:a.type})}function v(a){return a&&a.__local_forage_encoded_blob}function w(a){var b=this,c=b._initReady().then(function(){var a=ha[b._dbInfo.name];return a&&a.dbReady?a.dbReady:void 0});return c.then(a,a),c}function x(a){function b(){return ia.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];ha||(ha={});var f=ha[d.name];f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},ha[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=w);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady()[""catch""](b))}var j=f.forages.slice(0);return ia.all(g).then(function(){return d.db=f.db,q(d)}).then(function(a){return d.db=a,s(d,c._defaultConfig.version)?r(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function y(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),v(a)&&(a=u(a)),b(a)},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function z(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;v(d)&&(d=u(d));var e=a(d,c.key,h++);void 0!==e?b(e):c[""continue""]()}else b()},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function A(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ia(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,b instanceof Blob?m(f.db).then(function(a){return a?b:t(b)}):b}).then(function(b){var d=f.db.transaction(f.storeName,""readwrite""),g=d.objectStore(f.storeName);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var a=h.error?h.error:h.transaction.error;e(a)};var h=g.put(b,a)})[""catch""](e)});return j(e,c),e}function B(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readwrite""),g=f.objectStore(e.storeName),h=g[""delete""](a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}})[""catch""](d)});return j(d,b),d}function C(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readwrite""),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}})[""catch""](c)});return j(c,a),c}function D(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function E(a,b){var c=this,d=new ia(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})[""catch""](d)});return j(d,b),d}function F(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b[""continue""]()):void a(g)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function G(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;""=""===a[a.length-1]&&(g--,""=""===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;h>b;b+=4)c=la.indexOf(a[b]),d=la.indexOf(a[b+1]),e=la.indexOf(a[b+2]),f=la.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function H(a){var b,c=new Uint8Array(a),d="""";for(b=0;b<c.length;b+=3)d+=la[c[b]>>2],d+=la[(3&c[b])<<4|c[b+1]>>4],d+=la[(15&c[b+1])<<2|c[b+2]>>6],d+=la[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+""="":c.length%3===1&&(d=d.substring(0,d.length-2)+""==""),d}function I(a,b){var c="""";if(a&&(c=a.toString()),a&&(""[object ArrayBuffer]""===a.toString()||a.buffer&&""[object ArrayBuffer]""===a.buffer.toString())){var d,e=oa;a instanceof ArrayBuffer?(d=a,e+=qa):(d=a.buffer,""[object Int8Array]""===c?e+=sa:""[object Uint8Array]""===c?e+=ta:""[object Uint8ClampedArray]""===c?e+=ua:""[object Int16Array]""===c?e+=va:""[object Uint16Array]""===c?e+=xa:""[object Int32Array]""===c?e+=wa:""[object Uint32Array]""===c?e+=ya:""[object Float32Array]""===c?e+=za:""[object Float64Array]""===c?e+=Aa:b(new Error(""Failed to get type for BinaryArray""))),b(e+H(d))}else if(""[object Blob]""===c){var f=new FileReader;f.onload=function(){var c=ma+a.type+""~""+H(this.result);b(oa+ra+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error(""Couldn't convert value into a JSON string: "",a),b(null,g)}}function J(a){if(a.substring(0,pa)!==oa)return JSON.parse(a);var b,c=a.substring(Ba),d=a.substring(pa,Ba);if(d===ra&&na.test(c)){var e=c.match(na);b=e[1],c=c.substring(e[0].length)}var f=G(c);switch(d){case qa:return f;case ra:return i([f],{type:b});case sa:return new Int8Array(f);case ta:return new Uint8Array(f);case ua:return new Uint8ClampedArray(f);case va:return new Int16Array(f);case xa:return new Uint16Array(f);case wa:return new Int32Array(f);case ya:return new Uint32Array(f);case za:return new Float32Array(f);case Aa:return new Float64Array(f);default:throw new Error(""Unkown type: ""+d)}}function K(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=""string""!=typeof a[d]?a[d].toString():a[d];var e=new ia(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){e.executeSql(""CREATE TABLE IF NOT EXISTS ""+c.storeName+"" (id INTEGER PRIMARY KEY, key unique, value)"",[],function(){b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Ca,e}function L(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName+"" WHERE key = ? LIMIT 1"",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function M(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;g>h;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),j=a(j,i.key,h+1),void 0!==j)return void b(j)}b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function N(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ia(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b,g=d._dbInfo;g.serializer.serialize(b,function(b,d){d?e(d):g.db.transaction(function(d){d.executeSql(""INSERT OR REPLACE INTO ""+g.storeName+"" (key, value) VALUES (?, ?)"",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})})})[""catch""](e)});return j(e,c),e}function O(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""DELETE FROM ""+e.storeName+"" WHERE key = ?"",[a],function(){b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function P(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""DELETE FROM ""+d.storeName,[],function(){a()},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function Q(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT COUNT(key) as c FROM ""+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function R(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT key FROM ""+e.storeName+"" WHERE id = ? LIMIT 1"",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function S(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT key FROM ""+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function T(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+""/"",c.storeName!==b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+""/""),b._dbInfo=c,c.serializer=Ca,ia.resolve()}function U(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return j(c,a),c}function V(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return j(d,b),d}function W(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;f>h;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),j=a(j,i.substring(e),g++),void 0!==j)return j}}});return j(d,b),d}function X(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function Y(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;c>e;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function Z(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function $(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return j(d,b),d}function _(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new ia(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){""QuotaExceededError""!==h.name&&""NS_ERROR_DOM_QUOTA_REACHED""!==h.name||f(h),f(h)}})})});return j(e,c),e}function aa(a,b,c){""function""==typeof b&&a.then(b),""function""==typeof c&&a[""catch""](c)}function ba(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function ca(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(La(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function da(a){for(var b in Ga)if(Ga.hasOwnProperty(b)&&Ga[b]===a)return!0;return!1}var ea=""function""==typeof Symbol&&""symbol""==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&""function""==typeof Symbol&&a.constructor===Symbol?""symbol"":typeof a},fa=e();""undefined""==typeof Promise&&""undefined""!=typeof a&&a(""lie/polyfill"");var ga,ha,ia=Promise,ja=""local-forage-detect-blob-support"",ka={_driver:""asyncStorage"",_initStorage:x,iterate:z,getItem:y,setItem:A,removeItem:B,clear:C,length:D,key:E,keys:F},la=""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"",ma=""~~local_forage_type~"",na=/^~~local_forage_type~([^~]+)~/,oa=""__lfsc__:"",pa=oa.length,qa=""arbf"",ra=""blob"",sa=""si08"",ta=""ui08"",ua=""uic8"",va=""si16"",wa=""si32"",xa=""ur16"",ya=""ui32"",za=""fl32"",Aa=""fl64"",Ba=pa+qa.length,Ca={serialize:I,deserialize:J,stringToBuffer:G,bufferToString:H},Da={_driver:""webSQLStorage"",_initStorage:K,iterate:M,getItem:L,setItem:N,removeItem:O,clear:P,length:Q,key:R,keys:S},Ea={_driver:""localStorageWrapper"",_initStorage:T,iterate:W,getItem:V,setItem:_,removeItem:$,clear:U,length:Z,key:X,keys:Y},Fa={},Ga={INDEXEDDB:""asyncStorage"",LOCALSTORAGE:""localStorageWrapper"",WEBSQL:""webSQLStorage""},Ha=[Ga.INDEXEDDB,Ga.WEBSQL,Ga.LOCALSTORAGE],Ia=[""clear"",""getItem"",""iterate"",""key"",""keys"",""length"",""removeItem"",""setItem""],Ja={description:"""",driver:Ha.slice(),name:""localforage"",size:4980736,storeName:""keyvaluepairs"",version:1},Ka={};Ka[Ga.INDEXEDDB]=f(),Ka[Ga.WEBSQL]=g(),Ka[Ga.LOCALSTORAGE]=h();var La=Array.isArray||function(a){return""[object Array]""===Object.prototype.toString.call(a)},Ma=function(){function a(b){d(this,a),this.INDEXEDDB=Ga.INDEXEDDB,this.LOCALSTORAGE=Ga.LOCALSTORAGE,this.WEBSQL=Ga.WEBSQL,this._defaultConfig=ca({},Ja),this._config=ca({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return a.prototype.config=function(a){if(""object""===(""undefined""==typeof a?""undefined"":ea(a))){if(this._ready)return new Error(""Can't call config() after localforage has been used."");for(var b in a)""storeName""===b&&(a[b]=a[b].replace(/\W/g,""_"")),this._config[b]=a[b];return""driver""in a&&a.driver&&this.setDriver(this._config.driver),!0}return""string""==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new ia(function(b,c){try{var d=a._driver,e=new Error(""Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver""),f=new Error(""Custom driver name already in use: ""+a._driver);if(!a._driver)return void c(e);if(da(a._driver))return void c(f);for(var g=Ia.concat(""_initStorage""),h=0;h<g.length;h++){var i=g[h];if(!i||!a[i]||""function""!=typeof a[i])return void c(e)}var j=ia.resolve(!0);""_support""in a&&(j=a._support&&""function""==typeof a._support?a._support():ia.resolve(!!a._support)),j.then(function(c){Ka[d]=c,Fa[d]=a,b()},c)}catch(k){c(k)}});return aa(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=ia.resolve().then(function(){if(!da(a)){if(Fa[a])return Fa[a];throw new Error(""Driver not found."")}switch(a){case d.INDEXEDDB:return ka;case d.LOCALSTORAGE:return Ea;case d.WEBSQL:return Da}});return aa(e,b,c),e},a.prototype.getSerializer=function(a){var b=ia.resolve(Ca);return aa(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return aa(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){f._config.driver=f.driver()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f._dbInfo=null,f._ready=null,f.getDriver(e).then(function(a){return f._extend(a),d(),f._ready=f._initStorage(f._config),f._ready})[""catch""](b)}d();var g=new Error(""No available storage method found."");return f._driverSet=ia.reject(g),f._driverSet}var c=0;return b()}}var f=this;La(a)||(a=[a]);var g=this._getSupportedDrivers(a),h=null!==this._driverSet?this._driverSet[""catch""](function(){return ia.resolve()}):ia.resolve();return this._driverSet=h.then(function(){var a=g[0];return f._dbInfo=null,f._ready=null,f.getDriver(a).then(function(a){f._driver=a._driver,d(),f._wrapLibraryMethodsWithReady(),f._initDriver=e(g)})})[""catch""](function(){d();var a=new Error(""No available storage method found."");return f._driverSet=ia.reject(a),f._driverSet}),aa(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!Ka[a]},a.prototype._extend=function(a){ca(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<Ia.length;a++)ba(this,Ia[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Na=new Ma;b.exports=Na},{undefined:void 0}]},{},[1])(1)});"
"userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?!1:fa&&""function""==typeof fa.open&&""undefined""!=typeof IDBKeyRange:!1}catch(a){return!1}}function g(){return""function""==typeof openDatabase}function h(){try{return""undefined""!=typeof localStorage&&""setItem""in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if(""TypeError""!==c.name)throw c;for(var d=""undefined""!=typeof BlobBuilder?BlobBuilder:""undefined""!=typeof MSBlobBuilder?MSBlobBuilder:""undefined""!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;b>e;e++)d[e]=a.charCodeAt(e);return c}function l(a){return new ia(function(b){var c=i([""""]);a.objectStore(ja).put(c,""key""),a.onabort=function(a){a.preventDefault(),a.stopPropagation(),b(!1)},a.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),c=navigator.userAgent.match(/Edge\//);b(c||!a||parseInt(a[1],10)>=43)}})[""catch""](function(){return!1})}function m(a){return""boolean""==typeof ga?ia.resolve(ga):l(a).then(function(a){return ga=a})}function n(a){var b=ha[a.name],c={};c.promise=new ia(function(a){c.resolve=a}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function o(a){var b=ha[a.name],c=b.deferredOperations.pop();c&&c.resolve()}function p(a,b){return new ia(function(c,d){if(a.db){if(!b)return c(a.db);n(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=fa.open.apply(fa,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(ja)}catch(d){if(""ConstraintError""!==d.name)throw d;console.warn('The database ""'+a.name+'"" has been upgraded from version '+b.oldVersion+"" to version ""+b.newVersion+', but the storage ""'+a.storeName+'"" already exists.')}}),f.onerror=function(){d(f.error)},f.onsuccess=function(){c(f.result),o(a)}})}function q(a){return p(a,!1)}function r(a){return p(a,!0)}function s(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database ""'+a.name+""\"" can't be downgraded from version ""+a.db.version+"" to version ""+a.version+"".""),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function t(a){return new ia(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"""");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function u(a){var b=k(atob(a.data));return i([b],{type:a.type})}function v(a){return a&&a.__local_forage_encoded_blob}function w(a){var b=this,c=b._initReady().then(function(){var a=ha[b._dbInfo.name];return a&&a.dbReady?a.dbReady:void 0});return c.then(a,a),c}function x(a){function b(){return ia.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];ha||(ha={});var f=ha[d.name];f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},ha[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=w);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady()[""catch""](b))}var j=f.forages.slice(0);return ia.all(g).then(function(){return d.db=f.db,q(d)}).then(function(a){return d.db=a,s(d,c._defaultConfig.version)?r(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function y(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),v(a)&&(a=u(a)),b(a)},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function z(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;v(d)&&(d=u(d));var e=a(d,c.key,h++);void 0!==e?b(e):c[""continue""]()}else b()},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function A(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ia(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,b instanceof Blob?m(f.db).then(function(a){return a?b:t(b)}):b}).then(function(b){var d=f.db.transaction(f.storeName,""readwrite""),g=d.objectStore(f.storeName);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var a=h.error?h.error:h.transaction.error;e(a)};var h=g.put(b,a)})[""catch""](e)});return j(e,c),e}function B(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readwrite""),g=f.objectStore(e.storeName),h=g[""delete""](a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}})[""catch""](d)});return j(d,b),d}function C(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readwrite""),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}})[""catch""](c)});return j(c,a),c}function D(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function E(a,b){var c=this,d=new ia(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})[""catch""](d)});return j(d,b),d}function F(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b[""continue""]()):void a(g)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function G(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;""=""===a[a.length-1]&&(g--,""=""===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;h>b;b+=4)c=la.indexOf(a[b]),d=la.indexOf(a[b+1]),e=la.indexOf(a[b+2]),f=la.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function H(a){var b,c=new Uint8Array(a),d="""";for(b=0;b<c.length;b+=3)d+=la[c[b]>>2],d+=la[(3&c[b])<<4|c[b+1]>>4],d+=la[(15&c[b+1])<<2|c[b+2]>>6],d+=la[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+""="":c.length%3===1&&(d=d.substring(0,d.length-2)+""==""),d}function I(a,b){var c="""";if(a&&(c=a.toString()),a&&(""[object ArrayBuffer]""===a.toString()||a.buffer&&""[object ArrayBuffer]""===a.buffer.toString())){var d,e=oa;a instanceof ArrayBuffer?(d=a,e+=qa):(d=a.buffer,""[object Int8Array]""===c?e+=sa:""[object Uint8Array]""===c?e+=ta:""[object Uint8ClampedArray]""===c?e+=ua:""[object Int16Array]""===c?e+=va:""[object Uint16Array]""===c?e+=xa:""[object Int32Array]""===c?e+=wa:""[object Uint32Array]""===c?e+=ya:""[object Float32Array]""===c?e+=za:""[object Float64Array]""===c?e+=Aa:b(new Error(""Failed to get type for BinaryArray""))),b(e+H(d))}else if(""[object Blob]""===c){var f=new FileReader;f.onload=function(){var c=ma+a.type+""~""+H(this.result);b(oa+ra+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error(""Couldn't convert value into a JSON string: "",a),b(null,g)}}function J(a){if(a.substring(0,pa)!==oa)return JSON.parse(a);var b,c=a.substring(Ba),d=a.substring(pa,Ba);if(d===ra&&na.test(c)){var e=c.match(na);b=e[1],c=c.substring(e[0].length)}var f=G(c);switch(d){case qa:return f;case ra:return i([f],{type:b});case sa:return new Int8Array(f);case ta:return new Uint8Array(f);case ua:return new Uint8ClampedArray(f);case va:return new Int16Array(f);case xa:return new Uint16Array(f);case wa:return new Int32Array(f);case ya:return new Uint32Array(f);case za:return new Float32Array(f);case Aa:return new Float64Array(f);default:throw new Error(""Unkown type: ""+d)}}function K(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=""string""!=typeof a[d]?a[d].toString():a[d];var e=new ia(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){e.executeSql(""CREATE TABLE IF NOT EXISTS ""+c.storeName+"" (id INTEGER PRIMARY KEY, key unique, value)"",[],function(){b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Ca,e}function L(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName+"" WHERE key = ? LIMIT 1"",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function M(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;g>h;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),j=a(j,i.key,h+1),void 0!==j)return void b(j)}b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function N(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ia(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b,g=d._dbInfo;g.serializer.serialize(b,function(b,d){d?e(d):g.db.transaction(function(d){d.executeSql(""INSERT OR REPLACE INTO ""+g.storeName+"" (key, value) VALUES (?, ?)"",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})})})[""catch""](e)});return j(e,c),e}function O(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""DELETE FROM ""+e.storeName+"" WHERE key = ?"",[a],function(){b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function P(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""DELETE FROM ""+d.storeName,[],function(){a()},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function Q(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT COUNT(key) as c FROM ""+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function R(a,b){var c=this,d=new ia(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT key FROM ""+e.storeName+"" WHERE id = ? LIMIT 1"",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function S(a){var b=this,c=new ia(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT key FROM ""+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function T(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+""/"",c.storeName!==b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+""/""),b._dbInfo=c,c.serializer=Ca,ia.resolve()}function U(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return j(c,a),c}function V(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return j(d,b),d}function W(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;f>h;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),j=a(j,i.substring(e),g++),void 0!==j)return j}}});return j(d,b),d}function X(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function Y(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;c>e;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function Z(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function $(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return j(d,b),d}function _(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new ia(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){""QuotaExceededError""!==h.name&&""NS_ERROR_DOM_QUOTA_REACHED""!==h.name||f(h),f(h)}})})});return j(e,c),e}function aa(a,b,c){""function""==typeof b&&a.then(b),""function""==typeof c&&a[""catch""](c)}function ba(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function ca(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(La(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function da(a){for(var b in Ga)if(Ga.hasOwnProperty(b)&&Ga[b]===a)return!0;return!1}var ea=""function""==typeof Symbol&&""symbol""==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&""function""==typeof Symbol&&a.constructor===Symbol?""symbol"":typeof a},fa=e();""undefined""==typeof Promise&&""undefined""!=typeof a&&a(3);var ga,ha,ia=Promise,ja=""local-forage-detect-blob-support"",ka={_driver:""asyncStorage"",_initStorage:x,iterate:z,getItem:y,setItem:A,removeItem:B,clear:C,length:D,key:E,keys:F},la=""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"",ma=""~~local_forage_type~"",na=/^~~local_forage_type~([^~]+)~/,oa=""__lfsc__:"",pa=oa.length,qa=""arbf"",ra=""blob"",sa=""si08"",ta=""ui08"",ua=""uic8"",va=""si16"",wa=""si32"",xa=""ur16"",ya=""ui32"",za=""fl32"",Aa=""fl64"",Ba=pa+qa.length,Ca={serialize:I,deserialize:J,stringToBuffer:G,bufferToString:H},Da={_driver:""webSQLStorage"",_initStorage:K,iterate:M,getItem:L,setItem:N,removeItem:O,clear:P,length:Q,key:R,keys:S},Ea={_driver:""localStorageWrapper"",_initStorage:T,iterate:W,getItem:V,setItem:_,removeItem:$,clear:U,length:Z,key:X,keys:Y},Fa={},Ga={INDEXEDDB:""asyncStorage"",LOCALSTORAGE:""localStorageWrapper"",WEBSQL:""webSQLStorage""},Ha=[Ga.INDEXEDDB,Ga.WEBSQL,Ga.LOCALSTORAGE],Ia=[""clear"",""getItem"",""iterate"",""key"",""keys"",""length"",""removeItem"",""setItem""],Ja={description:"""",driver:Ha.slice(),name:""localforage"",size:4980736,storeName:""keyvaluepairs"",version:1},Ka={};Ka[Ga.INDEXEDDB]=f(),Ka[Ga.WEBSQL]=g(),Ka[Ga.LOCALSTORAGE]=h();var La=Array.isArray||function(a){return""[object Array]""===Object.prototype.toString.call(a)},Ma=function(){function a(b){d(this,a),this.INDEXEDDB=Ga.INDEXEDDB,this.LOCALSTORAGE=Ga.LOCALSTORAGE,this.WEBSQL=Ga.WEBSQL,this._defaultConfig=ca({},Ja),this._config=ca({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return a.prototype.config=function(a){if(""object""===(""undefined""==typeof a?""undefined"":ea(a))){if(this._ready)return new Error(""Can't call config() after localforage has been used."");for(var b in a)""storeName""===b&&(a[b]=a[b].replace(/\W/g,""_"")),this._config[b]=a[b];return""driver""in a&&a.driver&&this.setDriver(this._config.driver),!0}return""string""==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new ia(function(b,c){try{var d=a._driver,e=new Error(""Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver""),f=new Error(""Custom driver name already in use: ""+a._driver);if(!a._driver)return void c(e);if(da(a._driver))return void c(f);for(var g=Ia.concat(""_initStorage""),h=0;h<g.length;h++){var i=g[h];if(!i||!a[i]||""function""!=typeof a[i])return void c(e)}var j=ia.resolve(!0);""_support""in a&&(j=a._support&&""function""==typeof a._support?a._support():ia.resolve(!!a._support)),j.then(function(c){Ka[d]=c,Fa[d]=a,b()},c)}catch(k){c(k)}});return aa(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=ia.resolve().then(function(){if(!da(a)){if(Fa[a])return Fa[a];throw new Error(""Driver not found."")}switch(a){case d.INDEXEDDB:return ka;case d.LOCALSTORAGE:return Ea;case d.WEBSQL:return Da}});return aa(e,b,c),e},a.prototype.getSerializer=function(a){var b=ia.resolve(Ca);return aa(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return aa(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){f._config.driver=f.driver()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f._dbInfo=null,f._ready=null,f.getDriver(e).then(function(a){return f._extend(a),d(),f._ready=f._initStorage(f._config),f._ready})[""catch""](b)}d();var g=new Error(""No available storage method found."");return f._driverSet=ia.reject(g),f._driverSet}var c=0;return b()}}var f=this;La(a)||(a=[a]);var g=this._getSupportedDrivers(a),h=null!==this._driverSet?this._driverSet[""catch""](function(){return ia.resolve()}):ia.resolve();return this._driverSet=h.then(function(){var a=g[0];return f._dbInfo=null,f._ready=null,f.getDriver(a).then(function(a){f._driver=a._driver,d(),f._wrapLibraryMethodsWithReady(),f._initDriver=e(g)})})[""catch""](function(){d();var a=new Error(""No available storage method found."");return f._driverSet=ia.reject(a),f._driverSet}),aa(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!Ka[a]},a.prototype._extend=function(a){ca(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<Ia.length;a++)ba(this,Ia[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Na=new Ma;b.exports=Na},{3:3}]},{},[4])(4)});"
"userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?!1:ga&&""function""==typeof ga.open&&""undefined""!=typeof IDBKeyRange:!1}catch(a){return!1}}function g(){return""function""==typeof openDatabase}function h(){try{return""undefined""!=typeof localStorage&&""setItem""in localStorage&&localStorage.setItem}catch(a){return!1}}function i(a,b){a=a||[],b=b||{};try{return new Blob(a,b)}catch(c){if(""TypeError""!==c.name)throw c;for(var d=""undefined""!=typeof BlobBuilder?BlobBuilder:""undefined""!=typeof MSBlobBuilder?MSBlobBuilder:""undefined""!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,e=new d,f=0;f<a.length;f+=1)e.append(a[f]);return e.getBlob(b.type)}}function j(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}function k(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;b>e;e++)d[e]=a.charCodeAt(e);return c}function l(a){return new ja(function(b,c){var d=new XMLHttpRequest;d.open(""GET"",a),d.withCredentials=!0,d.responseType=""arraybuffer"",d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader(""Content-Type"")}):void c({status:d.status,response:d.response}):void 0},d.send()})}function m(a){return new ja(function(b,c){var d=i([""""],{type:""image/png""}),e=a.transaction([ka],""readwrite"");e.objectStore(ka).put(d,""key""),e.oncomplete=function(){var d=a.transaction([ka],""readwrite""),e=d.objectStore(ka).get(""key"");e.onerror=c,e.onsuccess=function(a){var c=a.target.result,d=URL.createObjectURL(c);l(d).then(function(a){b(!(!a||""image/png""!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(d)})}},e.onerror=e.onabort=c})[""catch""](function(){return!1})}function n(a){return""boolean""==typeof ha?ja.resolve(ha):m(a).then(function(a){return ha=a})}function o(a){var b=ia[a.name],c={};c.promise=new ja(function(a){c.resolve=a}),b.deferredOperations.push(c),b.dbReady?b.dbReady=b.dbReady.then(function(){return c.promise}):b.dbReady=c.promise}function p(a){var b=ia[a.name],c=b.deferredOperations.pop();c&&c.resolve()}function q(a,b){return new ja(function(c,d){if(a.db){if(!b)return c(a.db);o(a),a.db.close()}var e=[a.name];b&&e.push(a.version);var f=ga.open.apply(ga,e);b&&(f.onupgradeneeded=function(b){var c=f.result;try{c.createObjectStore(a.storeName),b.oldVersion<=1&&c.createObjectStore(ka)}catch(d){if(""ConstraintError""!==d.name)throw d;console.warn('The database ""'+a.name+'"" has been upgraded from version '+b.oldVersion+"" to version ""+b.newVersion+', but the storage ""'+a.storeName+'"" already exists.')}}),f.onerror=function(){d(f.error)},f.onsuccess=function(){c(f.result),p(a)}})}function r(a){return q(a,!1)}function s(a){return q(a,!0)}function t(a,b){if(!a.db)return!0;var c=!a.db.objectStoreNames.contains(a.storeName),d=a.version<a.db.version,e=a.version>a.db.version;if(d&&(a.version!==b&&console.warn('The database ""'+a.name+""\"" can't be downgraded from version ""+a.db.version+"" to version ""+a.version+"".""),a.version=a.db.version),e||c){if(c){var f=a.db.version+1;f>a.version&&(a.version=f)}return!0}return!1}function u(a){return new ja(function(b,c){var d=new FileReader;d.onerror=c,d.onloadend=function(c){var d=btoa(c.target.result||"""");b({__local_forage_encoded_blob:!0,data:d,type:a.type})},d.readAsBinaryString(a)})}function v(a){var b=k(atob(a.data));return i([b],{type:a.type})}function w(a){return a&&a.__local_forage_encoded_blob}function x(a){var b=this,c=b._initReady().then(function(){var a=ia[b._dbInfo.name];return a&&a.dbReady?a.dbReady:void 0});return c.then(a,a),c}function y(a){function b(){return ja.resolve()}var c=this,d={db:null};if(a)for(var e in a)d[e]=a[e];ia||(ia={});var f=ia[d.name];f||(f={forages:[],db:null,dbReady:null,deferredOperations:[]},ia[d.name]=f),f.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=x);for(var g=[],h=0;h<f.forages.length;h++){var i=f.forages[h];i!==c&&g.push(i._initReady()[""catch""](b))}var j=f.forages.slice(0);return ja.all(g).then(function(){return d.db=f.db,r(d)}).then(function(a){return d.db=a,t(d,c._defaultConfig.version)?s(d):a}).then(function(a){d.db=f.db=a,c._dbInfo=d;for(var b=0;b<j.length;b++){var e=j[b];e!==c&&(e._dbInfo.db=d.db,e._dbInfo.version=d.version)}})}function z(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.get(a);g.onsuccess=function(){var a=g.result;void 0===a&&(a=null),w(a)&&(a=v(a)),b(a)},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function A(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=f.openCursor(),h=1;g.onsuccess=function(){var c=g.result;if(c){var d=c.value;w(d)&&(d=v(d));var e=a(d,c.key,h++);void 0!==e?b(e):c[""continue""]()}else b()},g.onerror=function(){d(g.error)}})[""catch""](d)});return j(d,b),d}function B(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ja(function(c,e){var f;d.ready().then(function(){return f=d._dbInfo,b instanceof Blob?n(f.db).then(function(a){return a?b:u(b)}):b}).then(function(b){var d=f.db.transaction(f.storeName,""readwrite""),g=d.objectStore(f.storeName);null===b&&(b=void 0),d.oncomplete=function(){void 0===b&&(b=null),c(b)},d.onabort=d.onerror=function(){var a=h.error?h.error:h.transaction.error;e(a)};var h=g.put(b,a)})[""catch""](e)});return j(e,c),e}function C(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readwrite""),g=f.objectStore(e.storeName),h=g[""delete""](a);f.oncomplete=function(){b()},f.onerror=function(){d(h.error)},f.onabort=function(){var a=h.error?h.error:h.transaction.error;d(a)}})[""catch""](d)});return j(d,b),d}function D(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readwrite""),f=e.objectStore(d.storeName),g=f.clear();e.oncomplete=function(){a()},e.onabort=e.onerror=function(){var a=g.error?g.error:g.transaction.error;c(a)}})[""catch""](c)});return j(c,a),c}function E(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function F(a,b){var c=this,d=new ja(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c._dbInfo,f=e.db.transaction(e.storeName,""readonly"").objectStore(e.storeName),g=!1,h=f.openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):g?b(c.key):(g=!0,c.advance(a))):void b(null)},h.onerror=function(){d(h.error)}})[""catch""](d)});return j(d,b),d}function G(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo,e=d.db.transaction(d.storeName,""readonly"").objectStore(d.storeName),f=e.openCursor(),g=[];f.onsuccess=function(){var b=f.result;return b?(g.push(b.key),void b[""continue""]()):void a(g)},f.onerror=function(){c(f.error)}})[""catch""](c)});return j(c,a),c}function H(a){var b,c,d,e,f,g=.75*a.length,h=a.length,i=0;""=""===a[a.length-1]&&(g--,""=""===a[a.length-2]&&g--);var j=new ArrayBuffer(g),k=new Uint8Array(j);for(b=0;h>b;b+=4)c=ma.indexOf(a[b]),d=ma.indexOf(a[b+1]),e=ma.indexOf(a[b+2]),f=ma.indexOf(a[b+3]),k[i++]=c<<2|d>>4,k[i++]=(15&d)<<4|e>>2,k[i++]=(3&e)<<6|63&f;return j}function I(a){var b,c=new Uint8Array(a),d="""";for(b=0;b<c.length;b+=3)d+=ma[c[b]>>2],d+=ma[(3&c[b])<<4|c[b+1]>>4],d+=ma[(15&c[b+1])<<2|c[b+2]>>6],d+=ma[63&c[b+2]];return c.length%3===2?d=d.substring(0,d.length-1)+""="":c.length%3===1&&(d=d.substring(0,d.length-2)+""==""),d}function J(a,b){var c="""";if(a&&(c=a.toString()),a&&(""[object ArrayBuffer]""===a.toString()||a.buffer&&""[object ArrayBuffer]""===a.buffer.toString())){var d,e=pa;a instanceof ArrayBuffer?(d=a,e+=ra):(d=a.buffer,""[object Int8Array]""===c?e+=ta:""[object Uint8Array]""===c?e+=ua:""[object Uint8ClampedArray]""===c?e+=va:""[object Int16Array]""===c?e+=wa:""[object Uint16Array]""===c?e+=ya:""[object Int32Array]""===c?e+=xa:""[object Uint32Array]""===c?e+=za:""[object Float32Array]""===c?e+=Aa:""[object Float64Array]""===c?e+=Ba:b(new Error(""Failed to get type for BinaryArray""))),b(e+I(d))}else if(""[object Blob]""===c){var f=new FileReader;f.onload=function(){var c=na+a.type+""~""+I(this.result);b(pa+sa+c)},f.readAsArrayBuffer(a)}else try{b(JSON.stringify(a))}catch(g){console.error(""Couldn't convert value into a JSON string: "",a),b(null,g)}}function K(a){if(a.substring(0,qa)!==pa)return JSON.parse(a);var b,c=a.substring(Ca),d=a.substring(qa,Ca);if(d===sa&&oa.test(c)){var e=c.match(oa);b=e[1],c=c.substring(e[0].length)}var f=H(c);switch(d){case ra:return f;case sa:return i([f],{type:b});case ta:return new Int8Array(f);case ua:return new Uint8Array(f);case va:return new Uint8ClampedArray(f);case wa:return new Int16Array(f);case ya:return new Uint16Array(f);case xa:return new Int32Array(f);case za:return new Uint32Array(f);case Aa:return new Float32Array(f);case Ba:return new Float64Array(f);default:throw new Error(""Unkown type: ""+d)}}function L(a){var b=this,c={db:null};if(a)for(var d in a)c[d]=""string""!=typeof a[d]?a[d].toString():a[d];var e=new ja(function(a,d){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(e){return d(e)}c.db.transaction(function(e){e.executeSql(""CREATE TABLE IF NOT EXISTS ""+c.storeName+"" (id INTEGER PRIMARY KEY, key unique, value)"",[],function(){b._dbInfo=c,a()},function(a,b){d(b)})})});return c.serializer=Da,e}function M(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName+"" WHERE key = ? LIMIT 1"",[a],function(a,c){var d=c.rows.length?c.rows.item(0).value:null;d&&(d=e.serializer.deserialize(d)),b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function N(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT * FROM ""+e.storeName,[],function(c,d){for(var f=d.rows,g=f.length,h=0;g>h;h++){var i=f.item(h),j=i.value;if(j&&(j=e.serializer.deserialize(j)),j=a(j,i.key,h+1),void 0!==j)return void b(j)}b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function O(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=new ja(function(c,e){d.ready().then(function(){void 0===b&&(b=null);var f=b,g=d._dbInfo;g.serializer.serialize(b,function(b,d){d?e(d):g.db.transaction(function(d){d.executeSql(""INSERT OR REPLACE INTO ""+g.storeName+"" (key, value) VALUES (?, ?)"",[a,b],function(){c(f)},function(a,b){e(b)})},function(a){a.code===a.QUOTA_ERR&&e(a)})})})[""catch""](e)});return j(e,c),e}function P(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""DELETE FROM ""+e.storeName+"" WHERE key = ?"",[a],function(){b()},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function Q(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""DELETE FROM ""+d.storeName,[],function(){a()},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function R(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT COUNT(key) as c FROM ""+d.storeName,[],function(b,c){var d=c.rows.item(0).c;a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function S(a,b){var c=this,d=new ja(function(b,d){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){c.executeSql(""SELECT key FROM ""+e.storeName+"" WHERE id = ? LIMIT 1"",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})[""catch""](d)});return j(d,b),d}function T(a){var b=this,c=new ja(function(a,c){b.ready().then(function(){var d=b._dbInfo;d.db.transaction(function(b){b.executeSql(""SELECT key FROM ""+d.storeName,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);a(d)},function(a,b){c(b)})})})[""catch""](c)});return j(c,a),c}function U(a){var b=this,c={};if(a)for(var d in a)c[d]=a[d];return c.keyPrefix=c.name+""/"",c.storeName!==b._defaultConfig.storeName&&(c.keyPrefix+=c.storeName+""/""),b._dbInfo=c,c.serializer=Da,ja.resolve()}function V(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var d=localStorage.key(c);0===d.indexOf(a)&&localStorage.removeItem(d)}});return j(c,a),c}function W(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo,d=localStorage.getItem(b.keyPrefix+a);return d&&(d=b.serializer.deserialize(d)),d});return j(d,b),d}function X(a,b){var c=this,d=c.ready().then(function(){for(var b=c._dbInfo,d=b.keyPrefix,e=d.length,f=localStorage.length,g=1,h=0;f>h;h++){var i=localStorage.key(h);if(0===i.indexOf(d)){var j=localStorage.getItem(i);if(j&&(j=b.serializer.deserialize(j)),j=a(j,i.substring(e),g++),void 0!==j)return j}}});return j(d,b),d}function Y(a,b){var c=this,d=c.ready().then(function(){var b,d=c._dbInfo;try{b=localStorage.key(a)}catch(e){b=null}return b&&(b=b.substring(d.keyPrefix.length)),b});return j(d,b),d}function Z(a){var b=this,c=b.ready().then(function(){for(var a=b._dbInfo,c=localStorage.length,d=[],e=0;c>e;e++)0===localStorage.key(e).indexOf(a.keyPrefix)&&d.push(localStorage.key(e).substring(a.keyPrefix.length));return d});return j(c,a),c}function $(a){var b=this,c=b.keys().then(function(a){return a.length});return j(c,a),c}function _(a,b){var c=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var d=c.ready().then(function(){var b=c._dbInfo;localStorage.removeItem(b.keyPrefix+a)});return j(d,b),d}function aa(a,b,c){var d=this;""string""!=typeof a&&(console.warn(a+"" used as a key, but it is not a string.""),a=String(a));var e=d.ready().then(function(){void 0===b&&(b=null);var c=b;return new ja(function(e,f){var g=d._dbInfo;g.serializer.serialize(b,function(b,d){if(d)f(d);else try{localStorage.setItem(g.keyPrefix+a,b),e(c)}catch(h){""QuotaExceededError""!==h.name&&""NS_ERROR_DOM_QUOTA_REACHED""!==h.name||f(h),f(h)}})})});return j(e,c),e}function ba(a,b,c){""function""==typeof b&&a.then(b),""function""==typeof c&&a[""catch""](c)}function ca(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,c)})}}function da(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(Ma(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function ea(a){for(var b in Ha)if(Ha.hasOwnProperty(b)&&Ha[b]===a)return!0;return!1}var fa=""function""==typeof Symbol&&""symbol""==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&""function""==typeof Symbol&&a.constructor===Symbol?""symbol"":typeof a},ga=e();a(3);var ha,ia,ja=Promise,ka=""local-forage-detect-blob-support"",la={_driver:""asyncStorage"",_initStorage:y,iterate:A,getItem:z,setItem:B,removeItem:C,clear:D,length:E,key:F,keys:G},ma=""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"",na=""~~local_forage_type~"",oa=/^~~local_forage_type~([^~]+)~/,pa=""__lfsc__:"",qa=pa.length,ra=""arbf"",sa=""blob"",ta=""si08"",ua=""ui08"",va=""uic8"",wa=""si16"",xa=""si32"",ya=""ur16"",za=""ui32"",Aa=""fl32"",Ba=""fl64"",Ca=qa+ra.length,Da={serialize:J,deserialize:K,stringToBuffer:H,bufferToString:I},Ea={_driver:""webSQLStorage"",_initStorage:L,iterate:N,getItem:M,setItem:O,removeItem:P,clear:Q,length:R,key:S,keys:T},Fa={_driver:""localStorageWrapper"",_initStorage:U,iterate:X,getItem:W,setItem:aa,removeItem:_,clear:V,length:$,key:Y,keys:Z},Ga={},Ha={INDEXEDDB:""asyncStorage"",LOCALSTORAGE:""localStorageWrapper"",WEBSQL:""webSQLStorage""},Ia=[Ha.INDEXEDDB,Ha.WEBSQL,Ha.LOCALSTORAGE],Ja=[""clear"",""getItem"",""iterate"",""key"",""keys"",""length"",""removeItem"",""setItem""],Ka={description:"""",driver:Ia.slice(),name:""localforage"",size:4980736,storeName:""keyvaluepairs"",version:1},La={};La[Ha.INDEXEDDB]=f(),La[Ha.WEBSQL]=g(),La[Ha.LOCALSTORAGE]=h();var Ma=Array.isArray||function(a){return""[object Array]""===Object.prototype.toString.call(a)},Na=function(){function a(b){d(this,a),this.INDEXEDDB=Ha.INDEXEDDB,this.LOCALSTORAGE=Ha.LOCALSTORAGE,this.WEBSQL=Ha.WEBSQL,this._defaultConfig=da({},Ka),this._config=da({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return a.prototype.config=function(a){if(""object""===(""undefined""==typeof a?""undefined"":fa(a))){if(this._ready)return new Error(""Can't call config() after localforage has been used."");for(var b in a)""storeName""===b&&(a[b]=a[b].replace(/\W/g,""_"")),this._config[b]=a[b];return""driver""in a&&a.driver&&this.setDriver(this._config.driver),!0}return""string""==typeof a?this._config[a]:this._config},a.prototype.defineDriver=function(a,b,c){var d=new ja(function(b,c){try{var d=a._driver,e=new Error(""Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver""),f=new Error(""Custom driver name already in use: ""+a._driver);if(!a._driver)return void c(e);if(ea(a._driver))return void c(f);for(var g=Ja.concat(""_initStorage""),h=0;h<g.length;h++){var i=g[h];if(!i||!a[i]||""function""!=typeof a[i])return void c(e)}var j=ja.resolve(!0);""_support""in a&&(j=a._support&&""function""==typeof a._support?a._support():ja.resolve(!!a._support)),j.then(function(c){La[d]=c,Ga[d]=a,b()},c)}catch(k){c(k)}});return ba(d,b,c),d},a.prototype.driver=function(){return this._driver||null},a.prototype.getDriver=function(a,b,c){var d=this,e=ja.resolve().then(function(){if(!ea(a)){if(Ga[a])return Ga[a];throw new Error(""Driver not found."")}switch(a){case d.INDEXEDDB:return la;case d.LOCALSTORAGE:return Fa;case d.WEBSQL:return Ea}});return ba(e,b,c),e},a.prototype.getSerializer=function(a){var b=ja.resolve(Da);return ba(b,a),b},a.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){return null===b._ready&&(b._ready=b._initDriver()),b._ready});return ba(c,a,a),c},a.prototype.setDriver=function(a,b,c){function d(){f._config.driver=f.driver()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f._dbInfo=null,f._ready=null,f.getDriver(e).then(function(a){return f._extend(a),d(),f._ready=f._initStorage(f._config),f._ready})[""catch""](b)}d();var g=new Error(""No available storage method found."");return f._driverSet=ja.reject(g),f._driverSet}var c=0;return b()}}var f=this;Ma(a)||(a=[a]);var g=this._getSupportedDrivers(a),h=null!==this._driverSet?this._driverSet[""catch""](function(){return ja.resolve()}):ja.resolve();return this._driverSet=h.then(function(){var a=g[0];return f._dbInfo=null,f._ready=null,f.getDriver(a).then(function(a){f._driver=a._driver,d(),f._wrapLibraryMethodsWithReady(),f._initDriver=e(g)})})[""catch""](function(){d();var a=new Error(""No available storage method found."");return f._driverSet=ja.reject(a),f._driverSet}),ba(this._driverSet,b,c),this._driverSet},a.prototype.supports=function(a){return!!La[a]},a.prototype._extend=function(a){da(this,a)},a.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0;a<Ja.length;a++)ca(this,Ja[a])},a.prototype.createInstance=function(b){return new a(b)},a}(),Oa=new Na;b.exports=Oa},{3:3}]},{},[4])(4)});"
"userAgent&&/Safari/.test(t.navigator.userAgent)&&!/Chrome/.test(t.navigator.userAgent))return!1;try{return e&&""function""==typeof e.open&&""undefined""!=typeof t.IDBKeyRange}catch(n){return!1}}(),n[u.LOCALSTORAGE]=!!function(){try{return t.localStorage&&""setItem""in t.localStorage&&t.localStorage.setItem}catch(e){return!1}}(),n}(this),h=Array.isArray||function(t){return""[object Array]""===Object.prototype.toString.call(t)},p=function(){function e(t){r(this,e),this.INDEXEDDB=u.INDEXEDDB,this.LOCALSTORAGE=u.LOCALSTORAGE,this.WEBSQL=u.WEBSQL,this._defaultConfig=i({},f),this._config=i({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(t){if(""object""==typeof t){if(this._ready)return new Error(""Can't call config() after localforage has been used."");for(var e in t)""storeName""===e&&(t[e]=t[e].replace(/\W/g,""_"")),this._config[e]=t[e];return""driver""in t&&t.driver&&this.setDriver(this._config.driver),!0}return""string""==typeof t?this._config[t]:this._config},e.prototype.defineDriver=function(t,e,n){var r=new Promise(function(e,n){try{var r=t._driver,i=new Error(""Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver""),u=new Error(""Custom driver name already in use: ""+t._driver);if(!t._driver)return n(i),void 0;if(o(t._driver))return n(u),void 0;for(var s=c.concat(""_initStorage""),f=0;f<s.length;f++){var h=s[f];if(!h||!t[h]||""function""!=typeof t[h])return n(i),void 0}var p=Promise.resolve(!0);""_support""in t&&(p=t._support&&""function""==typeof t._support?t._support():Promise.resolve(!!t._support)),p.then(function(n){l[r]=n,a[r]=t,e()},n)}catch(d){n(d)}});return r.then(e,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,e,r){var i=this,u=function(){if(o(t))switch(t){case i.INDEXEDDB:return new Promise(function(t){t(n(1))});case i.LOCALSTORAGE:return new Promise(function(t){t(n(2))});case i.WEBSQL:return new Promise(function(t){t(n(4))})}else if(a[t])return Promise.resolve(a[t]);return Promise.reject(new Error(""Driver not found.""))}();return u.then(e,r),u},e.prototype.getSerializer=function(t){var e=new Promise(function(t){t(n(3))});return t&&""function""==typeof t&&e.then(function(e){t(e)}),e},e.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return n.then(t,t),n},e.prototype.setDriver=function(t,e,n){function r(){o._config.driver=o.driver()}function i(t){return function(){function e(){for(;n<t.length;){var i=t[n];return n++,o._dbInfo=null,o._ready=null,o.getDriver(i).then(function(t){return o._extend(t),r(),o._ready=o._initStorage(o._config),o._ready})[""catch""](e)}r();var a=new Error(""No available storage method found."");return o._driverSet=Promise.reject(a),o._driverSet}var n=0;return e()}}var o=this;h(t)||(t=[t]);var a=this._getSupportedDrivers(t),u=null!==this._driverSet?this._driverSet[""catch""](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=u.then(function(){var t=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(t).then(function(t){o._driver=t._driver,r(),o._wrapLibraryMethodsWithReady(),o._initDriver=i(a)})})[""catch""](function(){r();var t=new Error(""No available storage method found."");return o._driverSet=Promise.reject(t),o._driverSet}),this._driverSet.then(e,n),this._driverSet},e.prototype.supports=function(t){return!!l[t]},e.prototype._extend=function(t){i(this,t)},e.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<c.length;e++)t(this,c[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),d=new p;e[""default""]=d}.call(""undefined""!=typeof window?window:self),t.exports=e[""default""]},function(t,e){""use strict"";e.__esModule=!0,function(){function t(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if(""TypeError""!==n.name)throw n;for(var r=x.BlobBuilder||x.MSBlobBuilder||x.MozBlobBuilder||x.WebKitBlobBuilder,i=new r,o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(e.type)}}function n(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;e>i;i++)r[i]=t.charCodeAt(i);return n}function r(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open(""GET"",t),r.withCredentials=!0,r.responseType=""arraybuffer"",r.onreadystatechange=function(){return 4===r.readyState?200===r.status?e({response:r.response,type:r.getResponseHeader(""Content-Type"")}):(n({status:r.status,response:r.response}),void 0):void 0},r.send()})}function i(e){return new Promise(function(n,i){var o=t([""""],{type:""image/png""}),a=e.transaction([S],""readwrite"");a.objectStore(S).put(o,""key""),a.oncomplete=function(){var t=e.transaction([S],""readwrite""),o=t.objectStore(S).get(""key"");o.onerror=i,o.onsuccess=function(t){var e=t.target.result,i=URL.createObjectURL(e);r(i).then(function(t){n(!(!t||""image/png""!==t.type))},function(){n(!1)}).then(function(){URL.revokeObjectURL(i)})}}})[""catch""](function(){return!1})}function o(t){return""boolean""==typeof O?Promise.resolve(O):i(t).then(function(t){return O=t})}function a(t){return new Promise(function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"""");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)})}function u(e){var r=n(atob(e.data));return t([r],{type:e.type})}function s(t){return t&&t.__local_forage_encoded_blob}function c(t){function e(){return Promise.resolve()}var n=this,r={db:null};if(t)for(var i in t)r[i]=t[i];E||(E={});var o=E[r.name];o||(o={forages:[],db:null},E[r.name]=o),o.forages.push(this);for(var a=[],u=0;u<o.forages.length;u++){var s=o.forages[u];s!==this&&a.push(s.ready()[""catch""](e))}var c=o.forages.slice(0);return Promise.all(a).then(function(){return r.db=o.db,f(r)}).then(function(t){return r.db=t,p(r,n._defaultConfig.version)?l(r):t}).then(function(t){r.db=o.db=t,n._dbInfo=r;for(var e in c){var i=c[e];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}})}function f(t){return h(t,!1)}function l(t){return h(t,!0)}function h(t,e){return new Promise(function(n,r){if(t.db){if(!e)return n(t.db);t.db.close()}var i=[t.name];e&&i.push(t.version);var o=A.open.apply(A,i);e&&(o.onupgradeneeded=function(e){var n=o.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(S)}catch(r){if(""ConstraintError""!==r.name)throw r;x.console.warn('The database ""'+t.name+'""'+"" has been upgraded from version ""+e.oldVersion+"" to version ""+e.newVersion+', but the storage ""'+t.storeName+'"" already exists.')}}),o.onerror=function(){r(o.error)},o.onsuccess=function(){n(o.result)}})}function p(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&x.console.warn('The database ""'+t.name+'""'+"" can't be downgraded from version ""+t.db.version+"" to version ""+t.version+"".""),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function d(t,e){var n=this;""string""!=typeof t&&(x.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,""readonly"").objectStore(i.storeName),a=o.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),s(t)&&(t=u(t)),e(t)},a.onerror=function(){r(a.error)}})[""catch""](r)});return k(r,e),r}function y(t,e){var n=this,r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,""readonly"").objectStore(i.storeName),a=o.openCursor(),c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;s(r)&&(r=u(r));var i=t(r,n.key,c++);void 0!==i?e(i):n[""continue""]()}else e()},a.onerror=function(){r(a.error)}})[""catch""](r)});return k(r,e),r}function v(t,e,n){var r=this;""string""!=typeof t&&(x.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var i=new Promise(function(n,i){var u;r.ready().then(function(){return u=r._dbInfo,o(u.db)}).then(function(t){return!t&&e instanceof Blob?a(e):e}).then(function(e){var r=u.db.transaction(u.storeName,""readwrite""),o=r.objectStore(u.storeName);null===e&&(e=void 0);var a=o.put(e,t);r.oncomplete=function(){void 0===e&&(e=null),n(e)},r.onabort=r.onerror=function(){var t=a.error?a.error:a.transaction.error;i(t)}})[""catch""](i)});return k(i,n),i}function g(t,e){var n=this;""string""!=typeof t&&(x.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,""readwrite""),a=o.objectStore(i.storeName),u=a[""delete""](t);o.oncomplete=function(){e()},o.onerror=function(){r(u.error)},o.onabort=function(){var t=u.error?u.error:u.transaction.error;r(t)}})[""catch""](r)});return k(r,e),r}function m(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,""readwrite""),o=i.objectStore(r.storeName),a=o.clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}})[""catch""](n)});return k(n,t),n}function b(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,""readonly"").objectStore(r.storeName),o=i.count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}})[""catch""](n)});return k(n,t),n}function w(t,e){var n=this,r=new Promise(function(e,r){return 0>t?(e(null),void 0):(n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,""readonly"").objectStore(i.storeName),a=!1,u=o.openCursor();u.onsuccess=function(){var n=u.result;return n?(0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t)),void 0):(e(null),void 0)},u.onerror=function(){r(u.error)}})[""catch""](r),void 0)});return k(r,e),r}function _(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,""readonly"").objectStore(r.storeName),o=i.openCursor(),a=[];o.onsuccess=function(){var e=o.result;return e?(a.push(e.key),e[""continue""](),void 0):(t(a),void 0)},o.onerror=function(){n(o.error)}})[""catch""](n)});return k(n,t),n}function k(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var x=this,A=A||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(A){var O,E,S=""local-forage-detect-blob-support"",j={_driver:""asyncStorage"",_initStorage:c,iterate:y,getItem:d,setItem:v,removeItem:g,clear:m,length:b,key:w,keys:_};e[""default""]=j}}.call(""undefined""!=typeof window?window:self),t.exports=e[""default""]},function(t,e,n){""use strict"";e.__esModule=!0,function(){function t(t){var e=this,r={};if(t)for(var i in t)r[i]=t[i];return r.keyPrefix=r.name+""/"",r.storeName!==e._defaultConfig.storeName&&(r.keyPrefix+=r.storeName+""/""),e._dbInfo=r,new Promise(function(t){t(n(3))}).then(function(t){return r.serializer=t,Promise.resolve()})}function r(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=p.length-1;n>=0;n--){var r=p.key(n);0===r.indexOf(t)&&p.removeItem(r)}});return l(n,t),n}function i(t,e){var n=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo,r=p.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return l(r,e),r}function o(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=p.length,a=1,u=0;o>u;u++){var s=p.key(u);if(0===s.indexOf(r)){var c=p.getItem(s);if(c&&(c=e.serializer.deserialize(c)),c=t(c,s.substring(i),a++),void 0!==c)return c}}});return l(r,e),r}function a(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=p.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return l(r,e),r}function u(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=p.length,r=[],i=0;n>i;i++)0===p.key(i).indexOf(t.keyPrefix)&&r.push(p.key(i).substring(t.keyPrefix.length));return r});return l(n,t),n}function s(t){var e=this,n=e.keys().then(function(t){return t.length});return l(n,t),n}function c(t,e){var n=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo;p.removeItem(e.keyPrefix+t)});return l(r,e),r}function f(t,e,n){var r=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new Promise(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{p.setItem(a.keyPrefix+t,e),i(n)}catch(u){(""QuotaExceededError""===u.name||""NS_ERROR_DOM_QUOTA_REACHED""===u.name)&&o(u),o(u)}})})});return l(i,n),i}function l(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var h=this,p=null;try{if(!(this.localStorage&&""setItem""in this.localStorage))return;p=this.localStorage}catch(d){return}var y={_driver:""localStorageWrapper"",_initStorage:t,iterate:o,getItem:i,setItem:f,removeItem:c,clear:r,length:s,key:a,keys:u};e[""default""]=y}.call(""undefined""!=typeof window?window:self),t.exports=e[""default""]},function(t,e){""use strict"";e.__esModule=!0,function(){function t(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if(""TypeError""!==n.name)throw n;for(var r=x.BlobBuilder||x.MSBlobBuilder||x.MozBlobBuilder||x.WebKitBlobBuilder,i=new r,o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(e.type)}}function n(t,e){var n="""";if(t&&(n=t.toString()),t&&(""[object ArrayBuffer]""===t.toString()||t.buffer&&""[object ArrayBuffer]""===t.buffer.toString())){var r,i=c;t instanceof ArrayBuffer?(r=t,i+=l):(r=t.buffer,""[object Int8Array]""===n?i+=p:""[object Uint8Array]""===n?i+=d:""[object Uint8ClampedArray]""===n?i+=y:""[object Int16Array]""===n?i+=v:""[object Uint16Array]""===n?i+=m:""[object Int32Array]""===n?i+=g:""[object Uint32Array]""===n?i+=b:""[object Float32Array]""===n?i+=w:""[object Float64Array]""===n?i+=_:e(new Error(""Failed to get type for BinaryArray""))),e(i+o(r))}else if(""[object Blob]""===n){var a=new FileReader;a.onload=function(){var n=u+t.type+""~""+o(this.result);e(c+h+n)},a.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(s){console.error(""Couldn't convert value into a JSON string: "",t),e(null,s)}}function r(e){if(e.substring(0,f)!==c)return JSON.parse(e);var n,r=e.substring(k),o=e.substring(f,k);if(o===h&&s.test(r)){var a=r.match(s);n=a[1],r=r.substring(a[0].length)}var u=i(r);switch(o){case l:return u;case h:return t([u],{type:n});case p:return new Int8Array(u);case d:return new Uint8Array(u);case y:return new Uint8ClampedArray(u);case v:return new Int16Array(u);case m:return new Uint16Array(u);case g:return new Int32Array(u);case b:return new Uint32Array(u);case w:return new Float32Array(u);case _:return new Float64Array(u);default:throw new Error(""Unkown type: ""+o)}}function i(t){var e,n,r,i,o,u=.75*t.length,s=t.length,c=0;""=""===t[t.length-1]&&(u--,""=""===t[t.length-2]&&u--);var f=new ArrayBuffer(u),l=new Uint8Array(f);for(e=0;s>e;e+=4)n=a.indexOf(t[e]),r=a.indexOf(t[e+1]),i=a.indexOf(t[e+2]),o=a.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return f}function o(t){var e,n=new Uint8Array(t),r="""";for(e=0;e<n.length;e+=3)r+=a[n[e]>>2],r+=a[(3&n[e])<<4|n[e+1]>>4],r+=a[(15&n[e+1])<<2|n[e+2]>>6],r+=a[63&n[e+2]];return 2===n.length%3?r=r.substring(0,r.length-1)+""="":1===n.length%3&&(r=r.substring(0,r.length-2)+""==""),r}var a=""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"",u=""~~local_forage_type~"",s=/^~~local_forage_type~([^~]+)~/,c=""__lfsc__:"",f=c.length,l=""arbf"",h=""blob"",p=""si08"",d=""ui08"",y=""uic8"",v=""si16"",g=""si32"",m=""ur16"",b=""ui32"",w=""fl32"",_=""fl64"",k=f+l.length,x=this,A={serialize:n,deserialize:r,stringToBuffer:i,bufferToString:o};e[""default""]=A}.call(""undefined""!=typeof window?window:self),t.exports=e[""default""]},function(t,e,n){""use strict"";e.__esModule=!0,function(){function t(t){var e=this,r={db:null};if(t)for(var i in t)r[i]=""string""!=typeof t[i]?t[i].toString():t[i];var o=new Promise(function(n,i){try{r.db=p(r.name,String(r.version),r.description,r.size)}catch(o){return e.setDriver(e.LOCALSTORAGE).then(function(){return e._initStorage(t)}).then(n)[""catch""](i)}r.db.transaction(function(t){t.executeSql(""CREATE TABLE IF NOT EXISTS ""+r.storeName+"" (id INTEGER PRIMARY KEY, key unique, value)"",[],function(){e._dbInfo=r,n()},function(t,e){i(e)})})});return new Promise(function(t){t(n(3))}).then(function(t){return r.serializer=t,o})}function r(t,e){var n=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql(""SELECT * FROM ""+i.storeName+"" WHERE key = ? LIMIT 1"",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})})[""catch""](r)});return l(r,e),r}function i(t,e){var n=this,r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql(""SELECT * FROM ""+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,u=0;a>u;u++){var s=o.item(u),c=s.value;if(c&&(c=i.serializer.deserialize(c)),c=t(c,s.key,u+1),void 0!==c)return e(c),void 0}e()},function(t,e){r(e)})})})[""catch""](r)});return l(r,e),r}function o(t,e,n){var r=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var i=new Promise(function(n,i){r.ready().then(function(){void 0===e&&(e=null);var o=e,a=r._dbInfo;a.serializer.serialize(e,function(e,r){r?i(r):a.db.transaction(function(r){r.executeSql(""INSERT OR REPLACE INTO ""+a.storeName+"" (key, value) VALUES (?, ?)"",[t,e],function(){n(o)},function(t,e){i(e)})},function(t){t.code===t.QUOTA_ERR&&i(t)})})})[""catch""](i)});return l(i,n),i}function a(t,e){var n=this;""string""!=typeof t&&(h.console.warn(t+"" used as a key, but it is not a string.""),t=String(t));var r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql(""DELETE FROM ""+i.storeName+"" WHERE key = ?"",[t],function(){e()},function(t,e){r(e)})})})[""catch""](r)});return l(r,e),r}function u(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql(""DELETE FROM ""+r.storeName,[],function(){t()},function(t,e){n(e)})})})[""catch""](n)});return l(n,t),n}function s(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql(""SELECT COUNT(key) as c FROM ""+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})})[""catch""](n)});return l(n,t),n}function c(t,e){var n=this,r=new Promise(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql(""SELECT key FROM ""+i.storeName+"" WHERE id = ? LIMIT 1"",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})})[""catch""](r)});return l(r,e),r}function f(t){var e=this,n=new Promise(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql(""SELECT key FROM ""+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})})[""catch""](n)});return l(n,t),n}function l(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var h=this,p=this.openDatabase;if(p){var d={_driver:""webSQLStorage"",_initStorage:t,iterate:i,getItem:r,setItem:o,removeItem:a,clear:u,length:s,key:c,keys:f};e[""default""]=d}}.call(""undefined""!=typeof window?window:self),t.exports=e[""default""]}])})},{__browserify_process:4}],19:[function(t,e,n){!function(){var t=this,r=t._,i={},o=Array.prototype,a=Object.prototype,u=Function.prototype,s=o.push,c=o.slice,f=o.concat,l=a.toString,h=a.hasOwnProperty,p=o.forEach,d=o.map,y=o.reduce,v=o.reduceRight,g=o.filter,m=o.every,b=o.some,w=o.indexOf,_=o.lastIndexOf,k=Array.isArray,x=Object.keys,A=u.bind,O=function(t){return t instanceof O?t:this instanceof O?(this._wrapped=t,void 0):new O(t)};""undefined""!=typeof n?(""undefined""!=typeof e&&e.exports&&(n=e.exports=O),n._=O):t._=O,O.VERSION=""1.4.4"";var E=O.each=O.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a in t)if(O.has(t,a)&&e.call(n,t[a],a,t)===i)return};O.map=O.collect=function(t,e,n){var r=[];return null==t?r:d&&t.map===d?t.map(e,n):(E(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var S=""Reduce of empty array with no initial value"";O.reduce=O.foldl=O.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),y&&t.reduce===y)return r&&(e=O.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(E(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(S);return n},O.reduceRight=O.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(e=O.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=O.keys(t);o=a.length}if(E(t,function(u,s,c){s=a?a[--o]:--o,i?n=e.call(r,n,t[s],s,c):(n=t[s],i=!0)}),!i)throw new TypeError(S);return n},O.find=O.detect=function(t,e,n){var r;return j(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},O.filter=O.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(E(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},O.reject=function(t,e,n){return O.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},O.every=O.all=function(t,e,n){e||(e=O.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(E(t,function(t,o,a){return(r=r&&e.call(n,t,o,a))?void 0:i}),!!r)};var j=O.some=O.any=function(t,e,n){e||(e=O.identity);var r=!1;return null==t?r:b&&t.some===b?t.some(e,n):(E(t,function(t,o,a){return r||(r=e.call(n,t,o,a))?i:void 0}),!!r)};O.contains=O.include=function(t,e){return null==t?!1:w&&t.indexOf===w?-1!=t.indexOf(e):j(t,function(t){return t===e})},O.invoke=function(t,e){var n=c.call(arguments,2),r=O.isFunction(e);return O.map(t,function(t){return(r?e:t[e]).apply(t,n)})},O.pluck=function(t,e){return O.map(t,function(t){return t[e]})},O.where=function(t,e,n){return O.isEmpty(e)?n?null:[]:O[n?""find"":""filter""](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},O.findWhere=function(t,e){return O.where(t,e,!0)},O.max=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&O.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return E(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},O.min=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&O.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return E(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a<r.computed&&(r={value:t,computed:a})}),r.value},O.shuffle=function(t){var e,n=0,r=[];return E(t,function(t){e=O.random(n++),r[n-1]=r[e],r[e]=t}),r};var I=function(t){return O.isFunction(t)?t:function(e){return e[t]}};O.sortBy=function(t,e,n){var r=I(e);return O.pluck(O.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),""value"")};var D=function(t,e,n,r){var i={},o=I(e||O.identity);return E(t,function(e,a){var u=o.call(n,e,a,t);r(i,u,e)}),i};O.groupBy=function(t,e,n){return D(t,e,n,function(t,e,n){(O.has(t,e)?t[e]:t[e]=[]).push(n)})},O.countBy=function(t,e,n){return D(t,e,n,function(t,e){O.has(t,e)||(t[e]=0),t[e]++})},O.sortedIndex=function(t,e,n,r){n=null==n?O.identity:I(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var u=o+a>>>1;n.call(r,t[u])<i?o=u+1:a=u}return o},O.toArray=function(t){return t?O.isArray(t)?c.call(t):t.length===+t.length?O.map(t,O.identity):O.values(t):[]},O.size=function(t){return null==t?0:t.length===+t.length?t.length:O.keys(t).length},O.first=O.head=O.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:c.call(t,0,e)},O.initial=function(t,e,n){return c.call(t,0,t.length-(null==e||n?1:e))},O.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:c.call(t,Math.max(t.length-e,0))},O.rest=O.tail=O.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},O.compact=function(t){return O.filter(t,O.identity)};var $=function(t,e,n){return E(t,function(t){O.isArray(t)?e?s.apply(n,t):$(t,e,n):n.push(t)}),n};O.flatten=function(t,e){return $(t,e,[])},O.without=function(t){return O.difference(t,c.call(arguments,1))},O.uniq=O.unique=function(t,e,n,r){O.isFunction(e)&&(r=n,n=e,e=!1);var i=n?O.map(t,n,r):t,o=[],a=[];return E(i,function(n,r){(e?r&&a[a.length-1]===n:O.contains(a,n))||(a.push(n),o.push(t[r]))}),o},O.union=function(){return O.uniq(f.apply(o,arguments))},O.intersection=function(t){var e=c.call(arguments,1);return O.filter(O.uniq(t),function(t){return O.every(e,function(e){return O.indexOf(e,t)>=0})})},O.difference=function(t){var e=f.apply(o,c.call(arguments,1));return O.filter(t,function(t){return!O.contains(e,t)})},O.zip=function(){for(var t=c.call(arguments),e=O.max(O.pluck(t,""length"")),n=new Array(e),r=0;e>r;r++)n[r]=O.pluck(t,""""+r);return n},O.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},O.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if(""number""!=typeof n)return r=O.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},O.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(_&&t.lastIndexOf===_)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},O.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},O.bind=function(t,e){if(t.bind===A&&A)return A.apply(t,c.call(arguments,1));var n=c.call(arguments,2);return function(){return t.apply(e,n.concat(c.call(arguments)))}},O.partial=function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},O.bindAll=function(t){var e=c.call(arguments,1);return 0===e.length&&(e=O.functions(t)),E(e,function(e){t[e]=O.bind(t[e],t)}),t},O.memoize=function(t,e){var n={};return e||(e=O.identity),function(){var r=e.apply(this,arguments);return O.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},O.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},O.defer=function(t){return O.delay.apply(O,[t,1].concat(c.call(arguments,1)))},O.throttle=function(t,e){var n,r,i,o,a=0,u=function(){a=new Date,i=null,o=t.apply(n,r)};return function(){var s=new Date,c=e-(s-a);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,a=s,o=t.apply(n,r)):i||(i=setTimeout(u,c)),o}},O.debounce=function(t,e,n){var r,i;return function(){var o=this,a=arguments,u=function(){r=null,n||(i=t.apply(o,a))},s=n&&!r;return clearTimeout(r),r=setTimeout(u,e),s&&(i=t.apply(o,a)),i}},O.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},O.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},O.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},O.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},O.keys=x||function(t){if(t!==Object(t))throw new TypeError(""Invalid object"");var e=[];for(var n in t)O.has(t,n)&&(e[e.length]=n);return e},O.values=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push(t[n]);return e},O.pairs=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push([n,t[n]]);return e},O.invert=function(t){var e={};for(var n in t)O.has(t,n)&&(e[t[n]]=n);return e},O.functions=O.methods=function(t){var e=[];for(var n in t)O.isFunction(t[n])&&e.push(n);return e.sort()},O.extend=function(t){return E(c.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},O.pick=function(t){var e={},n=f.apply(o,c.call(arguments,1));return E(n,function(n){n in t&&(e[n]=t[n])}),e},O.omit=function(t){var e={},n=f.apply(o,c.call(arguments,1));for(var r in t)O.contains(n,r)||(e[r]=t[r]);return e},O.defaults=function(t){return E(c.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},O.clone=function(t){return O.isObject(t)?O.isArray(t)?t.slice():O.extend({},t):t},O.tap=function(t,e){return e(t),t};var N=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof O&&(t=t._wrapped),e instanceof O&&(e=e._wrapped);var i=l.call(t);if(i!=l.call(e))return!1;switch(i){case""[object String]"":return t==String(e);case""[object Number]"":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case""[object Date]"":case""[object Boolean]"":return+t==+e;case""[object RegExp]"":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if(""object""!=typeof t||""object""!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var a=0,u=!0;if(""[object Array]""==i){if(a=t.length,u=a==e.length)for(;a--&&(u=N(t[a],e[a],n,r)););}else{var s=t.constructor,c=e.constructor;if(s!==c&&!(O.isFunction(s)&&s instanceof s&&O.isFunction(c)&&c instanceof c))return!1;for(var f in t)if(O.has(t,f)&&(a++,!(u=O.has(e,f)&&N(t[f],e[f],n,r))))break;if(u){for(f in e)if(O.has(e,f)&&!a--)break;u=!a}}return n.pop(),r.pop(),u};O.isEqual=function(t,e){return N(t,e,[],[])},O.isEmpty=function(t){if(null==t)return!0;if(O.isArray(t)||O.isString(t))return 0===t.length;for(var e in t)if(O.has(t,e))return!1;return!0},O.isElement=function(t){return!(!t||1!==t.nodeType)},O.isArray=k||function(t){return""[object Array]""==l.call(t)},O.isObject=function(t){return t===Object(t)},E([""Arguments"",""Function"",""String"",""Number"",""Date"",""RegExp""],function(t){O[""is""+t]=function(e){return l.call(e)==""[object ""+t+""]""}}),O.isArguments(arguments)||(O.isArguments=function(t){return!(!t||!O.has(t,""callee""))}),""function""!=typeof/./&&(O.isFunction=function(t){return""function""==typeof t}),O.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},O.isNaN=function(t){return O.isNumber(t)&&t!=+t},O.isBoolean=function(t){return t===!0||t===!1||""[object Boolean]""==l.call(t)},O.isNull=function(t){return null===t},O.isUndefined=function(t){return void 0===t},O.has=function(t,e){return h.call(t,e)},O.noConflict=function(){return t._=r,this},O.identity=function(t){return t},O.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},O.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{""&"":""&amp;"",""<"":""&lt;"","">"":""&gt;"",'""':""&quot;"",""'"":""&#x27;"",""/"":""&#x2F;""}};P.unescape=O.invert(P.escape);var T={escape:new RegExp(""[""+O.keys(P.escape).join("""")+""]"",""g""),unescape:new RegExp(""(""+O.keys(P.unescape).join(""|"")+"")"",""g"")};O.each([""escape"",""unescape""],function(t){O[t]=function(e){return null==e?"""":(""""+e).replace(T[t],function(e){return P[t][e]"
"userAgent&&/\bEdge\/\d/.test(navigator.userAgent),d=l(function(e,t,n){11===t.node.nodeType?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});s.insertTreeBefore=d,s.replaceChildWithTree=o,s.queueChild=a,s.queueHTML=i,s.queueText=u,t.exports=s},{115:115,137:137}],9:[function(e,t,n){""use strict"";var r={html:""http://www.w3.org/1999/xhtml"",mathml:""http://www.w3.org/1998/Math/MathML"",svg:""http://www.w3.org/2000/svg""};t.exports=r},{}],10:[function(e,t,n){""use strict"";function r(e,t){return(e&t)===t}var o=e(156),a={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var v=s[p];h.attributeName=v}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),u.properties[p]=h}}},i="":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"",u={ID_ATTRIBUTE_NAME:""data-reactid"",ROOT_ATTRIBUTE_NAME:""data-reactroot"",ATTRIBUTE_NAME_START_CHAR:i,ATTRIBUTE_NAME_CHAR:i+""\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040"",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:a};t.exports=u},{156:156}],11:[function(e,t,n){""use strict"";function r(e){return c.hasOwnProperty(e)?!0:l.hasOwnProperty(e)?!1:s.test(e)?(c[e]=!0,!0):(l[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var a=e(10),i=(e(48),e(80)),u=e(134),s=(e(164),new RegExp(""^[""+a.ATTRIBUTE_NAME_START_CHAR+""][""+a.ATTRIBUTE_NAME_CHAR+""]*$"")),l={},c={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+""=""+u(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"""")},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(o(n,t))return"""";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""""':r+""=""+u(t)}return a.isCustomAttribute(e)?null==t?"""":e+""=""+u(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+""=""+u(t):""""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var i=r.mutationMethod;if(i)i(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseProperty){var u=r.propertyName;r.hasSideEffects&&""""+e[u]==""""+n||(e[u]=n)}else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""""):e.setAttribute(s,""""+n)}}else a.isCustomAttribute(t)&&p.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""""+n))},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:n.hasSideEffects&&""""+e[o]==""""||(e[o]="""")}else e.removeAttribute(n.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};i.measureMethods(p,""DOMPropertyOperations"",{setValueForProperty:""setValueForProperty"",setValueForAttribute:""setValueForAttribute"",deleteValueForProperty:""deleteValueForProperty""}),t.exports=p},{10:10,134:134,164:164,48:48,80:80}],12:[function(e,t,n){""use strict"";function r(e){return e.substring(1,e.indexOf("" ""))}var o=e(8),a=e(142),i=e(147),u=e(148),s=e(152),l=e(156),c=/^(<[^ \/>]+)/,p=""data-danger-index"",d={dangerouslyRenderMarkup:function(e){a.canUseDOM?void 0:l(!1);for(var t,n={},o=0;o<e.length;o++)e[o]?void 0:l(!1),t=r(e[o]),t=s(t)?t:""*"",n[t]=n[t]||[],n[t][o]=e[o];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,v=n[t];for(h in v)if(v.hasOwnProperty(h)){var m=v[h];v[h]=m.replace(c,""$1 ""+p+'=""'+h+'"" ')}for(var g=i(v.join(""""),u),y=0;y<g.length;++y){var C=g[y];C.hasAttribute&&C.hasAttribute(p)&&(h=+C.getAttribute(p),C.removeAttribute(p),d.hasOwnProperty(h)?l(!1):void 0,d[h]=C,f+=1)}}return f!==d.length?l(!1):void 0,d.length!==e.length?l(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){if(a.canUseDOM?void 0:l(!1),t?void 0:l(!1),""HTML""===e.nodeName?l(!1):void 0,""string""==typeof t){var n=i(t,u)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}};t.exports=d},{142:142,147:147,148:148,152:152,156:156,8:8}],13:[function(e,t,n){""use strict"";var r=e(160),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{160:160}],14:[function(e,t,n){""use strict"";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};t.exports=o},{}],15:[function(e,t,n){""use strict"";var r=e(16),o=e(20),a=e(40),i=e(105),u=e(160),s=r.topLevelTypes,l={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===s.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var u;if(r.window===r)u=r;else{var c=r.ownerDocument;u=c?c.defaultView||c.parentWindow:window}var p,d;if(e===s.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?a.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?u:a.getNodeFromInstance(p),v=null==d?u:a.getNodeFromInstance(d),m=i.getPooled(l.mouseLeave,p,n,r);m.type=""mouseleave"",m.target=h,m.relatedTarget=v;var g=i.getPooled(l.mouseEnter,d,n,r);return g.type=""mouseenter"",g.target=v,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(m,g,p,d),[m,g]}};t.exports=c},{105:105,16:16,160:160,20:20,40:40}],16:[function(e,t,n){""use strict"";var r=e(159),o=r({bubbled:null,captured:null}),a=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),i={topLevelTypes:a,PropagationPhases:o};t.exports=i},{159:159}],17:[function(e,t,n){""use strict"";var r=e(18),o=e(19),a=e(63),i=e(112),u=e(120),s=e(156),l={},c=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){""function""!=typeof n?s(!1):void 0;var o=l[t]||(l[t]={});o[e._rootNodeID]=n;var a=r.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=l[t];o&&delete o[e._rootNodeID]},deleteAllListeners:function(e){for(var t in l)if(l[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e._rootNodeID]}},extractEvents:function(e,t,n,o){for(var a,u=r.plugins,s=0;s<u.length;s++){var l=u[s];if(l){var c=l.extractEvents(e,t,n,o);c&&(a=i(a,c))}}return a},enqueueEvents:function(e){e&&(c=i(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?s(!1):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=h},{112:112,120:120,156:156,18:18,19:19,63:63}],18:[function(e,t,n){""use strict"";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:i(!1),!l.plugins[n]){t.extractEvents?void 0:i(!1),l.plugins[n]=t;var r=t.eventTypes;for(var a in r)o(r[a],t,a)?void 0:i(!1)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?i(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];a(u,t,n)}return!0}return e.registrationName?(a(e.registrationName,t,n),!0):!1}function a(e,t,n){l.registrationNameModules[e]?i(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var i=e(156),u=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){u?i(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?i(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{156:156}],19:[function(e,t,n){""use strict"";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function a(e){return e===y.topMouseDown||e===y.topTouchStart}function i(e,t,n,r){var o=e.type||""unknown-event"";e.currentTarget=C.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(o,n,e):v.invokeGuardedCallback(o,n,e),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)i(e,t,n[o],r[o]);else n&&i(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function s(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=s(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?m(!1):void 0,e.currentTarget=t?C.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(16),v=e(63),m=e(156),g=(e(164),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=h.topLevelTypes,C={isEndish:r,isMoveish:o,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};t.exports=C},{156:156,16:16,164:164,63:63}],20:[function(e,t,n){""use strict"";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return C(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,a=r(e,n,o);a&&(n._dispatchListeners=m(n._dispatchListeners,a),n._dispatchInstances=m(n._dispatchInstances,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&v.traverseTwoPhase(e._targetInst,o,e)}function i(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?v.getParentInstance(t):null;v.traverseTwoPhase(n,o,e)}}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=C(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e._targetInst,null,e)}function l(e){g(e,a)}function c(e){g(e,i)}function p(e,t,n,r){v.traverseEnterLeave(n,r,u,e,t)}function d(e){g(e,s)}var f=e(16),h=e(17),v=e(19),m=e(112),g=e(120),y=(e(164),f.PropagationPhases),C=h.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=b},{112:112,120:120,16:16,164:164,17:17,19:19}],21:[function(e,t,n){""use strict"";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(165),a=e(25),i=e(128);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return""value""in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),a=o.length;for(e=0;r>e&&n[e]===o[e];e++);var i=r-e;for(t=1;i>=t&&n[r-t]===o[a-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),a.addPoolingTo(r),t.exports=r},{128:128,165:165,25:25}],22:[function(e,t,n){""use strict"";var r=e(10),o=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,i=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp(""^(data|aria)-[""+r.ATTRIBUTE_NAME_CHAR+""]*$"")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,async:a,autoComplete:0,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|a,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,coords:0,crossOrigin:0,data:0,dateTime:0,""default"":a,defer:a,dir:0,disabled:a,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|a,muted:o|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,rel:0,required:a,reversed:a,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:o|a,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:o|i,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,""typeof"":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:""accept-charset"",className:""class"",htmlFor:""for"",httpEquiv:""http-equiv""},DOMPropertyNames:{}};t.exports=c},{10:10}],23:[function(e,t,n){""use strict"";function r(e){var t=/[=:]/g,n={""="":""=0"","":"":""=2""},r=(""""+e).replace(t,function(e){return n[e]});return""$""+r}function o(e){var t=/(=0|=2)/g,n={""=0"":""="",""=2"":"":""},r="".""===e[0]&&""$""===e[1]?e.substring(2):e.substring(1);return(""""+r).replace(t,function(e){return n[e]})}var a={escape:r,unescape:o};t.exports=a},{}],24:[function(e,t,n){""use strict"";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function i(e){if(e){var t=e.getName();if(t)return"" Check the render method of `""+t+""`.""}return""""}var u=e(83),s=e(82),l=e(156),c=(e(164),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error(""You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error(""You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`."")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);o instanceof Error&&!(o.message in d)&&(d[o.message]=!0,i(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{156:156,164:164,82:82,83:83}],25:[function(e,t,n){""use strict"";var r=e(156),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},i=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r),a}return new o(e,t,n,r)},s=function(e,t,n,r,o){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n,r,o),i}return new a(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:i,fourArgumentPooler:u,fiveArgumentPooler:s};t.exports=f},{156:156}],26:[function(e,t,n){"
"userAgent)&&f.btn&&g.width(g.innerWidth()),g.outerWidth()>f.maxWidth&&g.width(f.maxWidth));var i=[g.innerWidth(),g.innerHeight()],j=g.find(h[1]).outerHeight()||0,k=g.find("".""+h[6]).outerHeight()||0;switch(f.type){case 2:b(""iframe"");break;default:""""===f.area[1]?f.fix&&i[1]>=d.height()&&(i[1]=d.height(),b("".""+h[5])):b("".""+h[5])}return e},g.pt.offset=function(){var a=this,b=a.config,c=a.layero,e=[c.outerWidth(),c.outerHeight()],f=""object""==typeof b.offset;a.offsetTop=(d.height()-e[1])/2,a.offsetLeft=(d.width()-e[0])/2,f?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):""auto""!==b.offset&&(a.offsetTop=b.offset,""rb""===b.offset&&(a.offsetTop=d.height()-e[1],a.offsetLeft=d.width()-e[0])),b.fix||(a.offsetTop=/%$/.test(a.offsetTop)?d.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?d.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=d.scrollTop(),a.offsetLeft+=d.scrollLeft()),c.css({top:a.offsetTop,left:a.offsetLeft})},g.pt.tips=function(){var a=this,b=a.config,e=a.layero,f=[e.outerWidth(),e.outerHeight()],g=c(b.follow);g[0]||(g=c(""body""));var i={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},j=e.find("".layui-layer-TipsG""),k=b.tips[0];b.tips[1]||j.remove(),i.autoLeft=function(){i.left+f[0]-d.width()>0?(i.tipLeft=i.left+i.width-f[0],j.css({right:12,left:""auto""})):i.tipLeft=i.left},i.where=[function(){i.autoLeft(),i.tipTop=i.top-f[1]-10,j.removeClass(""layui-layer-TipsB"").addClass(""layui-layer-TipsT"").css(""border-right-color"",b.tips[1])},function(){i.tipLeft=i.left+i.width+10,i.tipTop=i.top,j.removeClass(""layui-layer-TipsL"").addClass(""layui-layer-TipsR"").css(""border-bottom-color"",b.tips[1])},function(){i.autoLeft(),i.tipTop=i.top+i.height+10,j.removeClass(""layui-layer-TipsT"").addClass(""layui-layer-TipsB"").css(""border-right-color"",b.tips[1])},function(){i.tipLeft=i.left-f[0]-10,i.tipTop=i.top,j.removeClass(""layui-layer-TipsR"").addClass(""layui-layer-TipsL"").css(""border-bottom-color"",b.tips[1])}],i.where[k-1](),1===k?i.top-(d.scrollTop()+f[1]+16)<0&&i.where[2]():2===k?d.width()-(i.left+i.width+f[0]+16)>0||i.where[3]():3===k?i.top-d.scrollTop()+i.height+f[1]+16-d.height()>0&&i.where[0]():4===k&&f[0]+16-i.left>0&&i.where[1](),e.find("".""+h[5]).css({""background-color"":b.tips[1],""padding-right"":b.closeBtn?""30px"":""""}),e.css({left:i.tipLeft,top:i.tipTop})},g.pt.move=function(){var a=this,b=a.config,e={setY:0,moveLayer:function(){var a=e.layero,b=parseInt(a.css(""margin-left"")),c=parseInt(e.move.css(""left""));0===b||(c-=b),""fixed""!==a.css(""position"")&&(c-=a.parent().offset().left,e.setY=0),a.css({left:c,top:parseInt(e.move.css(""top""))-e.setY})}},f=a.layero.find(b.move);return b.move&&f.attr(""move"",""ok""),f.css({cursor:b.move?""move"":""auto""}),c(b.move).on(""mousedown"",function(a){if(a.preventDefault(),""ok""===c(this).attr(""move"")){e.ismove=!0,e.layero=c(this).parents("".""+h[0]);var f=e.layero.offset().left,g=e.layero.offset().top,i=e.layero.outerWidth()-6,j=e.layero.outerHeight()-6;c(""#layui-layer-moves"")[0]||c(""body"").append('<div id=""layui-layer-moves"" class=""layui-layer-moves"" style=""left:'+f+""px; top:""+g+""px; width:""+i+""px; height:""+j+'px; z-index:2147483584""></div>'),e.move=c(""#layui-layer-moves""),b.moveType&&e.move.css({visibility:""hidden""}),e.moveX=a.pageX-e.move.position().left,e.moveY=a.pageY-e.move.position().top,""fixed""!==e.layero.css(""position"")||(e.setY=d.scrollTop())}}),c(document).mousemove(function(a){if(e.ismove){var c=a.pageX-e.moveX,f=a.pageY-e.moveY;if(a.preventDefault(),!b.moveOut){e.setY=d.scrollTop();var g=d.width()-e.move.outerWidth(),h=e.setY;0>c&&(c=0),c>g&&(c=g),h>f&&(f=h),f>d.height()-e.move.outerHeight()+e.setY&&(f=d.height()-e.move.outerHeight()+e.setY)}e.move.css({left:c,top:f}),b.moveType&&e.moveLayer(),c=f=g=h=null}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),b.moveEnd&&b.moveEnd()),e.ismove=!1}catch(a){e.ismove=!1}}),a},g.pt.callback=function(){function a(){var a=g.cancel&&g.cancel(b.index);a===!1||f.close(b.index)}var b=this,d=b.layero,g=b.config;b.openLayer(),g.success&&(2==g.type?d.find(""iframe"").on(""load"",function(){g.success(d,b.index)}):g.success(d,b.index)),f.ie6&&b.IE6(d),d.find("".""+h[6]).children(""a"").on(""click"",function(){var e=c(this).index();g[""btn""+(e+1)]&&g[""btn""+(e+1)](b.index,d),0===e?g.yes?g.yes(b.index,d):f.close(b.index):1===e?a():g[""btn""+(e+1)]||f.close(b.index)}),d.find("".""+h[7]).on(""click"",a),g.shadeClose&&c(""#layui-layer-shade""+b.index).on(""click"",function(){f.close(b.index)}),d.find("".layui-layer-min"").on(""click"",function(){f.min(b.index,g),g.min&&g.min(d)}),d.find("".layui-layer-max"").on(""click"",function(){c(this).hasClass(""layui-layer-maxmin"")?(f.restore(b.index),g.restore&&g.restore(d)):(f.full(b.index,g),g.full&&g.full(d))}),g.end&&(e.end[b.index]=g.end)},e.reselect=function(){c.each(c(""select""),function(a,b){var d=c(this);d.parents("".""+h[0])[0]||1==d.attr(""layer"")&&c("".""+h[0]).length<1&&d.removeAttr(""layer"").show(),d=null})},g.pt.IE6=function(a){function b(){a.css({top:f+(e.config.fix?d.scrollTop():0)})}var e=this,f=a.offset().top;b(),d.scroll(b),c(""select"").each(function(a,b){var d=c(this);d.parents("".""+h[0])[0]||""none""===d.css(""display"")||d.attr({layer:""1""}).hide(),d=null})},g.pt.openLayer=function(){var a=this;f.zIndex=a.config.zIndex,f.setTop=function(a){var b=function(){f.zIndex++,a.css(""z-index"",f.zIndex+1)};return f.zIndex=parseInt(a[0].style.zIndex),a.on(""mousedown"",b),f.zIndex}},e.record=function(a){var b=[a.outerWidth(),a.outerHeight(),a.position().top,a.position().left+parseFloat(a.css(""margin-left""))];a.find("".layui-layer-max"").addClass(""layui-layer-maxmin""),a.attr({area:b})},e.rescollbar=function(a){h.html.attr(""layer-full"")==a&&(h.html[0].style.removeProperty?h.html[0].style.removeProperty(""overflow""):h.html[0].style.removeAttribute(""overflow""),h.html.removeAttr(""layer-full""))},a.layer=f,f.getChildFrame=function(a,b){return b=b||c("".""+h[4]).attr(""times""),c(""#""+h[0]+b).find(""iframe"").contents().find(a)},f.getFrameIndex=function(a){return c(""#""+a).parents("".""+h[4]).attr(""times"")},f.iframeAuto=function(a){if(a){var b=f.getChildFrame(""html"",a).outerHeight(),d=c(""#""+h[0]+a),e=d.find(h[1]).outerHeight()||0,g=d.find("".""+h[6]).outerHeight()||0;d.css({height:b+e+g}),d.find(""iframe"").css({height:b})}},f.iframeSrc=function(a,b){c(""#""+h[0]+a).find(""iframe"").attr(""src"",b)},f.style=function(a,b){var d=c(""#""+h[0]+a),f=d.attr(""type""),g=d.find(h[1]).outerHeight()||0,i=d.find("".""+h[6]).outerHeight()||0;(f===e.type[1]||f===e.type[2])&&(d.css(b),f===e.type[2]&&d.find(""iframe"").css({height:parseFloat(b.height)-g-i}))},f.min=function(a,b){var d=c(""#""+h[0]+a),g=d.find(h[1]).outerHeight()||0;e.record(d),f.style(a,{width:180,height:g,overflow:""hidden""}),d.find("".layui-layer-min"").hide(),""page""===d.attr(""type"")&&d.find(h[4]).hide(),e.rescollbar(a)},f.restore=function(a){var b=c(""#""+h[0]+a),d=b.attr(""area"").split("","");b.attr(""type"");f.style(a,{width:parseFloat(d[0]),height:parseFloat(d[1]),top:parseFloat(d[2]),left:parseFloat(d[3]),overflow:""visible""}),b.find("".layui-layer-max"").removeClass(""layui-layer-maxmin""),b.find("".layui-layer-min"").show(),""page""===b.attr(""type"")&&b.find(h[4]).show(),e.rescollbar(a)},f.full=function(a){var b,g=c(""#""+h[0]+a);e.record(g),h.html.attr(""layer-full"")||h.html.css(""overflow"",""hidden"").attr(""layer-full"",a),clearTimeout(b),b=setTimeout(function(){var b=""fixed""===g.css(""position"");f.style(a,{top:b?0:d.scrollTop(),left:b?0:d.scrollLeft(),width:d.width(),height:d.height()}),g.find("".layui-layer-min"").hide()},100)},f.title=function(a,b){var d=c(""#""+h[0]+(b||f.index)).find(h[1]);d.html(a)},f.close=function(a){var b=c(""#""+h[0]+a),d=b.attr(""type"");if(b[0]){if(d===e.type[1]&&""object""===b.attr(""conType"")){b.children("":not(.""+h[5]+"")"").remove();for(var g=0;2>g;g++)b.find("".layui-layer-wrap"").unwrap().hide()}else{if(d===e.type[2])try{var i=c(""#""+h[4]+a)[0];i.contentWindow.document.write(""""),i.contentWindow.close(),b.find("".""+h[5])[0].removeChild(i)}catch(j){}b[0].innerHTML="""",b.remove()}c(""#layui-layer-moves, #layui-layer-shade""+a).remove(),f.ie6&&e.reselect(),e.rescollbar(a),c(document).off(""keydown"",e.enter),""function""==typeof e.end[a]&&e.end[a](),delete e.end[a]}},f.closeAll=function(a){c.each(c("".""+h[0]),function(){var b=c(this),d=a?b.attr(""type"")===a:1;d&&f.close(b.attr(""times"")),d=null})},e.run=function(){c=jQuery,d=c(a),h.html=c(""html""),f.open=function(a){var b=new g(a);return b.index}},""function""==typeof define?define(function(){return e.run(),f}):function(){e.run(),f.use(""skin/layer.css"")}()}(window);"
"userAgent)?(a.addEventListener(""touchmove"",function(){c=!0},!1),void a.addEventListener(""touchend"",function(a){a.preventDefault(),c||b.call(this,a),c=!1},!1)):a.addEventListener(""click"",function(a){b.call(this,a)},!1)};var h=0,i=[""layermbox""],j=function(a){var b=this;b.config=g.extend(a),b.view()};j.prototype.view=function(){var a=this,c=a.config,f=b.createElement(""div"");a.id=f.id=i[0]+h,f.setAttribute(""class"",i[0]+"" ""+i[0]+(c.type||0)),f.setAttribute(""index"",h);var g=function(){var a=""object""==typeof c.title;return c.title?'<h3 style=""'+(a?c.title[1]:"""")+'"">'+(a?c.title[0]:c.title)+'</h3><button class=""layermend""></button>':""""}(),j=function(){var a,b=(c.btn||[]).length;return 0!==b&&c.btn?(a='<span type=""1"">'+c.btn[0]+""</span>"",2===b&&(a='<span type=""0"">'+c.btn[1]+""</span>""+a),'<div class=""layermbtn"">'+a+""</div>""):""""}();if(c.fixed||(c.top=c.hasOwnProperty(""top"")?c.top:100,c.style=c.style||"""",c.style+="" top:""+(b.body.scrollTop+c.top)+""px""),2===c.type&&(c.content='<i></i><i class=""laymloadtwo""></i><i></i>'),f.innerHTML=(c.shade?""<div ""+(""string""==typeof c.shade?'style=""'+c.shade+'""':"""")+' class=""laymshade""></div>':"""")+'<div class=""layermmain"" '+(c.fixed?"""":'style=""position:static;""')+'><div class=""section""><div class=""layermchild '+(c.className?c.className:"""")+"" ""+(c.type||c.shade?"""":""layermborder "")+(c.anim?""layermanim"":"""")+'"" '+(c.style?'style=""'+c.style+'""':"""")+"">""+g+'<div class=""layermcont"">'+c.content+""</div>""+j+""</div></div></div>"",!c.type||2===c.type){var k=b[d](i[0]+c.type),l=k.length;l>=1&&layer.close(k[0].getAttribute(""index""))}document.body.appendChild(f);var m=a.elem=e(""#""+a.id)[0];c.success&&c.success(m),a.index=h++,a.action(c,m)},j.prototype.action=function(a,b){var c=this;if(a.time&&(g.timer[c.index]=setTimeout(function(){layer.close(c.index)},1e3*a.time)),a.title){var e=b[d](""layermend"")[0],f=function(){a.cancel&&a.cancel(),layer.close(c.index)};g.touch(e,f)}var h=function(){var b=this.getAttribute(""type"");0==b?(a.no&&a.no(),layer.close(c.index)):a.yes?a.yes(c.index):layer.close(c.index)};if(a.btn)for(var i=b[d](""layermbtn"")[0].children,j=i.length,k=0;j>k;k++)g.touch(i[k],h);if(a.shade&&a.shadeClose){var l=b[d](""laymshade"")[0];g.touch(l,function(){layer.close(c.index,a.end)})}a.end&&(g.end[c.index]=a.end)},a.layer={v:""1.7"",index:h,open:function(a){var b=new j(a||{});return b.index},close:function(a){var c=e(""#""+i[0]+a)[0];c&&(c.innerHTML="""",b.body.removeChild(c),clearTimeout(g.timer[a]),delete g.timer[a],""function""==typeof g.end[a]&&g.end[a](),delete g.end[a])},closeAll:function(){for(var a=b[d](i[0]),c=0,e=a.length;e>c;c++)layer.close(0|a[0].getAttribute(""index""))}},""function""==typeof define?define(function(){return layer}):function(){var a=document.scripts,c=a[a.length-1],d=c.src,e=d.substring(0,d.lastIndexOf(""/"")+1);c.getAttribute(""merge"")||document.head.appendChild(function(){var a=b.createElement(""link"");return a.href=e+""need/layer.css"",a.type=""text/css"",a.rel=""styleSheet"",a.id=""layermcss"",a}())}()}(window);"
"userAgent,i=e.match(F.ios),n=e.match(F.mobileChrome);return!(!i||n)&&(w.verbose(""Browser was found to be iOS"",e),!0)},mobile:function(){var e=navigator.userAgent,i=e.match(F.mobile);return i?(w.verbose(""Browser was found to be mobile"",e),!0):(w.verbose(""Browser is not mobile, using regular transition"",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return H.hasClass(S.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return H.hasClass(S.top)},animating:function(){return M.hasClass(S.animating)},rtl:function(){return w.cache.rtl===t&&(w.cache.rtl=""rtl""==H.css(""direction"")),w.cache.rtl}},setting:function(i,n){if(w.debug(""Changing setting"",i,n),e.isPlainObject(i))e.extend(!0,T,i);else{if(n===t)return T[i];e.isPlainObject(T[i])?e.extend(!0,T[i],n):T[i]=n}},internal:function(i,n){if(e.isPlainObject(i))e.extend(!0,w,i);else{if(n===t)return w[i];w[i]=n}},debug:function(){!T.silent&&T.debug&&(T.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,T.name+"":""),w.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,T.name+"":""),w.verbose.apply(console,arguments)))},error:function(){T.silent||(w.error=Function.prototype.bind.call(console.error,console,T.name+"":""),w.error.apply(console,arguments))},performance:{log:function(e){var i,n,t;T.performance&&(i=(new Date).getTime(),t=f||i,n=i-t,f=i,b.push({Name:e[0],Arguments:[].slice.call(e,1)||"""",Element:z,""Execution Time"":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var i=T.name+"":"",n=0;f=!1,clearTimeout(w.performance.timer),e.each(b,function(e,i){n+=i[""Execution Time""]}),i+="" ""+n+""ms"",u&&(i+="" '""+u+""'""),(console.group!==t||console.table!==t)&&b.length>0&&(console.groupCollapsed(i),console.table?console.table(b):e.each(b,function(e,i){console.log(i.Name+"": ""+i[""Execution Time""]+""ms"")}),console.groupEnd()),b=[]}},invoke:function(i,n,o){var s,a,l,c=B;return n=n||g,o=z||o,""string""==typeof i&&c!==t&&(i=i.split(/[\. ]/),s=i.length-1,e.each(i,function(n,o){var r=n!=s?o+i[n+1].charAt(0).toUpperCase()+i[n+1].slice(1):i;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==t)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==t?(a=c[o],!1):(w.error(O.method,i),!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==t&&(l=a),e.isArray(r)?r.push(l):r!==t?r=[r,l]:l!==t&&(r=l),a}},m?(B===t&&w.initialize(),w.invoke(h)):(B!==t&&w.invoke(""destroy""),w.initialize())}),r!==t?r:this},e.fn.sidebar.settings={name:""Sidebar"",namespace:""sidebar"",silent:!1,debug:!1,verbose:!1,performance:!0,transition:""auto"",mobileTransition:""auto"",defaultTransition:{computer:{left:""uncover"",right:""uncover"",top:""overlay"",bottom:""overlay""},mobile:{left:""uncover"",right:""uncover"",top:""overlay"",bottom:""overlay""}},context:""body"",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:""active"",animating:""animating"",dimmed:""dimmed"",ios:""ios"",pushable:""pushable"",pushed:""pushed"",right:""right"",top:""top"",left:""left"",bottom:""bottom"",visible:""visible""},selector:{fixed:"".fixed"",omitted:""script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed"",pusher:"".pusher"",sidebar:"".ui.sidebar""},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:""The method you called is not defined."",pusher:""Had to add pusher element. For optimal performance make sure body content is inside a pusher element"",movedSidebar:""Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag"",overlay:""The overlay setting is no longer supported, use animation: overlay"",notFound:""There were no elements that matched the specified selector""}}}(jQuery,window,document);"
"userAgent,t=e.match(R.ios),n=e.match(R.mobileChrome);return!(!t||n)&&(w.verbose(""Browser was found to be iOS"",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(R.mobile);return t?(w.verbose(""Browser was found to be mobile"",e),!0):(w.verbose(""Browser is not mobile, using regular transition"",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return O.hasClass(T.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return O.hasClass(T.top)},animating:function(){return D.hasClass(T.animating)},rtl:function(){return w.cache.rtl===i&&(w.cache.rtl=""rtl""==O.css(""direction"")),w.cache.rtl}},setting:function(t,n){if(w.debug(""Changing setting"",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],n):k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){!k.silent&&k.debug&&(k.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,k.name+"":""),w.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,k.name+"":""),w.verbose.apply(console,arguments)))},error:function(){k.silent||(w.error=Function.prototype.bind.call(console.error,console,k.name+"":""),w.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"""",Element:M,""Execution Time"":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=k.name+"":"",n=0;f=!1,clearTimeout(w.performance.timer),e.each(m,function(e,t){n+=t[""Execution Time""]}),t+="" ""+n+""ms"",d&&(t+="" '""+d+""'""),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+"": ""+t[""Execution Time""]+""ms"")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var r,s,l,c=I;return n=n||h,o=M||o,""string""==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(w.error(E.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},p?(I===i&&w.initialize(),w.invoke(g)):(I!==i&&w.invoke(""destroy""),w.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:""Sidebar"",namespace:""sidebar"",silent:!1,debug:!1,verbose:!1,performance:!0,transition:""auto"",mobileTransition:""auto"",defaultTransition:{computer:{left:""uncover"",right:""uncover"",top:""overlay"",bottom:""overlay""},mobile:{left:""uncover"",right:""uncover"",top:""overlay"",bottom:""overlay""}},context:""body"",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:""active"",animating:""animating"",dimmed:""dimmed"",ios:""ios"",pushable:""pushable"",pushed:""pushed"",right:""right"",top:""top"",left:""left"",bottom:""bottom"",visible:""visible""},selector:{fixed:"".fixed"",omitted:""script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed"",pusher:"".pusher"",sidebar:"".ui.sidebar""},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:""The method you called is not defined."",pusher:""Had to add pusher element. For optimal performance make sure body content is inside a pusher element"",movedSidebar:""Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag"",overlay:""The overlay setting is no longer supported, use animation: overlay"",notFound:""There were no elements that matched the specified selector""}}}(jQuery,window,document),function(e,t,n,i){""use strict"";t=""undefined""!=typeof t&&t.Math==Math?t:""undefined""!=typeof self&&self.Math==Math?self:Function(""return this"")(),e.fn.sticky=function(o){var a,r=e(this),s=r.selector||"""",l=(new Date).getTime(),c=[],u=arguments[0],d=""string""==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,g,p,h,v=e.isPlainObject(o)?e.extend(!0,{},e.fn.sticky.settings,o):e.extend({},e.fn.sticky.settings),b=v.className,y=v.namespace,x=v.error,C="".""+y,w=""module-""+y,k=e(this),S=e(t),T=e(v.scrollContext),A=(k.selector||"""",k.data(w)),R=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},E=this;h={initialize:function(){h.determineContainer(),h.determineContext(),h.verbose(""Initializing sticky"",v,r),h.save.positions(),h.checkErrors(),h.bind.events(),v.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose(""Storing instance of module"",h),A=h,k.data(w,h)},destroy:function(){h.verbose(""Destroying previous instance""),h.reset(),g&&g.disconnect(),p&&p.disconnect(),S.off(""load""+C,h.event.load).off(""resize""+C,h.event.resize),T.off(""scrollchange""+C,h.event.scrollchange),k.removeData(w)},observeChanges:function(){""MutationObserver""in t&&(g=new MutationObserver(h.event.documentChanged),p=new MutationObserver(h.event.changed),g.observe(n,{childList:!0,subtree:!0}),p.observe(E,{childList:!0,subtree:!0}),p.observe(m[0],{childList:!0,subtree:!0}),h.debug(""Setting up mutation observer"",p))},determineContainer:function(){r=v.container?e(v.container):k.offsetParent()},determineContext:function(){if(m=v.context?e(v.context):r,0===m.length)return void h.error(x.invalidContext,v.context,k)},checkErrors:function(){if(h.is.hidden()&&h.error(x.visible,k),h.cache.element.height>h.cache.context.height)return h.reset(),void h.error(x.elementSize,k)},bind:{events:function(){S.on(""load""+C,h.event.load).on(""resize""+C,h.event.resize),T.off(""scroll""+C).on(""scroll""+C,h.event.scroll).on(""scrollchange""+C,h.event.scrollchange)}},event:{changed:function(e){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose(""DOM tree modified, updating sticky menu"",e),h.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==E||e(t).find(E).length>0)&&(h.debug(""Element removed from DOM, tearing down events""),h.destroy())})})},load:function(){h.verbose(""Page contents finished loading""),R(h.refresh)},resize:function(){h.verbose(""Window resized""),R(h.refresh)},scroll:function(){R(function(){T.triggerHandler(""scrollchange""+C,T.scrollTop())})},scrollchange:function(e,t){h.stick(t),v.onScroll.call(E)}},refresh:function(e){h.reset(),v.context||h.determineContext(),e&&h.determineContainer(),h.save.positions(),h.stick(),v.onReposition.call(E)},supports:{sticky:function(){var t=e(""<div/>"");t[0];return t.addClass(b.supported),t.css(""position"").match(""sticky"")}},save:{lastScroll:function(e){h.lastScroll=e},elementScroll:function(e){h.elementScroll=e},positions:function(){var e={height:T.height()},t={margin:{top:parseInt(k.css(""margin-top""),10),bottom:parseInt(k.css(""margin-bottom""),10)},offset:k.offset(),width:k.outerWidth(),height:k.outerHeight()},n={offset:m.offset(),height:m.outerHeight()};({height:r.outerHeight()});h.is.standardScroll()||(h.debug(""Non-standard scroll. Removing scroll offset from element offset""),e.top=T.scrollTop(),e.left=T.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),h.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},h.set.containerSize(),h.set.size(),h.stick(),h.debug(""Caching element positions"",h.cache)}},get:{direction:function(e){var t=""down"";return e=e||T.scrollTop(),h.lastScroll!==i&&(h.lastScroll<e?t=""down"":h.lastScroll>e&&(t=""up"")),t},scrollChange:function(e){return e=e||T.scrollTop(),h.lastScroll?e-h.lastScroll:0},currentElementScroll:function(){return h.elementScroll?h.elementScroll:h.is.top()?Math.abs(parseInt(k.css(""top""),10))||0:Math.abs(parseInt(k.css(""bottom""),10))||0},elementScroll:function(e){e=e||T.scrollTop();var t=h.cache.element,n=h.cache.scrollContext,i=h.get.scrollChange(e),o=t.height-n.height+v.offset,a=h.get.currentElementScroll(),r=a+i;return a=h.cache.fits||r<0?0:r>o?o:r}},remove:{lastScroll:function(){delete h.lastScroll},elementScroll:function(e){delete h.elementScroll},offset:function(){k.css(""margin-top"","""")}},set:{offset:function(){h.verbose(""Setting offset on element"",v.offset),k.css(""margin-top"",v.offset)},containerSize:function(){var e=r.get(0).tagName;""HTML""===e||""body""==e?h.determineContainer():Math.abs(r.outerHeight()-h.cache.context.height)>v.jitter&&(h.debug(""Context has padding, specifying exact height for container"",h.cache.context.height),r.css({height:h.cache.context.height}))},minimumSize:function(){var e=h.cache.element;r.css(""min-height"",e.height)},scroll:function(e){h.debug(""Setting scroll on element"",e),h.elementScroll!=e&&(h.is.top()&&k.css(""bottom"","""").css(""top"",-e),h.is.bottom()&&k.css(""top"","""").css(""bottom"",e))},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&(E.style.setProperty(""width"",h.cache.element.width+""px"",""important""),E.style.setProperty(""height"",h.cache.element.height+""px"",""important""))}},is:{standardScroll:function(){return T[0]==t},top:function(){return k.hasClass(b.top)},bottom:function(){return k.hasClass(b.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!k.is("":visible"")},bound:function(){return k.hasClass(b.bound)},fixed:function(){return k.hasClass(b.fixed)}},stick:function(e){var t=e||T.scrollTop(),n=h.cache,i=n.fits,o=n.element,a=n.scrollContext,r=n.context,s=h.is.bottom()&&v.pushing?v.bottomOffset:v.offset,e={top:t+s,bottom:t+s+a.height},l=(h.get.direction(e.top),i?0:h.get.elementScroll(e.top)),c=!i,u=0!==o.height;u&&(h.is.initialPosition()?e.top>=r.bottom?(h.debug(""Initial element position is bottom of container""),h.bindBottom()):e.top>o.top&&(o.height+e.top-l>=r.bottom?(h.debug(""Initial element position is bottom of container""),h.bindBottom()):(h.debug(""Initial element position is fixed""),h.fixTop())):h.is.fixed()?h.is.top()?e.top<=o.top?(h.debug(""Fixed element reached top of container""),h.setInitialPosition()):o.height+e.top-l>=r.bottom?(h.debug(""Fixed element reached bottom of container""),h.bindBottom()):c&&(h.set.scroll(l),h.save.lastScroll(e.top),h.save.elementScroll(l)):h.is.bottom()&&(e.bottom-o.height<=o.top?(h.debug(""Bottom fixed rail has reached top of container""),h.setInitialPosition()):e.bottom>=r.bottom?(h.debug(""Bottom fixed rail has reached bottom of container""),h.bindBottom()):c&&(h.set.scroll(l),h.save.lastScroll(e.top),h.save.elementScroll(l))):h.is.bottom()&&(e.top<=o.top?(h.debug(""Jumped from bottom fixed to top fixed, most likely used home/end button""),h.setInitialPosition()):v.pushing?h.is.bound()&&e.bottom<=r.bottom&&(h.debug(""Fixing bottom attached element to bottom of browser.""),h.fixBottom()):h.is.bound()&&e.top<=r.bottom-o.height&&(h.debug(""Fixing bottom attached element to top of browser.""),h.fixTop())))},bindTop:function(){h.debug(""Binding element to top of parent container""),h.remove.offset(),k.css({left:"""",top:"""",marginBottom:""""}).removeClass(b.fixed).removeClass(b.bottom).addClass(b.bound).addClass(b.top),v.onTop.call(E),v.onUnstick.call(E)},bindBottom:function(){h.debug(""Binding element to bottom of parent container""),h.remove.offset(),k.css({left:"""",top:""""}).removeClass(b.fixed).removeClass(b.top).addClass(b.bound).addClass(b.bottom),v.onBottom.call(E),v.onUnstick.call(E)},setInitialPosition:function(){h.debug(""Returning to initial position""),h.unfix(),h.unbind()},fixTop:function(){h.debug(""Fixing element to top of page""),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:"""",marginBottom:""""}).removeClass(b.bound).removeClass(b.bottom).addClass(b.fixed).addClass(b.top),v.onStick.call(E)},fixBottom:function(){h.debug(""Sticking element to bottom of page""),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:"""",marginBottom:""""}).removeClass(b.bound).removeClass(b.top).addClass(b.fixed).addClass(b.bottom),v.onStick.call(E)},unbind:function(){h.is.bound()&&(h.debug(""Removing container bound position on element""),h.remove.offset(),k.removeClass(b.bound).removeClass(b.top).removeClass(b.bottom))},unfix:function(){h.is.fixed()&&(h.debug(""Removing fixed position on element""),h.remove.offset(),k.removeClass(b.fixed).removeClass(b.top).removeClass(b.bottom),v.onUnstick.call(E))},reset:function(){h.debug(""Resetting elements position""),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset(),h.remove.lastScroll()},resetCSS:function(){k.css({width:"""",height:""""}),r.css({height:""""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,v.name+"":""),h.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,v.name+"":""),h.verbose.apply(console,arguments)))},error:function(){v.silent||(h.error=Function.prototype.bind.call(console.error,console,v.name+"":""),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"""",Element:E,""Execution Time"":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var t=v.name+"":"",n=0;l=!1,clearTimeout(h.performance.timer),e.each(c,function(e,t){n+=t[""Execution Time""]}),t+="" ""+n+""ms"",s&&(t+="" '""+s+""'""),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+"": ""+t[""Execution Time""]+""ms"")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=A;return n=n||f,o=E||o,""string""==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i&&(s=c[o],!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(A===i&&h.initialize(),h.invoke(u)):(A!==i&&A.invoke(""destroy""),h.initialize())}),a!==i?a:this},e.fn.sticky.settings={name:""Sticky"",namespace:""sticky"",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:""Sticky element must be inside a relative container"",visible:""Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production."",method:""The method you called is not defined."",invalidContext:""Context specified does not exist"",elementSize:""Sticky element is larger than its container, cannot create sticky.""},className:{bound:""bound"",fixed:""fixed"",supported:""native"",top:""top"",bottom:""bottom""}}}(jQuery,window,document),function(e,t,n,i){""use strict"";t=""undefined""!=typeof t&&t.Math==Math?t:""undefined""!=typeof self&&self.Math==Math?self:Function(""return this"")(),e.fn.tab=function(o){var a,r=e(e.isFunction(this)?t:this),s=r.selector||"""",l=(new Date).getTime(),c=[],u=arguments[0],d=""string""==typeof u,f=[].slice.call(arguments,1),m=!1;return r.each(function(){var g,p,h,v,b,y,x=e.isPlainObject(o)?e.extend(!0,{},e.fn.tab.settings,o):e.extend({},e.fn.tab.settings),C=x.className,w=x.metadata,k=x.selector,S=x.error,T="".""+x.namespace,A=""module-""+x.namespace,R=e(this),E={},P=!0,F=0,O=this,D=R.data(A);b={initialize:function(){b.debug(""Initializing tab menu item"",R),b.fix.callbacks(),b.determineTabs(),b.debug(""Determining tabs"",x.context,p),x.auto&&b.set.auto(),b.bind.events(),x.history&&!m&&(b.initializeHistory(),m=!0),b.instantiate()},instantiate:function(){b.verbose(""Storing instance of module"",b),D=b,R.data(A,b)},destroy:function(){b.debug(""Destroying tabs"",R),R.removeData(A).off(T)},bind:{events:function(){e.isWindow(O)||(b.debug(""Attaching tab activation events to element"",R),R.on(""click""+T,b.event.click))}},determineTabs:function(){var t;""parent""===x.context?(R.closest(k.ui).length>0?(t=R.closest(k.ui),b.verbose(""Using closest UI element as parent"",t)):t=R,g=t.parent(),b.verbose(""Determined parent element for creating context"",g)):x.context?(g=e(x.context),b.verbose(""Using selector for tab context"",x.context,g)):g=e(""body""),x.childrenOnly?(p=g.children(k.tabs),b.debug(""Searching tab context children for tabs"",g,p)):(p=g.find(k.tabs),b.debug(""Searching tab context for tabs"",g,p))},fix:{callbacks:function(){e.isPlainObject(o)&&(o.onTabLoad||o.onTabInit)&&(o.onTabLoad&&(o.onLoad=o.onTabLoad,delete o.onTabLoad,b.error(S.legacyLoad,o.onLoad)),o.onTabInit&&(o.onFirstLoad=o.onTabInit,delete o.onTabInit,b.error(S.legacyInit,o.onFirstLoad)),x=e.extend(!0,{},e.fn.tab.settings,o))}},initializeHistory:function(){if(b.debug(""Initializing page state""),e.address===i)return b.error(S.state),!1;if(""state""==x.historyType){if(b.debug(""Using HTML5 to manage state""),x.path===!1)return b.error(S.path),!1;e.address.history(!0).state(x.path)}e.address.bind(""change"",b.event.history.change)},event:{click:function(t){var n=e(this).data(w.tab);n!==i?(x.history?(b.verbose(""Updating page state"",t),e.address.value(n)):(b.verbose(""Changing tab"",t),b.changeTab(n)),t.preventDefault()):b.debug(""No tab specified"")},history:{change:function(t){var n=t.pathNames.join(""/"")||b.get.initialPath(),o=x.templates.determineTitle(n)||!1;b.performance.display(),b.debug(""History change event"",n,t),y=t,n!==i&&b.changeTab(n),o&&e.address.title(o)}}},refresh:function(){h&&(b.debug(""Refreshing tab"",h),b.changeTab(h))},cache:{read:function(e){return e!==i&&E[e]},add:function(e,t){e=e||h,b.debug(""Adding cached content for"",e),E[e]=t},remove:function(e){e=e||h,b.debug(""Removing cached content for"",e),delete E[e]}},set:{auto:function(){var t=""string""==typeof x.path?x.path.replace(/\/$/,"""")+""/{$tab}"":""/{$tab}"";b.verbose(""Setting up automatic tab retrieval from server"",t),e.isPlainObject(x.apiSettings)?x.apiSettings.url=t:x.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e),n=t.hasClass(C.loading);n||(b.verbose(""Setting loading state for"",t),t.addClass(C.loading).siblings(p).removeClass(C.active+"" ""+C.loading),t.length>0&&x.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&x.ignoreFirstLoad&&P,a=x.auto||e.isPlainObject(x.apiSettings),r=a&&!o?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(r),e.each(r,function(t,i){var s,l,c,u,d=r.slice(0,t+1),f=b.utilities.arrayToPath(d),m=b.is.tab(f),p=t+1==r.length,k=b.get.tabElement(f);if(b.verbose(""Looking for tab"",i),m){if(b.verbose(""Tab was found"",i),h=f,v=b.utilities.filterArray(r,d),p?u=!0:(l=r.slice(0,t+2),c=b.utilities.arrayToPath(l),u=!b.is.tab(c),u&&b.verbose(""Tab parameters found"",l)),u&&a)return o?(b.debug(""Ignoring remote content on first tab load"",f),P=!1,b.cache.add(n,k.html()),b.activate.all(f),x.onFirstLoad.call(k[0],f,v,y),x.onLoad.call(k[0],f,v,y)):(b.activate.navigation(f),b.fetch.content(f,n)),!1;b.debug(""Opened local tab"",f),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug(""First time tab loaded calling tab init""),x.onFirstLoad.call(k[0],f,v,y)),x.onLoad.call(k[0],f,v,y)}else{if(n.search(""/"")!=-1||""""===n)return b.error(S.missingTab,R,g,f),!1;if(s=e(""#""+n+', a[name=""'+n+'""]'),f=s.closest(""[data-tab]"").data(w.tab),k=b.get.tabElement(f),s&&s.length>0&&f)return b.debug(""Anchor link used, opening parent tab"",k,s),k.hasClass(C.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug(""First time tab loaded calling tab init""),x.onFirstLoad.call(k[0],f,v,y)),x.onLoad.call(k[0],f,v,y),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;i!==!1&&(b.debug(""Forcing scroll to an in-page link in a hidden tab"",i,t),e(n).scrollTop(i))},update:{content:function(t,n,o){var a=b.get.tabElement(t),r=a[0];o=o!==i?o:x.evaluateScripts,""string""==typeof x.cacheType&&""dom""==x.cacheType.toLowerCase()&&""string""!=typeof n?a.empty().append(e(n).clone(!0)):o?(b.debug(""Updating HTML and evaluating inline scripts"",t,n),a.html(n)):(b.debug(""Updating HTML"",t,n),r.innerHTML=n)}},fetch:{content:function(t,n){var o,a,r=b.get.tabElement(t),s={dataType:""html"",encodeParameters:!1,on:""now"",cache:x.alwaysRefresh,headers:{""X-Remote"":!0},onSuccess:function(e){""response""==x.cacheType&&b.cache.add(n,e),b.update.content(t,e),t==h?(b.debug(""Content loaded"",t),b.activate.tab(t)):b.debug(""Content loaded in background"",t),x.onFirstLoad.call(r[0],t,v,y),x.onLoad.call(r[0],t,v,y),""string""==typeof x.cacheType&&""dom""==x.cacheType.toLowerCase()&&r.children().length>0?setTimeout(function(){var e=r.children().clone(!0);e=e.not(""script""),b.cache.add(n,e)},0):b.cache.add(n,r.html())},urlData:{tab:n}},l=r.api(""get request"")||!1,c=l&&""pending""===l.state();n=n||t,a=b.cache.read(n),x.cache&&a?(b.activate.tab(t),b.debug(""Adding cached content"",n),""once""==x.evaluateScripts?b.update.content(t,a,!1):b.update.content(t,a),x.onLoad.call(r[0],t,v,y)):c?(b.set.loading(t),b.debug(""Content is already loading"",n)):e.api!==i?(o=e.extend(!0,{},x.apiSettings,s),b.debug(""Retrieving remote content"",n,o),b.set.loading(t),r.api(o)):b.error(S.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=""siblings""==x.deactivate?t.siblings(p):p.not(t),i=t.hasClass(C.active);b.verbose(""Showing tab content for"",t),i||(t.addClass(C.active),n.removeClass(C.active+"" ""+C.loading),t.length>0&&x.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=""siblings""==x.deactivate?t.siblings(r):r.not(t),i=t.hasClass(C.active);b.verbose(""Activating tab navigation for"",t,e),i||(t.addClass(C.active),n.removeClass(C.active+"" ""+C.loading))}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){r.removeClass(C.active)},tabs:function(){p.removeClass(C.active+"" ""+C.loading)}},is:{tab:function(e){return e!==i&&b.get.tabElement(e).length>0}},get:{initialPath:function(){return r.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=r.filter(""[data-""+w.tab+'^=""'+e+'/""]').eq(0),n=t.data(w.tab)||!1;if(n){if(b.debug(""Found default tab"",n),F<x.maxDepth)return F++,b.get.defaultPath(n);b.error(S.recursion)}else b.debug(""No default tabs found for"",e,p);return F=0,e},navElement:function(e){return e=e||h,r.filter(""[data-""+w.tab+'=""'+e+'""]')},tabElement:function(e){var t,n,i,o;return e=e||h,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=p.filter(""[data-""+w.tab+'=""'+e+'""]'),n=p.filter(""[data-""+w.tab+'=""'+o+'""]'),t.length>0?t:n},tab:function(){return h}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return e.inArray(t,n)==-1})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return e===i&&(e=h),""string""==typeof e?e.split(""/""):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join(""/"")}},setting:function(t,n){if(b.debug(""Changing setting"",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];e.isPlainObject(x[t])?e.extend(!0,x[t],n):x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,x.name+"":""),b.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,x.name+"":""),b.verbose.apply(console,arguments)))},error:function(){x.silent||(b.error=Function.prototype.bind.call(console.error,console,x.name+"":""),b.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"""",Element:O,""Execution Time"":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=x.name+"":"",n=0;l=!1,clearTimeout(b.performance.timer),e.each(c,function(e,t){n+=t[""Execution Time""]}),t+="" ""+n+""ms"",s&&(t+="" '""+s+""'""),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+"": ""+t[""Execution Time""]+""ms"")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var r,s,l,c=D;return n=n||f,o=O||o,""string""==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var a=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=r)c=c[a];else{if(c[a]!==i)return s=c[a],!1;if(!e.isPlainObject(c[o])||n==r)return c[o]!==i?(s=c[o],!1):(b.error(S.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(a)?a.push(l):a!==i?a=[a,l]:l!==i&&(a=l),s}},d?(D===i&&b.initialize(),b.invoke(u)):(D!==i&&D.invoke(""destroy""),b.initialize())}),a!==i?a:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:""Tab"",namespace:""tab"",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:""hash"",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:""siblings"",alwaysRefresh:!1,cache:!0,cacheType:""response"",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:""once"",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:""You attempted to load content without API module"",method:""The method you called is not defined"",missingTab:""Activated tab cannot be found. Tabs are case-sensitive."",noContent:""The tab you specified is missing a content url."",path:""History enabled, but no path was specified"",recursion:""Max recursive depth reached"",legacyInit:""onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code."","
"userAgent.match(/Mobile/gi)!=null&&navigator.userAgent.match(/iPad/gi)!=null&&navigator.userAgent.match(/AppleWebKit/gi)!=null)};this._doOnFocusChanged=null;this._doOnAccess=null;if(typeof(e)==""object""&&e!=null&&e.tagName==null){g=e.skin;if(e.content!=null){this.conf.content=e.content}if(e.contentHTML!=null){this.conf.contentHTML=e.contentHTML}if(e.iconsPath!=null){this.conf.iconsPath=e.iconsPath}if(e.toolbar!=null){this.conf.toolbar=window.dhx4.s2b(e.toolbar)}if(e.onFocusChanged!=null){this._doOnFocusChanged=e.onFocusChanged}if(e.onAccess!=null){this._doOnAccess=e.onAccess}e=e.parent}this.conf.skin=(g||window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxeditor"")||""dhx_skyblue"");if(typeof(e)==""string""){e=document.getElementById(e)}this.base=e;this.base.className+="" dhxeditor_""+this.conf.skin;while(this.base.childNodes.length>0){this.base.removeChild(this.base.childNodes[0])}var h=(window.dhx4.isIE?this.base.currentStyle.position:window.getComputedStyle(this.base,null).getPropertyValue(""position""));if(!(h==""relative""||h==""absolute"")){this.base.style.position=""relative""}this.cell=new dhtmlXEditorCell(window.dhx4.newId(),this);this.base.appendChild(this.cell.cell);this.cBlock=document.createElement(""DIV"");this.cBlock.className=""dhxcont_content_blocker"";this.cBlock.style.display=""none"";this.base.appendChild(this.cBlock);this.editor=document.createElement(""IFRAME"");this.editor.className=""dhxeditor_mainiframe"";this.editor.frameBorder=0;if(window.dhx4.isOpera){this.editor.scrolling=""yes""}this.setSizes();var a=this.editor;if(typeof(window.addEventListener)!=""undefined""){a.onload=function(){for(var l=0;l<c.conf.evs.length;l++){a.contentWindow.addEventListener(c.conf.evs[l],c._ev,false)}}}else{a.onreadystatechange=function(l){if(typeof(a.readyState)!=""undefined""&&a.readyState==""complete""){try{for(var m=0;m<c.conf.evs.length;m++){a.contentWindow.document.body.attachEvent(""on""+c.conf.evs[m],c._ev)}}catch(n){}}}}this._ev=function(m){m=m||event;var l=m.type;if(c.conf.iOSfix==true&&l==""touchend""){c.editor.contentWindow.focus();return}c.callEvent(""onAccess"",[l,m]);if(typeof(c._doOnAccess)==""function""){c._doOnAccess(l,m)}else{if(typeof(c._doOnAccess)==""string""&&typeof(window[c._doOnAccess])==""function""){window[c._doOnAccess](l,m)}}};this._focus=function(){if(window.dhx4.isIE){this.editor.contentWindow.document.body.focus()}else{this.editor.contentWindow.focus()}};this.cell.attachObject(this.editor);this.edWin=this.editor.contentWindow;this.edDoc=this.edWin.document;this._prepareContent=function(n,q){var m="""";if(n===true&&this.getContent!=null){m=this.getContent()}var l=this.editor.contentWindow.document;l.open(""text/html"",""replace"");if(window.dhx4.isOpera){l.write(""<html><head><style> html, body { overflow:auto;-webkit-overflow-scrolling: touch; padding:0px; height:100%; margin:0px; font-family:Tahoma; font-size:12px; background-color:#ffffff;} </style></head><body ""+(q!==true?""contenteditable='true'"":"""")+"" tabindex='0'></body></html>"")}else{if(window.dhx4.isKHTML){l.write(""<html><head><style> html {overflow-x: auto;-webkit-overflow-scrolling: touch; overflow-y: auto;} body { overflow: auto; overflow-y: scroll;} html,body { padding:0px; height:100%; margin:0px; font-family:Tahoma; font-size:12px; background-color:#ffffff;} </style></head><body ""+(q!==true?""contenteditable='true'"":"""")+"" tabindex='0'></body></html>"")}else{if(window.dhx4.isIE){l.write(""<html><head><style> html {overflow-y: auto;} body {overflow-y: scroll;-webkit-overflow-scrolling: touch;} html,body { overflow-x: auto; padding:0px; height:100%; margin:0px; font-family:Tahoma; font-size:12px; background-color: #ffffff; outline: none; } </style></head><body ""+(q!==true?""contenteditable='true'"":"""")+"" tabindex='0'></body></html>"")}else{l.write(""<html><head><style> html,body { overflow-x: auto; overflow-y:-webkit-overflow-scrolling: touch; scroll; padding:0px; height:100%; margin:0px; font-family:Tahoma; font-size:12px; background-color:#ffffff;} </style></head><body ""+(q!==true?""contenteditable='true'"":"""")+"" tabindex='0'></body></html>"")}}}l.close();if(window.dhx4.isIE){l.contentEditable=(q!==true)}else{l.designMode=(q!==true?""On"":""Off"")}if(window.dhx4.isFF){try{l.execCommand(""useCSS"",false,true)}catch(o){}}if(n===true&&this.setContent!=null){this.setContent(m)}};this._prepareContent();this._doOnResize=function(){window.clearTimeout(c.conf.resizeTM);c.conf.resizeTM=window.setTimeout(function(){if(c.setSizes){c.setSizes()}},c.conf.resizeTMTime)};this._runCommand=function(n,q){if(this.conf.roMode===true){return}if(arguments.length<2){q=null}if(window.dhx4.isIE){this.edWin.focus()}try{var m=this.editor.contentWindow.document;m.execCommand(n,false,q)}catch(o){}if(window.dhx4.isIE){this.edWin.focus();var l=this;window.setTimeout(function(){l.edWin.focus();l=null},1)}};this.applyBold=function(){this._runCommand(""Bold"")};this.applyItalic=function(){this._runCommand(""Italic"")};this.applyUnderscore=function(){this._runCommand(""Underline"")};this.clearFormatting=function(){this._runCommand(""RemoveFormat"");var l=this.getContent();l=l.replace(/<\/?h\d>/gi,"""");this.setContent(l)};this._doOnClick=function(n){var m=n||window.event;var l=m.target||m.srcElement;c._showInfo(l)};this._doOnMouseDown=function(n){var m=n||window.event;var l=m.target||m.srcElement;c._showInfo(l)};this._doOnKeyUp=function(o){var n=o||window.event;var l=n.keyCode;var m=n.target||n.srcElement;if({37:1,38:1,39:1,40:1,13:1}[l]==1){c._showInfo(m)}};this._getParentByTag=function(l,n){n=n.toLowerCase();var m=l;do{if(n==""""||m.nodeName.toLowerCase()==n){return m}}while(m=m.parentNode);return l};this._isStyleProperty=function(m,q,l,o){q=q.toLowerCase();var r=m;do{if((r.nodeName.toLowerCase()==q)&&(r.style[l]==o)){return true}}while(r=r.parentNode);return false};this._setStyleProperty=function(l,o){this.style[o]=false;var m=this._getParentByTag(l,o);if(m&&(m.tagName.toLowerCase()==o)){this.style[o]=true}if(o==""del""&&this._getParentByTag(l,""strike"")&&this._getParentByTag(l,""strike"").tagName.toLowerCase()==""strike""){this.style.del=true}};this._showInfo=function(m){var m=(this._getSelectionBounds().end)?this._getSelectionBounds().end:m;if(!m||!this._setStyleProperty){return}try{if(this.edWin.getComputedStyle){var l=this.edWin.getComputedStyle(m,null);var n=((l.getPropertyValue(""font-weight"")==401)?700:l.getPropertyValue(""font-weight""));this.style={fontStyle:l.getPropertyValue(""font-style""),fontSize:l.getPropertyValue(""font-size""),textDecoration:l.getPropertyValue(""text-decoration""),fontWeight:n,fontFamily:l.getPropertyValue(""font-family""),textAlign:l.getPropertyValue(""text-align"")};if(window.dhx4.isKHTML){this.style.fontStyle=l.getPropertyValue(""font-style"");this.style.vAlign=l.getPropertyValue(""vertical-align"");this.style.del=this._isStyleProperty(m,""span"",""textDecoration"",""line-through"");this.style.u=this._isStyleProperty(m,""span"",""textDecoration"",""underline"")}}else{var l=m.currentStyle;this.style={fontStyle:l.fontStyle,fontSize:l.fontSize,textDecoration:l.textDecoration,fontWeight:l.fontWeight,fontFamily:l.fontFamily,textAlign:l.textAlign}}this._setStyleProperty(m,""h1"");this._setStyleProperty(m,""h2"");this._setStyleProperty(m,""h3"");this._setStyleProperty(m,""h4"");if(!window.dhx4.isKHTML){this._setStyleProperty(m,""del"");this._setStyleProperty(m,""sub"");this._setStyleProperty(m,""sup"");this._setStyleProperty(m,""u"")}this.callEvent(""onFocusChanged"",[this.style,l])}catch(o){return null}};this._getSelectionBounds=function(){var q,n,s,m;if(this.edWin.getSelection){var r=this.edWin.getSelection();if(window.dhx4.isEdge&&r.rangeCount==0){return{root:null,start:null,end:null}}q=r.getRangeAt(r.rangeCount-1);s=q.startContainer;m=q.endContainer;n=q.commonAncestorContainer;if(s.nodeName==""#text""){n=n.parentNode}if(s.nodeName==""#text""){s=s.parentNode}if(s.nodeName.toLowerCase()==""body""){s=s.firstChild}if(m.nodeName==""#text""){m=m.parentNode}if(m.nodeName.toLowerCase()==""body""){m=m.lastChild}if(s==m){n=s}return{root:n,start:s,end:m}}else{if(this.edWin.document.selection){q=this.edDoc.selection.createRange();if(!q.duplicate){return null}n=q.parentElement();var o=q.duplicate();var l=q.duplicate();o.collapse(true);l.moveToElementText(o.parentElement());l.setEndPoint(""EndToStart"",o);s=o.parentElement();o=q.duplicate();l=q.duplicate();l.collapse(false);o.moveToElementText(l.parentElement());o.setEndPoint(""StartToEnd"",l);m=l.parentElement();if(s.nodeName.toLowerCase()==""body""){s=s.firstChild}if(m.nodeName.toLowerCase()==""body""){m=m.lastChild}if(s==m){n=s}return{root:n,start:s,end:m}}}return null};this.getContent=function(){if(!this.edDoc.body){return""""}else{if(window.dhx4.isFF){return this.editor.contentWindow.document.body.innerHTML.replace(/<\/{0,}br\/{0,}>\s{0,}$/gi,"""")}if(window.dhx4.isIE&&this.edDoc.body.innerText.length==0){return""""}return this.edDoc.body.innerHTML}};this.setContent=function(n){n=n||"""";if(this.edDoc.body){var m=false;if(window.dhx4.isFF){var l=navigator.userAgent.match(/Firefox\/(\d*)/);m=(l!=null&&l[1]<28)}if(m){if(typeof(this.conf.ffTest)==""undefined""){this.editor.contentWindow.document.body.innerHTML="""";this._runCommand(""InsertHTML"",""test"");this.conf.ffTest=(this.editor.contentWindow.document.body.innerHTML.length>0)}if(this.conf.ffTest){this.editor.contentWindow.document.body.innerHTML=n}else{this.editor.contentWindow.document.body.innerHTML="""";if(n.length==0){n="" ""}this._runCommand(""InsertHTML"",n)}}else{this.editor.contentWindow.document.body.innerHTML=n}this.callEvent(""onContentSet"",[])}else{if(!this.conf.firstLoadEv){this.conf.firstLoadEv=true;this.conf.firstLoadData=n;this._onFirstLoad=function(){c.setContent(c.conf.firstLoadData);if(typeof(window.addEventListener)==""function""){c.edWin.removeEventListener(""load"",c._onFirstLoad,false)}else{c.edWin.detachEvent(""onload"",c._onFirstLoad)}c.conf.firstLoadData=null;c.conf.firstLoadEv=false;c._onFirstLoad=null};if(typeof(window.addEventListener)==""function""){this.edWin.addEventListener(""load"",this._onFirstLoad,false)}else{this.edWin.attachEvent(""onload"",this._onFirstLoad)}}}};this.setContentHTML=function(l){window.dhx4.ajax.get(l,function(m){if(m.xmlDoc.responseText!=null){c.setContent(m.xmlDoc.responseText)}})};window.dhx4._eventable(this);this.attachEvent(""onFocusChanged"",function(l){if(typeof(this._doOnFocusChanged)==""function""){this._doOnFocusChanged(l)}else{if(typeof(this._doOnFocusChanged)==""string""&&typeof(window[this._doOnFocusChanged])==""function""){window[this._doOnFocusChanged](l)}}});if(typeof(window.addEventListener)==""function""){window.addEventListener(""resize"",this._doOnResize,false);this.edDoc.addEventListener(""click"",this._doOnClick,false);this.edDoc.addEventListener(""keyup"",this._doOnKeyUp,false);if(window.dhx4.isOpera){this.edDoc.addEventListener(""mousedown"",this._doOnMouseDown,false)}}else{window.attachEvent(""onresize"",this._doOnResize);this.edDoc.attachEvent(""onclick"",this._doOnClick);this.edDoc.attachEvent(""onkeyup"",this._doOnKeyUp)}this.unload=function(){if(typeof(window.addEventListener)==""function""){window.removeEventListener(""resize"",this._doOnResize,false);this.edDoc.removeEventListener(""click"",this._doOnClick,false);this.edDoc.removeEventListener(""keyup"",this._doOnKeyUp,false);if(window.dhx4.isOpera){this.edDoc.removeEventListener(""mousedown"",this._doOnMouseDown,false)}for(var l=0;l<c.conf.evs.length;l++){a.contentWindow.removeEventListener(c.conf.evs[l],c._ev,false)}if(this.tb!=null&&this.conf.iOSfix==true){this.tb.cont.removeEventListener(""touchend"",this._doOnIOSFix,false);this._doOnIOSFix=null}}else{window.detachEvent(""onresize"",this._doOnResize,false);this.edDoc.detachEvent(""onclick"",this._doOnClick);this.edDoc.detachEvent(""onkeyup"",this._doOnKeyUp);for(var l=0;l<c.conf.evs.length;l++){a.contentWindow.document.body.detachEvent(""on""+c.conf.evs[l],c._ev)}}this._doOnAccess=null;this._doOnFocusChanged=null;if(typeof(window.addEventListener)==""function""){this.editor.onload=null}else{this.editor.onreadystatechange=null}this.editor.parentNode.removeChild(this.editor);this.editor=null;this.edDoc=null;this.edWin=null;this.cell._unload();this.cell=null;this.tb=null;window.dhx4._eventable(this,""clear"");this.cBlock.parentNode.removeChild(this.cBlock);this.cBlock=null;this.base.className=String(this.base.className).replace(new RegExp(""\\s{0,}dhxeditor_""+this.conf.skin),"""");while(this.base.childNodes.length>0){this.base.removeChild(this.base.childNodes[0])}this.base=null;this._doOnClick=null;this._doOnKeyUp=null;this._doOnMouseDown=null;this._ev=null;this._focus=null;this._prepareContent=null;this._doOnResize=null;this.setIconsPath=null;this.init=null;this.setSizes=null;this._runCommand=null;this.applyBold=null;this.applyItalic=null;this.applyUnderscore=null;this.clearFormatting=null;this._showInfo=null;this._getSelectionBounds=null;this.getContent=null;this.setContent=null;this.setContentHTML=null;this.setReadonly=null;this.isReadonly=null;this.unload=null;c=a=null};if(this.conf.toolbar==true&&typeof(this.attachToolbar)==""function""&&typeof(window.dhtmlXToolbarObject)==""function""){this.attachToolbar(this.conf.iconsPath);if(this.conf.iOSfix==true){this._doOnIOSFix=function(){c.editor.contentWindow.focus()};this.tb.cont.addEventListener(""touchend"",this._doOnIOSFix,false)}}this.setIconsPath=function(l){this.conf.iconsPath=l};if(this.conf.content.length>0){this.setContent(this.conf.content);this.conf.content=""""}else{if(this.conf.contentHTML.length>0){this.setContentHTML(this.conf.contentHTML);this.conf.contentHTML=""""}}return this}dhtmlXEditor.prototype.setSizes=function(){this.cell._setSize(0,0,this.base.clientWidth,this.base.clientHeight);if(this.editor!=null){this.editor.style.left=""5px"";this.editor.style.width=this.base.clientWidth-5+""px""}};dhtmlXEditor.prototype.setReadonly=function(a){this.conf.roMode=(a===true);this._prepareContent(true,this.conf.roMode);this.cBlock.style.display=(this.conf.roMode?"""":""none"")};dhtmlXEditor.prototype.isReadonly=function(a){return(this.conf.roMode||false)};dhtmlXEditor.prototype.setSkin=function(a){this.base.className=String(this.base.className).replace(new RegExp(""dhxeditor_""+this.conf.skin),""dhxeditor_""+a);this.conf.skin=this.cell.conf.skin=a;if(this.tb){this.cell.detachToolbar(a);this.tb=null;this.attachToolbar()}this.setSizes()};window.dhtmlXEditorCell=function(e,a){dhtmlXCellObject.apply(this,[e,""_editor""]);var c=this;this.editor=a;this.conf.skin=this.editor.conf.skin;this.attachEvent(""_onCellUnload"",function(){this._stbUnload();this.editor=null;c=null});this._stbInit();return this};dhtmlXEditorCell.prototype=new dhtmlXCellObject();dhtmlXEditorCell.prototype._stbInit=function(){var l=this;var h=document.createElement(""DIV"");h.className=""dhx_cell_stb"";this.cell.insertBefore(h,this.cell.childNodes[this.conf.idx.cont]);h.onselectstart=function(a){a=a||event;a.cancelBubble=true;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false};var g={bold:""applyBold"",italic:""applyItalic"",underline:""applyUnderscore"",clearformat:""clearFormatting""};for(var e in g){var c=document.createElement(""A"");c.href=""javascript:void(0);"";c.tabIndex=-1;h.appendChild(c);c.onmousedown=c.onclick=function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false};var m=document.createElement(""DIV"");m.className=""dhx_cell_stb_button btn_""+e;m._actv=e.charAt(0);m._cmd=g[e];c.appendChild(m);m.onclick=function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false};m.onmousedown=function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}l.editor[this._cmd]();l.editor.callEvent(""onToolbarClick"",[this._actv])};m=c=null}h=null;this._stbUnload=function(){var a=this.cell.childNodes[this.conf.idx.stb];a.onselectstart=null;while(a.childNodes.length>0){a.lastChild.onmousedown=a.lastChild.onclick=null;a.lastChild.firstChild.onmousedown=a.lastChild.firstChild.onclick=null;a.lastChild.firstChild._actv=a.lastChild.firstChild._cmd=null;a.lastChild.removeChild(a.lastChild.firstChild);a.removeChild(a.lastChild)}a.parentNode.removeChild(a);a=l=null;this.conf.idx_data.stb=this.conf.ofs_nodes.t._getStbHeight=null;delete this.conf.ofs_nodes.t._getStbHeight;delete this.conf.idx_data.stb;this._updateIdx()};this.conf.ofs_nodes.t._getStbHeight=""func"";this.conf.idx_data.stb=""dhx_cell_stb"";this._updateIdx()};dhtmlXEditorCell.prototype._stbHide=function(){this.cell.childNodes[this.conf.idx.stb].style.display=""none""};dhtmlXEditorCell.prototype._getStbHeight=function(){return this.cell.childNodes[this.conf.idx.stb].offsetHeight};dhtmlXCellObject.prototype.attachEditor=function(a){this.callEvent(""_onBeforeContentAttach"",[""editor""]);var e=document.createElement(""DIV"");e.style.width=""100%"";e.style.height=""100%"";e.style.position=""relative"";e.style.overflow=""hidden"";this._attachObject(e);if(!(typeof(a)==""object""&&a!=null)){a={}}a.parent=e;this.dataType=""editor"";this.dataObj=new dhtmlXEditor(a);e=null;a.parent=null;a=null;if(typeof(window.dhtmlXPortalCell)!=""undefined""&&this instanceof window.dhtmlXPortalCell){if(this.portal.conf.editor_ev==null){var g=this.portal.attachEvent(""onBeforeDrag"",function(h){if(this.cdata[h].dataType==""editor""){this.cdata[h].conf.editor_cont=this.cdata[h].dataObj.getContent()}return true});var c=this.portal.attachEvent(""onDrop"",function(h){if(this.cdata[h].dataType==""editor""){this.cdata[h].dataObj.setContent(this.cdata[h].conf.editor_cont);this.cdata[h].dataObj._prepareContent(true);this.cdata[h].conf.editor_cont=null}});this.portal.conf.editor_ev=[g,c]}this.conf.editor_ev=this.attachEvent(""_onBeforeContentDetach"",function(){this.detachEvent(this.conf.editor_ev);this.conf.editor_ev=null;if(this instanceof window.dhtmlXPortalCell){var l=false;for(var h in this.portal.cdata){if(this.portal.cdata[h]!=this&&this.portal.cdata[h].dataType==""editor""){l=true}}if(l==false){for(var m=0;m<this.portal.conf.editor_ev.length;m++){this.portal.detachEvent(this.portal.conf.editor_ev[m])}this.portal.conf.editor_ev=null}}})}this.callEvent(""_onContentAttach"",[]);return this.dataObj};dhtmlXEditor.prototype.attachToolbar=function(c){if(this.tb!=null){return}if(c!=null){this.conf.iconsPath=c}this.cell._stbHide();this.tb=this.cell.attachToolbar({icons_path:this.conf.iconsPath+""/dhxeditor_""+String(this.conf.skin).replace(/^dhx_/,"""")+""/"",skin:this.conf.skin});this.setSizes();this._availFonts=new Array(""Arial"",""Arial Narrow"",""Comic Sans MS"",""Courier"",""Georgia"",""Impact"",""Tahoma"",""Times New Roman"",""Verdana"");this._initFont=this._availFonts[0];this._xmlFonts="""";for(var l=0;l<this._availFonts.length;l++){var g=String(this._availFonts[l]).replace(/\s/g,""_"");this._xmlFonts+='<item type=""button"" id=""applyFontFamily:'+g+'""><itemText><![CDATA[<img src=""'+this.tb.imagePath+""font_""+String(g).toLowerCase()+'.gif"" border=""0"" style=""/*margin-top:1px;margin-bottom:1px;*/width:110px;height:16px;"">]]></itemText></item>'}this._availSizes={""1"":""8pt"",""2"":""10pt"",""3"":""12pt"",""4"":""14pt"",""5"":""18pt"",""6"":""24pt"",""7"":""36pt""};this._xmlSizes="""";for(var e in this._availSizes){this._xmlSizes+='<item type=""button"" id=""applyFontSize:'+e+"":""+this._availSizes[e]+'"" text=""'+this._availSizes[e]+'""/>'}this.tbXML='<toolbar><item id=""applyH1"" type=""buttonTwoState"" img=""h1.gif"" imgdis=""h4_dis.gif"" title=""H1""/><item id=""applyH2"" type=""buttonTwoState"" img=""h2.gif"" imgdis=""h4_dis.gif"" title=""H2""/><item id=""applyH3"" type=""buttonTwoState"" img=""h3.gif"" imgdis=""h4_dis.gif"" title=""H3""/><item id=""applyH4"" type=""buttonTwoState"" img=""h4.gif"" imgdis=""h4_dis.gif"" title=""H4""/><item id=""separ01"" type=""separator""/><item id=""applyBold"" type=""buttonTwoState"" img=""bold.gif"" imgdis=""bold_dis.gif"" title=""Bold Text""/><item id=""applyItalic"" type=""buttonTwoState"" img=""italic.gif"" imgdis=""italic_dis.gif"" title=""Italic Text""/><item id=""applyUnderscore"" type=""buttonTwoState"" img=""underline.gif"" imgdis=""underline_dis.gif"" title=""Underscore Text""/><item id=""applyStrikethrough"" type=""buttonTwoState"" img=""strike.gif"" imgdis=""strike_dis.gif"" title=""Strikethrough Text""/><item id=""separ02"" type=""separator""/><item id=""alignLeft"" type=""buttonTwoState"" img=""align_left.gif"" imgdis=""align_left_dis.gif"" title=""Left Alignment""/><item id=""alignCenter"" type=""buttonTwoState"" img=""align_center.gif"" imgdis=""align_center_dis.gif"" title=""Center Alignment""/><item id=""alignRight"" type=""buttonTwoState"" img=""align_right.gif"" imgdis=""align_right_dis.gif"" title=""Right Alignment""/><item id=""alignJustify"" type=""buttonTwoState"" img=""align_justify.gif"" title=""Justified Alignment""/><item id=""separ03"" type=""separator""/><item id=""applySub"" type=""buttonTwoState"" img=""script_sub.gif"" imgdis=""script_sub.gif"" title=""Subscript""/><item id=""applySuper"" type=""buttonTwoState"" img=""script_super.gif"" imgdis=""script_super_dis.gif"" title=""Superscript""/><item id=""separ04"" type=""separator""/><item id=""createNumList"" type=""button"" img=""list_number.gif"" imgdis=""list_number_dis.gif"" title=""Number List""/><item id=""createBulList"" type=""button"" img=""list_bullet.gif"" imgdis=""list_bullet_dis.gif"" title=""Bullet List""/><item id=""separ05"" type=""separator""/><item id=""increaseIndent"" type=""button"" img=""indent_inc.gif"" imgdis=""indent_inc_dis.gif"" title=""Increase Indent""/><item id=""decreaseIndent"" type=""button"" img=""indent_dec.gif"" imgdis=""indent_dec_dis.gif"" title=""Decrease Indent""/><item id=""separ06"" type=""separator""/><item id=""clearFormatting"" type=""button"" img=""clear.gif"" title=""Clear Formatting""/></toolbar>';this.tb.loadStruct(this.tbXML);this._checkAlign=function(a){this.tb.setItemState(""alignCenter"",false);this.tb.setItemState(""alignRight"",false);this.tb.setItemState(""alignJustify"",false);this.tb.setItemState(""alignLeft"",false);if(a){this.tb.setItemState(a,true)}};this._checkH=function(a){this.tb.setItemState(""applyH1"",false);this.tb.setItemState(""applyH2"",false);this.tb.setItemState(""applyH3"",false);this.tb.setItemState(""applyH4"",false);if(a){this.tb.setItemState(a,true)}};this._doOnFocusChanged=function(n){if(!n.h1&&!n.h2&&!n.h3&&!n.h4){var a=(String(n.fontWeight).search(/bold/i)!=-1)||(Number(n.fontWeight)>=700);this.tb.setItemState(""applyBold"",a)}else{this.tb.setItemState(""applyBold"",false)}var m=""alignLeft"";if(String(n.textAlign).search(/center/)!=-1){m=""alignCenter""}if(String(n.textAlign).search(/right/)!=-1){m=""alignRight""}if(String(n.textAlign).search(/justify/)!=-1){m=""alignJustify""}this.tb.setItemState(m,true);this._checkAlign(m);this.tb.setItemState(""applyH1"",n.h1);this.tb.setItemState(""applyH2"",n.h2);this.tb.setItemState(""applyH3"",n.h3);this.tb.setItemState(""applyH4"",n.h4);if(window._KHTMLrv){n.sub=(n.vAlign==""sub"");n.sup=(n.vAlign==""super"")}this.tb.setItemState(""applyItalic"",(n.fontStyle==""italic""));this.tb.setItemState(""applyStrikethrough"",n.del);this.tb.setItemState(""applySub"",n.sub);this.tb.setItemState(""applySuper"",n.sup);this.tb.setItemState(""applyUnderscore"",n.u)};this._doOnToolbarClick=function(m){var a=String(m).split("":"");if(this[a[0]]!=null){if(typeof(this[a[0]])==""function""){this[a[0]](a[1]);this.callEvent(""onToolbarClick"",[m])}}};this._doOnStateChange=function(m,a){this[m]();switch(m){case""alignLeft"":case""alignCenter"":case""alignRight"":case""alignJustify"":this._checkAlign(m);break;case""applyH1"":case""applyH2"":case""applyH3"":case""applyH4"":this._checkH(m);break}this.callEvent(""onToolbarClick"",[m])};this._doOnBeforeStateChange=function(m,a){if((m==""alignLeft""||m==""alignCenter""||m==""alignRight""||m==""alignJustify"")&&a==true){return false}return true};var h=this;this.tb.attachEvent(""onClick"",function(a){h._doOnToolbarClick(a)});this.tb.attachEvent(""onStateChange"",function(m,a){h._doOnStateChange(m,a)});this.tb.attachEvent(""onBeforeStateChange"",function(m,a){return h._doOnBeforeStateChange(m,a)});this.applyBold=function(){this._runCommand(""Bold"")};this.applyItalic=function(){this._runCommand(""Italic"")};this.applyUnderscore=function(){this._runCommand(""Underline"")};this.applyStrikethrough=function(){this._runCommand(""StrikeThrough"")};this.alignLeft=function(){this._runCommand(""JustifyLeft"")};this.alignRight=function(){this._runCommand(""JustifyRight"")};this.alignCenter=function(){this._runCommand(""JustifyCenter"")};this.alignJustify=function(){this._runCommand(""JustifyFull"")};this.applySub=function(){this._runCommand(""Subscript"")};this.applySuper=function(){this._runCommand(""Superscript"")};this.applyH1=function(){this._runCommand(""FormatBlock"",""<H1>"")};this.applyH2=function(){this._runCommand(""FormatBlock"",""<H2>"")};this.applyH3=function(){this._runCommand(""FormatBlock"",""<H3>"")};this.applyH4=function(){this._runCommand(""FormatBlock"",""<H4>"")};this.createNumList=function(){this._runCommand(""InsertOrderedList"")};this.createBulList=function(){this._runCommand(""InsertUnorderedList"")};this.increaseIndent=function(){this._runCommand(""Indent"")};this.decreaseIndent=function(){this._runCommand(""Outdent"")};this.clearFormatting=function(){this._runCommand(""RemoveFormat"");this.tb.setItemState(""applyBold"",false);this.tb.setItemState(""applyItalic"",false);this.tb.setItemState(""applyStrikethrough"",false);this.tb.setItemState(""applySub"",false);this.tb.setItemState(""applySuper"",false);this.tb.setItemState(""applyUnderscore"",false);var a=this.getContent();a=a.replace(/<\/?h\d>/gi,"""");this.setContent(a)}};dhtmlx.Group={_init:function(){dhtmlx.assert(this.data,""DataStore required for grouping"");this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(function(){if(this._settings.group){this.group(this._settings.group,false)}},this));this.attachEvent(""onBeforeRender"",dhtmlx.bind(function(a){if(this._settings.sort){a.block();a.sort(this._settings.sort);a.unblock()}},this));this.data.attachEvent(""onClearAll"",dhtmlx.bind(function(){this.data._not_grouped_order=this.data._not_grouped_pull=null},this));this.attachEvent(""onBeforeSort"",dhtmlx.bind(function(){this._settings.sort=null},this))},_init_group_data_event:function(c,a){c.attachEvent(""onClearAll"",dhtmlx.bind(function(){this.ungroup(false);this.block();this.clearAll();this.unblock()},a))},sum:function(c,a){c=dhtmlx.Template.setter(c);a=a||this.data;var e=0;a.each(function(g){e+=c(g)*1});return e},min:function(e,c){e=dhtmlx.Template.setter(e);c=c||this.data;var a=Infinity;c.each(function(g){if(e(g)*1<a){a=e(g)*1}});return a*1},max:function(e,c){e=dhtmlx.Template.setter(e);c=c||this.data;var a=-Infinity;c.each(function(g){if(e(g)*1>a){a=e(g)*1}});return a},_split_data_by:function(l){var n=function(r,q){r=dhtmlx.Template.setter(r);return r(q[0])};var o=dhtmlx.Template.setter(l.by);if(!l.map[o]){l.map[o]=[o,n]}var e={};var m=[];this.data.each(function(q){var r=o(q);if(!e[r]){m.push({id:r});e[r]=dhtmlx.toArray()}e[r].push(q)});for(var a in l.map){var h=(l.map[a][1]||n);if(typeof h!=""function""){h=this[h]}for(var g=0;g<m.length;g++){m[g][a]=h.call(this,l.map[a][0],e[m[g].id])}}this.data._not_grouped_order=this.data.order;this.data._not_grouped_pull=this.data.pull;this.data.order=dhtmlx.toArray();this.data.pull={};for(var g=0;g<m.length;g++){var c=this.data.id(m[g]);this.data.pull[c]=m[g];this.data.order.push(c)}this.callEvent(""onStoreUpdated"",[])},group:function(a,c){this.ungroup(false);this._split_data_by(a);if(c!==false){this.data.callEvent(""onStoreUpdated"",[])}},ungroup:function(a){if(this.data._not_grouped_order){this.data.order=this.data._not_grouped_order;this.data.pull=this.data._not_grouped_pull;this.data._not_grouped_pull=this.data._not_grouped_order=null}if(a!==false){this.data.callEvent(""onStoreUpdated"",[])}},group_setter:function(a){dhtmlx.assert(typeof a==""object"",""Incorrect group value"");dhtmlx.assert(a.by,""group.by is mandatory"");dhtmlx.assert(a.map,""group.map is mandatory"");return a},sort_setter:function(a){if(typeof a!=""object""){a={by:a}}this._mergeSettings(a,{as:""string"",dir:""asc""});return a}};dhtmlx.Date={Locale:{month_full:[""January"",""February"",""March"",""April"",""May"",""June"",""July"",""August"",""September"",""October"",""November"",""December""],month_short:[""Jan"",""Feb"",""Mar"",""Apr"",""May"",""Jun"",""Jul"",""Aug"",""Sep"",""Oct"",""Nov"",""Dec""],day_full:[""Sunday"",""Monday"",""Tuesday"",""Wednesday"",""Thursday"",""Friday"",""Saturday""],day_short:[""Sun"",""Mon"",""Tue"",""Wed"",""Thu"",""Fri"",""Sat""]},date_part:function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},time_part:function(a){return(a.valueOf()/1000-a.getTimezoneOffset()*60)%86400},week_start:function(c){var a=c.getDay();if(this.config.start_on_monday){if(a===0){a=6}else{a--}}return this.date_part(this.add(c,-1*a,""day""))},month_start:function(a){a.setDate(1);return this.date_part(a)},year_start:function(a){a.setMonth(0);return this.month_start(a)},day_start:function(a){return this.date_part(a)},add:function(c,e,g){var a=new Date(c.valueOf());switch(g){case""day"":a.setDate(a.getDate()+e);break;case""week"":a.setDate(a.getDate()+7*e);break;case""month"":a.setMonth(a.getMonth()+e);break;case""year"":a.setYear(a.getFullYear()+e);break;case""hour"":a.setHours(a.getHours()+e);break;case""minute"":a.setMinutes(a.getMinutes()+e);break;default:return dhtmlx.Date[""add_""+g](c,e,g)}return a},to_fixed:function(a){if(a<10){return""0""+a}return a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(c,a){c=c.replace(/%[a-zA-Z]/g,function(e){switch(e){case""%d"":return'""+dhtmlx.Date.to_fixed(date.getDate())+""';case""%m"":return'""+dhtmlx.Date.to_fixed((date.getMonth()+1))+""';case""%j"":return'""+date.getDate()+""';case""%n"":return'""+(date.getMonth()+1)+""';case""%y"":return'""+dhtmlx.Date.to_fixed(date.getFullYear()%100)+""';case""%Y"":return'""+date.getFullYear()+""';case""%D"":return'""+dhtmlx.Date.Locale.day_short[date.getDay()]+""';case""%l"":return'""+dhtmlx.Date.Locale.day_full[date.getDay()]+""';case""%M"":return'""+dhtmlx.Date.Locale.month_short[date.getMonth()]+""';case""%F"":return'""+dhtmlx.Date.Locale.month_full[date.getMonth()]+""';case""%h"":return'""+dhtmlx.Date.to_fixed((date.getHours()+11)%12+1)+""';case""%g"":return'""+((date.getHours()+11)%12+1)+""';case""%G"":return'""+date.getHours()+""';case""%H"":return'""+dhtmlx.Date.to_fixed(date.getHours())+""';case""%i"":return'""+dhtmlx.Date.to_fixed(date.getMinutes())+""';case""%a"":return'""+(date.getHours()>11?""pm"":""am"")+""';case""%A"":return'""+(date.getHours()>11?""PM"":""AM"")+""';case""%s"":return'""+dhtmlx.Date.to_fixed(date.getSeconds())+""';case""%W"":return'""+dhtmlx.Date.to_fixed(dhtmlx.Date.getISOWeek(date))+""';default:return e}});if(a){c=c.replace(/date\.get/g,""date.getUTC"")}return new Function(""date"",'return ""'+c+'"";')},str_to_date:function(h,e){var l=""var temp=date.split(/[^0-9a-zA-Z]+/g);"";var a=h.match(/%[a-zA-Z]/g);for(var c=0;c<a.length;c++){switch(a[c]){case""%j"":case""%d"":l+=""set[2]=temp[""+c+""]||1;"";break;case""%n"":case""%m"":l+=""set[1]=(temp[""+c+""]||1)-1;"";break;case""%y"":l+=""set[0]=temp[""+c+""]*1+(temp[""+c+""]>50?1900:2000);"";break;case""%g"":case""%G"":case""%h"":case""%H"":l+=""set[3]=temp[""+c+""]||0;"";break;case""%i"":l+=""set[4]=temp[""+c+""]||0;"";break;case""%Y"":l+=""set[0]=temp[""+c+""]||0;"";break;case""%a"":case""%A"":l+=""set[3]=set[3]%12+((temp[""+c+""]||'').toLowerCase()=='am'?0:12);"";break;case""%s"":l+=""set[5]=temp[""+c+""]||0;"";break}}var g=""set[0],set[1],set[2],set[3],set[4],set[5]"";if(e){g="" Date.UTC(""+g+"")""}return new Function(""date"",""var set=[0,0,1,0,0,0]; ""+l+"" return new Date(""+g+"");"")},getISOWeek:function(e){if(!e){return false}var c=e.getDay();if(c===0){c=7}var g=new Date(e.valueOf());g.setDate(e.getDate()+(4-c));var a=g.getFullYear();var l=Math.floor((g.getTime()-new Date(a,0,1).getTime())/86400000);var h=1+Math.floor(l/7);return h},getUTCISOWeek:function(a){return this.getISOWeek(a)}};dhtmlx.math={};dhtmlx.math._toHex=[""0"",""1"",""2"",""3"",""4"",""5"",""6"",""7"",""8"",""9"",""A"",""B"",""C"",""D"",""E"",""F""];dhtmlx.math.toHex=function(c,a){c=parseInt(c,10);str="""";while(c>0){str=this._toHex[c%16]+str;c=Math.floor(c/16)}while(str.length<a){str=""0""+str}return str};dhtmlx.math.hexToDec=function(a){return parseInt(a,16)};dhtmlx.math.toRgb=function(c){var h,e,a,l;if(typeof(c)!=""string""){h=c[0];e=c[1];a=c[2]}else{if(c.indexOf(""rgb"")!=-1){l=c.substr(c.indexOf(""("")+1,c.lastIndexOf("")"")-c.indexOf(""("")-1).split("","");h=l[0];e=l[1];a=l[2]}else{if(c.substr(0,1)==""#""){c=c.substr(1)}h=this.hexToDec(c.substr(0,2));e=this.hexToDec(c.substr(2,2));a=this.hexToDec(c.substr(4,2))}}h=(parseInt(h,10)||0);e=(parseInt(e,10)||0);a=(parseInt(a,10)||0);if(h<0||h>255){h=0}if(e<0||e>255){e=0}if(a<0||a>255){a=0}return[h,e,a]};dhtmlx.math.hsvToRgb=function(m,y,w){var l,o,e,c,x,a,n,u;l=Math.floor((m/60))%6;o=m/60-l;e=w*(1-y);c=w*(1-o*y);x=w*(1-(1-o)*y);a=0;n=0;u=0;switch(l){case 0:a=w;n=x;u=e;break;case 1:a=c;n=w;u=e;break;case 2:a=e;n=w;u=x;break;case 3:a=e;n=c;u=w;break;case 4:a=x;n=e;u=w;break;case 5:a=w;n=e;u=c;break}a=Math.floor(a*255);n=Math.floor(n*255);u=Math.floor(u*255);return[a,n,u]};dhtmlx.math.rgbToHsv=function(c,n,o){var l,e,q,a,u,x,m,w;l=c/255;e=n/255;q=o/255;var a=Math.min(l,e,q);var u=Math.max(l,e,q);m=0;x=u==0?0:(1-a/u);w=u;if(u==a){m=0}else{if(u==l&&e>=q){m=60*(e-q)/(u-a)+0}else{if(u==l&&e<q){m=60*(e-q)/(u-a)+360}else{if(u==e){m=60*(q-l)/(u-a)+120}else{if(u==q){m=60*(l-e)/(u-a)+240}}}}}return[m,x,w]};if(!dhtmlx.presets){dhtmlx.presets={}}dhtmlx.presets.chart={simple:{item:{borderColor:""#ffffff"",color:""#2b7100"",shadow:false,borderWidth:2},line:{color:""#8ecf03"",width:2}},plot:{color:""#1293f8"",item:{borderColor:""#636363"",borderWidth:1,color:""#ffffff"",type:""r"",shadow:false},line:{color:""#1293f8"",width:2}},diamond:{color:""#b64040"",item:{borderColor:""#b64040"",color:""#b64040"",type:""d"",radius:3,shadow:true},line:{color:""#ff9000"",width:2}},point:{color:""#fe5916"",disableLines:true,fill:false,disableItems:false,item:{color:""#feb916"",borderColor:""#fe5916"",radius:2,borderWidth:1,type:""r""},alpha:1},line:{line:{color:""#3399ff"",width:2},item:{color:""#ffffff"",borderColor:""#3399ff"",radius:2,borderWidth:2,type:""d""},fill:false,disableItems:false,disableLines:false,alpha:1},area:{fill:""#3399ff"",line:{color:""#3399ff"",width:1},disableItems:true,alpha:0.2,disableLines:false},round:{item:{radius:3,borderColor:""#3f83ff"",borderWidth:1,color:""#3f83ff"",type:""r"",shadow:false,alpha:0.6}},square:{item:{radius:3,borderColor:""#447900"",borderWidth:2,color:""#69ba00"",type:""s"",shadow:false,alpha:1}},column:{color:""RAINBOW"",gradient:false,width:45,radius:0,alpha:1,border:true},stick:{width:5,gradient:false,color:""#67b5c9"",radius:2,alpha:1,border:false},alpha:{color:""#b9a8f9"",width:70,gradient:""falling"",radius:0,alpha:0.5,border:true}};dhtmlx.ui.Map=function(a){this.name=""Map"";this._id=""map_""+dhtmlx.uid();this._key=a;this._map=[]};dhtmlx.ui.Map.prototype={addRect:function(e,c,a){this._createMapArea(e,""RECT"",c,a)},addPoly:function(e,c,a){this._createMapArea(e,""POLY"",c,a)},_createMapArea:function(h,c,g,e){var a="""";if(arguments.length==4){a=""userdata='""+e+""'""}this._map.push(""<area ""+this._key+""='""+h+""' shape='""+c+""' coords='""+g.join()+""' ""+a+""></area>"")},addSector:function(a,q,o,m,h,e,g,l){var n=[];n.push(m);n.push(Math.floor(h*g));for(var c=q;c<o;c+=Math.PI/18){n.push(Math.floor(m+e*Math.cos(c)));n.push(Math.floor((h+e*Math.sin(c))*g))}n.push(Math.floor(m+e*Math.cos(o)));n.push(Math.floor((h+e*Math.sin(o))*g));n.push(m);n.push(Math.floor(h*g));return this.addPoly(a,n,l)},render:function(a){var e=dhtmlx.html.create(""DIV"");e.style.cssText=""position:absolute; width:100%; height:100%; top:0px; left:0px;"";a.appendChild(e);var c=dhtmlx._isIE?"""":""src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='"";e.innerHTML=""<map id='""+this._id+""' name='""+this._id+""'>""+this._map.join(""\n"")+""</map><img ""+c+"" class='dhx_map_img' usemap='#""+this._id+""' onmousedown='return false;'>"";a._htmlmap=e;this._map=[]}};dhtmlx.chart={};dhtmlx.chart.scatter={pvt_render_scatter:function(q,l,o,n,m,a){if(!this._settings.xValue){return dhtmlx.log(""warning"",""Undefined propery: xValue"")}var e=this._getLimits();var h=this._getLimits(""h"",""xValue"");if(!m){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj,""axis_x"")}if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj,""axis_y"")}this._drawYAxis(this.canvases.y.getCanvas(),l,o,n,e.min,e.max);this._drawHXAxis(this.canvases.x.getCanvas(),l,o,n,h.min,h.max)}e={min:this._settings.yAxis.start,max:this._settings.yAxis.end};h={min:this._settings.xAxis.start,max:this._settings.xAxis.end};var c=this._getScatterParams(q,l,o,n,h,e);this._mapStart=o;for(var g=0;g<l.length;g++){this._drawScatterItem(q,a,o,n,c,h,e,l[g],m)}},_getScatterParams:function(a,g,e,c,m,l){var h={};h.totalHeight=c.y-e.y;h.totalWidth=c.x-e.x;this._calcScatterUnit(h,m.min,m.max,h.totalWidth,""X"");this._calcScatterUnit(h,l.min,l.max,h.totalHeight,""Y"");return h},_drawScatterItem:function(r,a,o,n,e,h,g,l,m){var c=this._calculateScatterItemPosition(e,n,o,h,l,""X"");var q=this._calculateScatterItemPosition(e,o,n,g,l,""Y"");this._drawItem(r,c,q,l,this._settings.label.call(this,l),m,a)},_calculateScatterItemPosition:function(e,n,m,a,h,c){var q=this._settings[c==""X""?""xValue"":""value""].call(this,h);var g=e[""valueFactor""+c];var r=(parseFloat(q||0)-a.min)*g;var o=e[""unit""+c];var l=m[c.toLowerCase()]-(c==""X""?(-1):1)*Math.floor(o*r);if(r<0){l=m[c.toLowerCase()]}if(q>a.max){l=n[c.toLowerCase()]}if(q<a.min){l=m[c.toLowerCase()]}return l},_calcScatterUnit:function(l,e,a,c,g){var h=this._getRelativeValue(e,a);g=(g||"""");l[""relValue""+g]=h[0];l[""valueFactor""+g]=h[1];l[""unit""+g]=(l[""relValue""+g]?c/l[""relValue""+g]:10)}};dhtmlx.chart.radar={pvt_render_radar:function(c,g,a,l,e,h){this._renderRadarChart(c,g,a,l,e,h)},_renderRadarChart:function(u,h,r,q,o,a){if(!h.length){return}var m=this._getPieParameters(r,q);var n=(this._settings.radius?this._settings.radius:m.radius);var c=(this._settings.x?this._settings.x:m.x);var s=(this._settings.y?this._settings.y:m.y);var e=[];for(var g=0;g<h.length;g++){e.push(1)}var l=this._getRatios(e,h.length);this._mapStart=r;if(!o){this._drawRadarAxises(l,c,s,n,h)}this._drawRadarData(u,l,c,s,n,h,o,a)},_drawRadarData:function(C,s,n,m,h,N,D,M){var A,v,L,J,E,I,g,e,F,K,H,u,c,w,q,o,a,r,l;L=this._settings;E=L.yAxis.start;I=L.yAxis.end;l=this._getRelativeValue(E,I);u=l[0];r=(u?h/u:h/2);a=l[1];c=-Math.PI/2;A=v=c;F=[];e=0;for(J=0;J<N.length;J++){if(!o){w=L.value(N[J]);q=(parseFloat(w||0)-E)*a}else{q=o}K=Math.floor(r*q);w=L.value((J!=(N.length-1))?N[J+1]:N[0]);o=(parseFloat(w||0)-E)*a;H=Math.floor(r*o);A=v;v=((J!=(N.length-1))?(c+s[J]-0.0001):c);g=(e||this._getPositionByAngle(A,n,m,K));e=this._getPositionByAngle(v,n,m,H);F.push(g)}if(L.fill){this._fillRadarChart(C,F,N)}if(!L.disableLines){this._strokeRadarChart(C,F,N)}if(!L.disableItems){this._drawRadarItemMarkers(C,F,N,D,M)}F=null},_drawRadarItemMarkers:function(a,e,h,g,l){for(var c=0;c<e.length;c++){this._drawItem(a,e[c].x,e[c].y,h[c],this._settings.label.call(this,h),g,l)}},_fillRadarChart:function(a,g,l){var h,e;a.globalAlpha=this._settings.alpha.call(this,{});a.beginPath();for(var c=0;c<g.length;c++){a.fillStyle=this._settings.fill.call(this,l[c]);h=g[c];e=(g[c+1]||g[0]);if(!c){a.moveTo(h.x,h.y)}a.lineTo(e.x,e.y)}a.fill();a.globalAlpha=1},_strokeRadarChart:function(a,g,l){var h,e;for(var c=0;c<g.length;c++){h=g[c];e=(g[c+1]||g[0]);this._drawLine(a,h.x,h.y,e.x,e.y,this._settings.line.color.call(this,l[c]),this._settings.line.width)}},_drawRadarAxises:function(A,v,u,m,O){var a=this._settings.yAxis;var g=this._settings.xAxis;var n=a.start;var l=a.end;var q=a.step;var C={};var N=this._configYAxis;if(typeof N.step==""undefined""||typeof N.start==""undefined""||typeof N.end==""undefined""){var r=this._getLimits();C=this._calculateScale(r.min,r.max);n=C.start;l=C.end;q=C.step;a.end=l;a.start=n}var I=[];var L,K,D;var M=0;var e=m*q/(l-n);var s,w;if(q<1){s=Math.min(this._log10(q),(n<=0?0:this._log10(n)));w=Math.pow(10,-s)}var J=[];if(!this.canvases.scale){this.canvases.scale=new dhtmlx.ui.Canvas(this._obj,""radar_scale"")}var H=this.canvases.scale.getCanvas();for(L=l;L>=n;L-=q){if(C.fixNum){L=parseFloat((new Number(L)).toFixed(C.fixNum))}I.push(Math.floor(M*e)+0.5);if(w){L=Math.round(L*w)/w}var o=u-m+I[I.length-1];this.canvases.scale.renderTextAt(""middle"",""left"",v,o,a.template(L.toString()),""dhx_axis_item_y dhx_radar"");if(A.length<2){this._drawScaleSector(H,""arc"",v,u,m-I[I.length-1],-Math.PI/2,3*Math.PI/2,L);return}var h=-Math.PI/2;var F=h;var E;for(K=0;K<A.length;K++){if(L==l){J.push(F)}E=h+A[K]-0.0001;this._drawScaleSector(H,(N.lineShape||""line""),v,u,m-I[I.length-1],F,E,L,K,O[L]);F=E}M++}for(L=0;L<J.length;L++){D=this._getPositionByAngle(J[L],v,u,m);if(g.lines.call(this,O[L],L)){this._drawLine(H,v,u,D.x,D.y,(g?g.lineColor.call(this,O[L]):""#cfcfcf""),1)}this._drawRadarScaleLabel(H,v,u,m,J[L],(g?g.template.call(this,O[L]):""&nbsp;""))}},_drawScaleSector:function(s,l,r,o,h,c,a,g,e){var q,n;if(h<0){return false}q=this._getPositionByAngle(c,r,o,h);n=this._getPositionByAngle(a,r,o,h);var m=this._settings.yAxis;if(m.bg){s.beginPath();s.moveTo(r,o);if(l==""arc""){s.arc(r,o,h,c,a,false)}else{s.lineTo(q.x,q.y);s.lineTo(n.x,n.y)}s.fillStyle=m.bg(g,e);s.moveTo(r,o);s.fill();s.closePath()}if(m.lines.call(this,g)){s.lineWidth=1;s.beginPath();if(l==""arc""){s.arc(r,o,h,c,a,false)}else{s.moveTo(q.x,q.y);s.lineTo(n.x,n.y)}s.strokeStyle=m.lineColor.call(this,g);s.stroke()}},_drawRadarScaleLabel:function(w,o,m,c,n,u){var v=this.canvases.scale.renderText(0,0,u,""dhx_axis_radar_title"",1);var e=v.scrollWidth;var s=v.offsetHeight;var q=0.001;var l=this._getPositionByAngle(n,o,m,c+5);var h=0,g=0;if(n<0||n>Math.PI){g=-s}if(n>Math.PI/2){h=-e}if(Math.abs(n+Math.PI/2)<q||Math.abs(n-Math.PI/2)<q){h=-e/2}else{if(Math.abs(n)<q||Math.abs(n-Math.PI)<q){g=-s/2}}v.style.top=l.y+g+""px"";v.style.left=l.x+h+""px"";v.style.width=e+""px"";v.style.whiteSpace=""nowrap""}};dhtmlx.chart.area={pvt_render_area:function(n,E,h,g,o,A){var r,y,s,q,l,x,m,D,C,w,v,c,u,a,e;x=this._calculateLineParams(n,E,h,g,o);y=this._settings;q=(y.eventRadius||Math.floor(x.cellWidth/2));if(E.length){m=[];w=(!y.offset?h.x:h.x+x.cellWidth*0.5);for(s=0;s<E.length;s++){l=E[s];C=this._getPointY(l,h,g,x);u=w+x.cellWidth*s;if(C){a=(typeof C==""object""?C.y0:C);if(s&&this._settings.fixOverflow){D=this._getPointY(E[s-1],h,g,x);if(D.out&&D.out==C.out){continue}v=x.cellWidth*(s-1)-0.5+w;c=(typeof D==""object""?D.y0:D);if(D.out){e=(D.out==""min""?g.y:h.y);m.push([this._calcOverflowX(v,u,c,a,e),e])}if(C.out){e=(C.out==""min""?g.y:h.y);m.push([this._calcOverflowX(v,u,c,a,e),e]);if(s==(E.length-1)&&e==h.y){m.push([u,h.y])}}}if(!C.out){m.push([u,a]);A.addRect(l.id,[u-q-h.x,a-q-h.y,u+q-h.x,a+q-h.y],o)}if(!y.yAxis){r=(!y.offset&&(s==E.length-1)?""left"":""center"");this.canvases[o].renderTextAt(false,r,u,a-y.labelOffset,y.label(l))}}}if(m.length){m.push([u,g.y]);m.push([m[0][0],g.y])}n.globalAlpha=this._settings.alpha.call(this,E[0]);n.fillStyle=this._settings.color.call(this,E[0]);n.beginPath();this._path(n,m);n.fill();if(y.border){n.lineWidth=y.borderWidth||1;if(y.borderColor){n.strokeStyle=y.borderColor.call(this,E[0])}else{this._setBorderStyles(n,n.fillStyle)}n.beginPath();this._path(n,m);n.stroke()}n.lineWidth=1;n.globalAlpha=1}}};dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(o,F,c,a,q,D){var I,H,u,C,w,v,h,s,l,A,n,g,e,m;A=this._calculateLineParams(o,F,c,a,q);C=this._settings;s=(C.eventRadius||Math.floor(A.cellWidth/2));if(F.length){n=[];m=[];g=(!C.offset?c.x:c.x+A.cellWidth*0.5);var E=function(x,J){return q?(F[x].$startY?J-a.y+F[x].$startY:0):J};var r=function(y,L,K){var J=(K.y-L.y)/(K.x-L.x);return J*y+L.y-J*L.x};for(w=0;w<F.length;w++){l=F[w];if(!w){e=E(w,a.y);n.push([g,e])}else{g+=A.cellWidth}e=E(w,this._getPointY(l,c,a,A));m.push((isNaN(e)&&!w)?(F[w].$startY||a.y):e);if(e){n.push([g,e]);D.addRect(l.id,[g-s-c.x,e-s-c.y,g+s-c.x,e+s-c.y],q);if(!C.yAxis){u=(!C.offset&&h?""left"":""center"");this.canvases[q].renderTextAt(false,u,g,e-C.labelOffset,C.label(l))}}}n.push([g,E(w-1,a.y)]);if(q){for(w=F.length-2;w>0;w--){g-=A.cellWidth;e=F[w].$startY;if(e){n.push([g,e])}}}n.push([n[0][0],n[0][1]]);o.globalAlpha=this._settings.alpha.call(this,F[0]);o.fillStyle=this._settings.color.call(this,F[0]);o.beginPath();this._path(o,n);o.fill();for(w=0;w<F.length;w++){e=m[w];if(!e){if(w==F.length-1){e=F[w].$startY}for(v=w+1;v<F.length;v++){if(m[v]){I={x:c.x,y:m[0]};H={x:(c.x+A.cellWidth*v),y:m[v]};e=r(c.x+A.cellWidth*w,I,H);break}}}F[w].$startY=e}}}};dhtmlx.chart.spline={pvt_render_spline:function(o,H,g,e,q,F){var E,s,n,r,D,m,l,w,v,u,h,c,a;D=this._calculateLineParams(o,H,g,e,q);E=this._settings;this._mapStart=g;n=[];if(H.length){w=(E.offset?g.x+D.cellWidth*0.5:g.x);for(s=0;s<H.length;s++){h=this._getPointY(H[s],g,e,D);if(h){l=((!s)?w:D.cellWidth*s-0.5+w);n.push({x:l,y:h,index:s})}}m=this._getSplineParameters(n);for(s=0;s<n.length;s++){v=n[s].x;c=n[s].y;if(s<n.length-1){u=n[s+1].x;a=n[s+1].y;for(r=v;r<u;r++){var C=this._getSplineYPoint(r,v,s,m.a,m.b,m.c,m.d);if(C<g.y){C=g.y}if(C>e.y){C=e.y}var A=this._getSplineYPoint(r+1,v,s,m.a,m.b,m.c,m.d);if(A<g.y){A=g.y}if(A>e.y){A=e.y}this._drawLine(o,r,C,r+1,A,E.line.color(H[s]),E.line.width)}this._drawLine(o,u-1,this._getSplineYPoint(r,v,s,m.a,m.b,m.c,m.d),u,a,E.line.color(H[s]),E.line.width)}this._drawItem(o,v,c,H[n[s].index],E.label(H[n[s].index]),q,F)}}},_getSplineParameters:function(y){var l,C,A,D,x,w,r,q,o=[],g=[],e=y.length;for(l=0;l<e-1;l++){o[l]=y[l+1].x-y[l].x;g[l]=(y[l+1].y-y[l].y)/o[l]}C=[];A=[];C[0]=0;C[1]=2*(o[0]+o[1]);A[0]=0;A[1]=6*(g[1]-g[0]);for(l=2;l<e-1;l++){C[l]=2*(o[l-1]+o[l])-o[l-1]*o[l-1]/C[l-1];A[l]=6*(g[l]-g[l-1])-o[l-1]*A[l-1]/C[l-1]}D=[];D[e-1]=D[0]=0;for(l=e-2;l>=1;l--){D[l]=(A[l]-o[l]*D[l+1])/C[l]}x=[];w=[];r=[];q=[];for(l=0;l<e-1;l++){x[l]=y[l].y;w[l]=-o[l]*D[l+1]/6-o[l]*D[l]/3+(y[l+1].y-y[l].y)/o[l];r[l]=D[l]/2;q[l]=(D[l+1]-D[l])/(6*o[l])}return{a:x,b:w,c:r,d:q}},_getSplineYPoint:function(g,l,m,h,e,o,n){return h[m]+(g-l)*(e[m]+(g-l)*(o[m]+(g-l)*n[m]))}};dhtmlx.chart.barH={pvt_render_barH:function(y,M,l,h,A,L){var q,s,D,C,a,F,n,J,u,K,c,w,m,H,v,g,x,r,I,e,o;D=(h.y-l.y)/M.length;n=this._getLimits(""h"");J=n.max;u=n.min;g=h.x-l.x;o=!!this._settings.yAxis;if(!A){this._drawHScales(y,M,l,h,u,J,D)}if(o){J=parseFloat(this._settings.xAxis.end);u=parseFloat(this._settings.xAxis.start)}H=this._getRelativeValue(u,J);w=H[0];c=H[1];r=(w?g/w:10);if(!o){v=10;r=(w?(g-v)/w:10)}s=parseInt(this._settings.width,10);if((s*this._series.length+4)>D){s=D/this._series.length-4}q=Math.floor((D-s*this._series.length)/2);m=(typeof this._settings.radius!=""undefined""?parseInt(this._settings.radius,10):Math.round(s/5));K=false;a=this._settings.gradient;if(a&&typeof(a)!=""function""){K=a;a=false}else{if(a){a=y.createLinearGradient(l.x,l.y,h.x,l.y);this._settings.gradient(a)}}if(!o){this._drawLine(y,l.x-0.5,l.y,l.x-0.5,h.y,""#000000"",1)}for(F=0;F<M.length;F++){x=parseFloat(this._settings.value(M[F]||0));if(x>J){x=J}x-=u;x*=c;I=l.x;e=l.y+q+F*D+(s+1)*A;if((x<0&&this._settings.origin==""auto"")||(this._settings.xAxis&&x===0&&!(this._settings.origin!=""auto""&&this._settings.origin>u))){this.canvases[A].renderTextAt(""middle"",""right"",I+10,e+s/2+q,this._settings.label(M[F]));continue}if(x<0&&this._settings.origin!=""auto""&&this._settings.origin>u){x=0}if(!o){x+=v/r}C=a||this._settings.color.call(this,M[F]);if(this._settings.border){this._drawBarHBorder(y,I,e,s,u,m,r,x,C)}y.globalAlpha=this._settings.alpha.call(this,M[F]);var E=this._drawBarH(y,h,I,e,s,u,m,r,x,C,a,K);if(K!=false){this._drawBarHGradient(y,I,e,s,u,m,r,x,C,K)}y.globalAlpha=1;if(E[3]==e){this.canvases[A].renderTextAt(""middle"",""left"",E[0]-5,E[3]+Math.floor(s/2),this._settings.label(M[F]));L.addRect(M[F].id,[E[0]-l.x,E[3]-l.y,E[2]-l.x,E[3]+s-l.y],A)}else{this.canvases[A].renderTextAt(""middle"",false,E[2]+5,E[1]+Math.floor(s/2),this._settings.label(M[F]));L.addRect(M[F].id,[E[0]-l.x,e-l.y,E[2]-l.x,E[3]-l.y],A)}}},_setBarHPoints:function(w,g,u,x,m,v,s,l,h){var c=0;if(m>v*s){var r=(m-v*s)/m;c=-Math.asin(r)+Math.PI/2}w.moveTo(g,u+l);var e=g+v*s-m-(m?0:l);if(m<v*s){w.lineTo(e,u+l)}var q=u+m;if(m&&m>0){w.arc(e,q,m-l,-Math.PI/2+c,0,false)}var o=u+x-m-(m?0:l);var a=e+m-(m?l:0);w.lineTo(a,o);if(m&&m>0){w.arc(e,o,m-l,0,Math.PI/2-c,false)}var n=u+x-l;w.lineTo(g,n);if(!h){w.lineTo(g,u+l)}return[a,n]},_drawHScales:function(e,m,l,h,n,c,g){var a=0;if(this._settings.xAxis){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj)}a=this._drawHXAxis(this.canvases.x.getCanvas(),m,l,h,n,c)}if(this._settings.yAxis){if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj)}this._drawHYAxis(this.canvases.y.getCanvas(),m,l,h,g,a)}},_drawHYAxis:function(s,h,o,m,e,a){if(!this._settings.yAxis){return}var l;var c=parseInt((a?a:o.x),10)-0.5;var q=m.y+0.5;var n=o.y;this._drawLine(s,c,q,c,n,this._settings.yAxis.color,1);for(var g=0;g<h.length;g++){var r=((this._settings.origin!=""auto"")&&(this._settings.view==""barH"")&&(parseFloat(this._settings.value(h[g]))<this._settings.origin));l=n+e/2+g*e;this.canvases.y.renderTextAt(""middle"",(r?false:""left""),(r?c+5:c-5),l,this._settings.yAxis.template(h[g]),""dhx_axis_item_y"",(r?0:c-10));if(this._settings.yAxis.lines.call(this,h[g])){this._drawLine(s,o.x,l,m.x,l,this._settings.yAxis.lineColor.call(this,h[g]),1)}}this._drawLine(s,o.x+0.5,n+0.5,m.x,n+0.5,this._settings.yAxis.lineColor.call(this,{}),1);this._setYAxisTitle(o,m)},_drawHXAxis:function(A,s,x,w,e,o){var m;var h={};var n=this._settings.xAxis;if(!n){return}var y=w.y+0.5;var g=x.x-0.5;var a=w.x-0.5;var r=x.x;this._drawLine(A,g,y,a,y,n.color,1);if(n.step){m=parseFloat(n.step)}if(typeof this._configXAxis.step==""undefined""||typeof this._configXAxis.start==""undefined""||typeof this._configXAxis.end==""undefined""){h=this._calculateScale(e,o);e=h.start;o=h.end;m=h.step;this._settings.xAxis.end=o;this._settings.xAxis.start=e;this._settings.xAxis.step=m}if(m===0){return}var l=(a-g)*m/(o-e);var v=0;for(var q=e;q<=o;q+=m){if(h.fixNum){q=parseFloat((new Number(q)).toFixed(h.fixNum))}var u=Math.floor(g+v*l)+0.5;if(!(q==e&&this._settings.origin==""auto"")&&n.lines.call(this,q)){this._drawLine(A,u,y,u,x.y,this._settings.xAxis.lineColor.call(this,q),1)}if(q==this._settings.origin){r=u+1}this.canvases.x.renderTextAt(false,true,u,y+2,n.template(q.toString()),""dhx_axis_item_x"");v++}this.canvases.x.renderTextAt(true,false,g,w.y+this._settings.padding.bottom-3,this._settings.xAxis.title,""dhx_axis_title_x"",w.x-x.x);if(!n.lines.call(this,{})){this._drawLine(A,g,x.y-0.5,a,x.y-0.5,this._settings.xAxis.color,0.2)}return r},_correctBarHParams:function(n,h,e,l,m,o,g){var a=this._settings.yAxis;var c=h;if(!!a&&this._settings.origin!=""auto""&&(this._settings.origin>g)){h+=(this._settings.origin-g)*m;c=h;l=l-(this._settings.origin-g);if(l<0){l*=(-1);n.translate(h,e+o);n.rotate(Math.PI);h=0.5;e=0}h+=0.5}return{value:l,x0:h,y0:e,start:c}},_drawBarH:function(u,h,A,g,o,q,l,n,s,v,a,m){u.save();var r=this._correctBarHParams(u,A,g,s,n,o,q);u.fillStyle=v;u.beginPath();var w=this._setBarHPoints(u,r.x0,r.y0,o,l,n,r.value,(this._settings.border?1:0));if(a&&!m){u.lineTo(h.x,r.y0+(this._settings.border?1:0))}u.fill();u.restore();var e=r.y0;var c=(r.y0!=g?g:w[1]);var y=(r.y0!=g?(r.start-w[0]):r.start);var x=(r.y0!=g?r.start:w[0]);return[y,e,x,c]},_drawBarHBorder:function(o,c,m,q,h,g,n,l,e){o.save();var a=this._correctBarHParams(o,c,m,l,n,q,h);o.beginPath();this._setBorderStyles(o,e);o.globalAlpha=0.9;this._setBarHPoints(o,a.x0,a.y0,q,g,n,a.value,o.lineWidth/2,1);o.stroke();o.restore()},_drawBarHGradient:function(r,e,o,s,m,l,q,n,g,a){r.save();var c=this._correctBarHParams(r,e,o,n,q,s,m);var h=this._setBarGradient(r,c.x0,c.y0+s,c.x0+q*c.value,c.y0,a,g,""x"");r.fillStyle=h.gradient;r.beginPath();this._setBarHPoints(r,c.x0,c.y0+h.offset,s-h.offset*2,l,q,c.value,h.offset);r.fill();r.globalAlpha=1;r.restore()}};dhtmlx.assert(dhtmlx.chart.barH);dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(C,P,h,g,D,O){var N,v;var c;var w;var y=g.x-h.x;var n=!!this._settings.yAxis;var m=this._getStackedLimits(P);N=m.max;v=m.min;var F=Math.floor((g.y-h.y)/P.length);if(!D){this._drawHScales(C,P,h,g,v,N,F)}if(n){N=parseFloat(this._settings.xAxis.end);v=parseFloat(this._settings.xAxis.start)}var K=this._getRelativeValue(v,N);w=K[0];c=K[1];var s=(w?y/w:10);if(!n){var x=10;s=(w?(y-x)/w:10)}var u=parseInt(this._settings.width,10);if((u+4)>F){u=F-4}var o=(F-u)/2;var l=0;var q=false;var a=this._settings.gradient;if(a){q=true}if(!n){this._drawLine(C,h.x-0.5,h.y,h.x-0.5,g.y,""#000000"",1)}var M=0;var J=0;for(I=0;I<this._series.length;I++){if(I==D){J=M}if(this._series[I].view==""stackedBarH""){M++}}for(var I=0;I<P.length;I++){if(!J){P[I].$startX=h.x}var A=parseFloat(this._settings.value(P[I]||0));if(A>N){A=N}A-=v;A*=c;var L=h.x;var e=h.y+o+I*F;if(!J){P[I].$startX=L}else{L=P[I].$startX}if(A<0||(this._settings.yAxis&&A===0)){this.canvases.y.renderTextAt(""middle"",true,L+10,e+u/2,this._settings.label(P[I]));continue}if(!n){A+=x/s}var E=this._settings.color.call(this,P[I]);C.globalAlpha=this._settings.alpha.call(this,P[I]);C.fillStyle=this._settings.color.call(this,P[I]);C.beginPath();var H=this._setBarHPoints(C,L,e,u,l,s,A,(this._settings.border?1:0));if(a&&!q){C.lineTo(h.x+y,e+(this._settings.border?1:0))}C.fill();if(q!=false){var r=this._setBarGradient(C,L,e+u,L,e,q,E,""x"");C.fillStyle=r.gradient;C.beginPath();H=this._setBarHPoints(C,L,e,u,l,s,A,0);C.fill()}if(this._settings.border){this._drawBarHBorder(C,L,e,u,v,l,s,A,E)}C.globalAlpha=1;this.canvases[D].renderTextAt(""middle"",true,P[I].$startX+(H[0]-P[I].$startX)/2-1,e+(H[1]-e)/2,this._settings.label(P[I]));O.addRect(P[I].id,[P[I].$startX-h.x,e-h.y,H[0]-h.x,H[1]-h.y],D);P[I].$startX=H[0]}}};dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(x,L,g,e,y,K){var I,s;var a;var u;var v=e.y-g.y;var l=!!this._settings.yAxis;var J=!!this._settings.xAxis;var h=this._getStackedLimits(L);I=h.max;s=h.min;var C=Math.floor((e.x-g.x)/L.length);if(!y){this._drawScales(L,g,e,s,I,C)}if(l){I=parseFloat(this._settings.yAxis.end);s=parseFloat(this._settings.yAxis.start)}var F=this._getRelativeValue(s,I);u=F[0];a=F[1];var q=(u?v/u:10);var r=parseInt(this._settings.width,10);if(r+4>C){r=C-4}var m=Math.floor((C-r)/2);var n=(this._settings.gradient?this._settings.gradient:false);if(!J){this._drawLine(x,g.x,e.y+0.5,e.x,e.y+0.5,""#000000"",1)}for(var E=0;E<L.length;E++){var w=parseFloat(this._settings.value(L[E]||0));if(!w){if(!y||!L[E].$startY){L[E].$startY=e.y}continue}if(!y){w-=s}w*=a;var H=g.x+m+E*C;var c=e.y;if(!y){L[E].$startY=c}else{c=L[E].$startY}if(c<(g.y+1)){continue}if(w<0||(this._settings.yAxis&&w===0)){this.canvases.y.renderTextAt(true,true,H+Math.floor(r/2),c,this._settings.label(L[E]));continue}var A=this._settings.color.call(this,L[E]);x.globalAlpha=this._settings.alpha.call(this,L[E]);x.fillStyle=this._settings.color.call(this,L[E]);x.beginPath();var D=this._setStakedBarPoints(x,H-(this._settings.border?0.5:0),c,r+(this._settings.border?0.5:0),q,w,0,g.y);x.fill();if(n){x.save();var o=this._setBarGradient(x,H,c,H+r,D[1],n,A,""y"");x.fillStyle=o.gradient;x.beginPath();D=this._setStakedBarPoints(x,H+o.offset,c,r-o.offset*2,q,w,(this._settings.border?1:0),g.y);x.fill();x.restore()}if(this._settings.border){x.save();this._setBorderStyles(x,A);x.beginPath();this._setStakedBarPoints(x,H-0.5,c,r+1,q,w,0,g.y,1);x.stroke();x.restore()}x.globalAlpha=1;this.canvases[y].renderTextAt(false,true,H+Math.floor(r/2),(D[1]+(c-D[1])/2)-7,this._settings.label(L[E]));K.addRect(L[E].id,[H-g.x,D[1]-g.y,D[0]-g.x,(L[E].$startY||c)-g.y],y);L[E].$startY=(this._settings.border?(D[1]+1):D[1])}},_setStakedBarPoints:function(s,c,o,u,q,n,g,e,h){s.moveTo(c,o);var m=o-q*n+g;if(m<e){m=e}s.lineTo(c,m);var a=c+u;var l=m;s.lineTo(a,l);var r=c+u;s.lineTo(r,o);if(!h){s.lineTo(c,o)}return[r,l-2*g]}};dhtmlx.chart.line={pvt_render_line:function(m,A,h,g,n,x){var w,o,l,u,s,r,q,c,a,e,y,v;u=this._calculateLineParams(m,A,h,g,n);w=this._settings;if(A.length){s=(w.offset?h.x+u.cellWidth*0.5:h.x);l=[];for(o=0;o<A.length;o++){v=this._getPointY(A[o],h,g,u);if(v){q=((!o)?s:u.cellWidth*o-0.5+s);a=(typeof v==""object""?v.y0:v);if(o&&this._settings.fixOverflow){y=this._getPointY(A[o-1],h,g,u);if(y.out&&y.out==v.out){continue}r=u.cellWidth*(o-1)-0.5+s;c=(typeof y==""object""?y.y0:y);if(y.out){e=(y.out==""min""?g.y:h.y);l.push({x:this._calcOverflowX(r,q,c,a,e),y:e})}if(v.out){e=(v.out==""min""?g.y:h.y);l.push({x:this._calcOverflowX(r,q,c,a,e),y:e})}}if(!v.out){l.push({x:q,y:v,index:o})}}}this._mapStart=h;for(o=1;o<=l.length;o++){r=l[o-1].x;c=l[o-1].y;if(o<l.length){q=l[o].x;a=l[o].y;this._drawLine(m,r,c,q,a,w.line.color.call(this,A[o-1]),w.line.width);if(w.line&&w.line.shadow){m.globalAlpha=0.3;this._drawLine(m,r+2,c+w.line.width+8,q+2,a+w.line.width+8,""#eeeeee"",w.line.width+3);m.globalAlpha=1}}if(typeof l[o-1].index!=""undefined""){this._drawItem(m,r,c,A[l[o-1].index],w.label(A[l[o-1].index]),n,x,h)}}}},_calcOverflowX:function(c,a,g,e,h){return c+(h-g)*(a-c)/(e-g)},_drawItem:function(u,e,s,o,r,q,c){var g=this._settings.item;var n=parseInt(g.radius.call(this,o),10)||0;var m=this._mapStart;if(n){u.save();if(g.shadow){u.lineWidth=1;u.strokeStyle=""#bdbdbd"";u.fillStyle=""#bdbdbd"";var a=[0.1,0.2,0.3];for(var l=(a.length-1);l>=0;l--){u.globalAlpha=a[l];u.strokeStyle=""#d0d0d0"";u.beginPath();this._strokeChartItem(u,e,s+2*n/3,n+l+1,g.type);u.stroke()}u.beginPath();u.globalAlpha=0.3;u.fillStyle=""#bdbdbd"";this._strokeChartItem(u,e,s+2*n/3,n+1,g.type);u.fill()}u.restore();u.lineWidth=g.borderWidth;u.fillStyle=g.color.call(this,o);u.strokeStyle=g.borderColor.call(this,o);u.globalAlpha=g.alpha.call(this,o);u.beginPath();this._strokeChartItem(u,e,s,n+1,g.type);u.fill();u.stroke();u.globalAlpha=1}if(r){this.canvases[q].renderTextAt(false,true,e,s-n-this._settings.labelOffset,this._settings.label.call(this,o))}var h=(this._settings.eventRadius||n+1);c.addRect(o.id,[e-h-m.x,s-h-m.y,e+h-m.x,s+h-m.y],q)},_strokeChartItem:function(a,c,h,g,e){var l=[];c=parseInt(c,10);h=parseInt(h,10);if(e&&(e==""square""||e==""s"")){g*=Math.sqrt(2)/2;l=[[c-g-a.lineWidth/2,h-g],[c+g,h-g],[c+g,h+g],[c-g,h+g],[c-g,h-g]]}else{if(e&&(e==""diamond""||e==""d"")){var m=(a.lineWidth>1?a.lineWidth*Math.sqrt(2)/4:0);l=[[c,h-g],[c+g,h],[c,h+g],[c-g,h],[c+m,h-g-m]]}else{if(e&&(e==""triangle""||e==""t"")){l=[[c,h-g],[c+Math.sqrt(3)*g/2,h+g/2],[c-Math.sqrt(3)*g/2,h+g/2],[c,h-g]]}else{l=[[c,h,g,0,Math.PI*2,true]]}}}this._path(a,l)},_getPointY:function(e,n,l,a){var m=a.minValue;var g=a.maxValue;var q=a.unit;var c=a.valueFactor;var o=this._settings.value(e);var r=(parseFloat(o||0)-m)*c;if(!this._settings.yAxis){r+=a.startValue/q}var h=l.y-q*r;if(this._settings.fixOverflow&&(this._settings.view==""line""||this._settings.view==""area"")){if(o>g){h={y:n.y,y0:h,out:""max""}}else{if(r<0||o<m){h={y:l.y,y0:h,out:""min""}}}}else{if(o>g){h=n.y}if(r<0||o<m){h=l.y}}return h},_calculateLineParams:function(o,g,m,l,h){var c={};var q;c.totalHeight=l.y-m.y;c.cellWidth=(l.x-m.x)/((!this._settings.offset)?(g.length-1):g.length);var e=!!this._settings.yAxis;var a=(this._settings.view.indexOf(""stacked"")!=-1?this._getStackedLimits(g):this._getLimits());c.maxValue=a.max;c.minValue=a.min;if(!h){this._drawScales(g,m,l,c.minValue,c.maxValue,c.cellWidth)}if(e){c.maxValue=parseFloat(this._settings.yAxis.end);c.minValue=parseFloat(this._settings.yAxis.start)}var n=this._getRelativeValue(c.minValue,c.maxValue);q=n[0];c.valueFactor=n[1];c.unit=(q?c.totalHeight/q:10);c.startValue=0;if(!e){c.startValue=10;if(c.unit!=c.totalHeight){c.unit=(q?(c.totalHeight-c.startValue)/q:10)}}return c}};dhtmlx.chart.bar={pvt_render_bar:function(y,P,h,g,A,O){var s,D,H,m,M,u,v,c,I,w,r,L,n,N=g.y-h.y;n=!!this._settings.yAxis;L=!!this._settings.xAxis;m=this._getLimits();M=m.max;u=m.min;D=(g.x-h.x)/P.length;if(!A&&!(this._settings.origin!=""auto""&&!n)){this._drawScales(P,h,g,u,M,D)}if(n){M=parseFloat(this._settings.yAxis.end);u=parseFloat(this._settings.yAxis.start)}I=this._getRelativeValue(u,M);v=I[0];c=I[1];r=(v?N/v:v);if(!n&&!(this._settings.origin!=""auto""&&L)){w=10;r=(v?(N-w)/v:w)}if(!A&&(this._settings.origin!=""auto""&&!n)&&this._settings.origin>u){this._drawXAxis(y,P,h,g,D,g.y-r*(this._settings.origin-u))}s=parseInt(this._settings.width,10);var K=0;var F=0;for(H=0;H<this._series.length;H++){if(H==A){F=K}if(this._series[H].view==""bar""){K++}}if(this._series&&(s*K+4)>D){s=parseInt(D/K-4,10)}var o=(D-s*K)/2;var l=(typeof this._settings.radius!=""undefined""?parseInt(this._settings.radius,10):Math.round(s/5));var q=false;var a=this._settings.gradient;if(a&&typeof(a)!=""function""){q=a;a=false}else{if(a){a=y.createLinearGradient(0,g.y,0,h.y);this._settings.gradient(a)}}if(!L){this._drawLine(y,h.x,g.y+0.5,g.x,g.y+0.5,""#000000"",1)}for(H=0;H<P.length;H++){var x=parseFloat(this._settings.value(P[H])||0);if(isNaN(x)){continue}if(x>M){x=M}x-=u;x*=c;var J=h.x+o+parseInt(H*D,10)+(s+1)*F;var e=g.y;if(x<0||(this._settings.yAxis&&x===0&&!(this._settings.origin!=""auto""&&this._settings.origin>u))){this.canvases[A].renderTextAt(true,true,J+Math.floor(s/2),e,this._settings.label(P[H]));continue}if(!n&&!(this._settings.origin!=""auto""&&L)){x+=w/r}var C=a||this._settings.color.call(this,P[H]);y.globalAlpha=this._settings.alpha.call(this,P[H]);var E=this._drawBar(y,h,J,e,s,u,l,r,x,C,a,q);if(q){this._drawBarGradient(y,J,e,s,u,l,r,x,C,q)}if(this._settings.border){this._drawBarBorder(y,J,e,s,u,l,r,x,C)}y.globalAlpha=1;if(E[0]!=J){this.canvases[A].renderTextAt(false,true,J+Math.floor(s/2),E[1],this._settings.label(P[H]))}else{this.canvases[A].renderTextAt(true,true,J+Math.floor(s/2),E[3],this._settings.label(P[H]))}O.addRect(P[H].id,[J-h.x,E[3]-h.y,E[2]-h.x,E[1]-h.y],A)}},_correctBarParams:function(n,h,e,l,m,o,g){var a=this._settings.xAxis;var c=e;if(!!a&&this._settings.origin!=""auto""&&(this._settings.origin>g)){e-=(this._settings.origin-g)*m;c=e;l=l-(this._settings.origin-g);if(l<0){l*=(-1);n.translate(h+o,e);n.rotate(Math.PI);h=0;e=0}e-=0.5}return{value:l,x0:h,y0:e,start:c}},_drawBar:function(u,h,A,g,o,q,l,n,s,v,a,m){u.save();u.fillStyle=v;var r=this._correctBarParams(u,A,g,s,n,o,q);var w=this._setBarPoints(u,r.x0,r.y0,o,l,n,r.value,(this._settings.border?1:0));if(a&&!m){u.lineTo(r.x0+(this._settings.border?1:0),h.y)}u.fill();u.restore();var y=r.x0;var x=(r.x0!=A?A+w[0]:w[0]);var e=(r.x0!=A?(r.start-w[1]-r.y0):r.y0);var c=(r.x0!=A?r.start-r.y0:w[1]);return[y,e,x,c]},_drawBarBorder:function(o,c,m,q,h,g,n,l,e){var a;o.save();a=this._correctBarParams(o,c,m,l,n,q,h);this._setBorderStyles(o,e);this._setBarPoints(o,a.x0,a.y0,q,g,n,a.value,o.lineWidth/2,1);o.stroke();o.restore()},_drawBarGradient:function(s,g,q,u,n,m,r,o,h,c){s.save();var e=this._correctBarParams(s,g,q,o,r,u,n);var l=this._setBarGradient(s,e.x0,e.y0,e.x0+u,e.y0-r*e.value+2,c,h,""y"");var a=this._settings.border?1:0;s.fillStyle=l.gradient;this._setBarPoints(s,e.x0+l.offset,e.y0,u-l.offset*2,m,r,e.value,l.offset+a);s.fill();s.restore()},_setBarPoints:function(w,g,s,x,n,u,r,h,m){w.beginPath();var c=0;if(n>u*r){var l=(n-u*r)/n;if(l<=1&&l>=-1){c=-Math.acos(l)+Math.PI/2}}w.moveTo(g+h,s);var q=s-Math.floor(u*r)+n+(n?0:h);if(n<u*r){w.lineTo(g+h,q)}var e=g+n;if(n&&n>0){w.arc(e,q,n-h,-Math.PI+c,-Math.PI/2,false)}var a=g+x-n-h;var o=q-n+(n?h:0);w.lineTo(a,o);if(n&&n>0){w.arc(a,q,n-h,-Math.PI/2,0-c,false)}var v=g+x-h;w.lineTo(v,s);if(!m){w.lineTo(g+h,s)}return[v,o]}};dhtmlx.chart.pie={pvt_render_pie:function(c,g,a,l,e,h){this._renderPie(c,g,a,l,1,h,e)},_renderPie:function(r,E,h,g,C,D,s){if(!E.length){return}var u=this._getPieParameters(h,g);var m=(this._settings.radius?this._settings.radius:u.radius);if(m<0){return}var a=this._getValues(E);var l=this._getTotalValue(a);var n=this._getRatios(a,l);var A=(this._settings.x?this._settings.x:u.x);var e=(this._settings.y?this._settings.y:u.y);if(C==1&&this._settings.shadow){this._addShadow(r,A,e,m)}e=e/C;var q=-Math.PI/2;var w=[];r.scale(1,C);if(this._settings.gradient){var y=(C!=1?A+m/3:A);var c=(C!=1?e+m/3:e);this._showRadialGradient(r,A,e,m,y,c)}for(var x=0;x<E.length;x++){if(!a[x]){continue}r.strokeStyle=this._settings.lineColor.call(this,E[x]);r.beginPath();r.moveTo(A,e);w.push(q);alpha1=-Math.PI/2+n[x]-0.0001;r.arc(A,e,m,q,alpha1,false);r.lineTo(A,e);var v=this._settings.color.call(this,E[x]);r.fillStyle=v;r.fill();if(this._settings.pieInnerText){this._drawSectorLabel(A,e,5*m/6,q,alpha1,C,this._settings.pieInnerText(E[x],l),true)}if(this._settings.label){this._drawSectorLabel(A,e,m+this._settings.labelOffset,q,alpha1,C,this._settings.label(E[x]))}if(C!=1){this._createLowerSector(r,A,e,q,alpha1,m,true);r.fillStyle=""#000000"";r.globalAlpha=0.2;this._createLowerSector(r,A,e,q,alpha1,m,false);r.globalAlpha=1;r.fillStyle=v}D.addSector(E[x].id,q,alpha1,A-h.x,e-h.y/C,m,C,s);q=alpha1}r.globalAlpha=0.8;var o;for(x=0;x<w.length;x++){o=this._getPositionByAngle(w[x],A,e,m);this._drawLine(r,A,e,o.x,o.y,this._settings.lineColor.call(this,E[x]),2)}if(C==1){r.lineWidth=2;r.strokeStyle=""#ffffff"";r.beginPath();r.arc(A,e,m+1,0,2*Math.PI,false);r.stroke()}r.globalAlpha=1;r.scale(1,1/C)},_getValues:function(e){var a=[];for(var c=0;c<e.length;c++){a.push(parseFloat(this._settings.value(e[c])||0))}return a},_getTotalValue:function(a){var e=0;for(var c=0;c<a.length;c++){e+=a[c]}return e},_getRatios:function(c,a){var l;var h=[];var g=0;a=a||this._getTotalValue(c);for(var e=0;e<c.length;e++){l=c[e];h[e]=Math.PI*2*(a?((l+g)/a):(1/c.length));g+=l}return h},_getPieParameters:function(m,h){var g=h.x-m.x;var c=h.y-m.y;var e=m.x+g/2;var l=m.y+c/2;var a=Math.min(g/2,c/2);return{x:e,y:l,radius:a}},_createLowerSector:function(g,h,m,e,a,l,c){g.lineWidth=1;if(!((e<=0&&a>=0)||(e>=0&&a<=Math.PI)||(Math.abs(e-Math.PI)>0.003&&e<=Math.PI&&a>=Math.PI))){return}if(e<=0&&a>=0){e=0;c=false;this._drawSectorLine(g,h,m,l,e,a)}if(e<=Math.PI&&a>=Math.PI){a=Math.PI;c=false;this._drawSectorLine(g,h,m,l,e,a)}var n=(this._settings.height||Math.floor(l/4))/this._settings.cant;g.beginPath();g.arc(h,m,l,e,a,false);g.lineTo(h+l*Math.cos(a),m+l*Math.sin(a)+n);g.arc(h,m+n,l,a,e,true);g.lineTo(h+l*Math.cos(e),m+l*Math.sin(e));g.fill();if(c){g.stroke()}},_drawSectorLine:function(e,g,l,h,c,a){e.beginPath();e.arc(g,l,h,c,a,false);e.stroke()},_addShadow:function(c,a,l,g){c.globalAlpha=0.5;var h=[""#c4c4c4"",""#c6c6c6"",""#cacaca"",""#dcdcdc"",""#dddddd"",""#e0e0e0"",""#eeeeee"",""#f5f5f5"",""#f8f8f8""];for(var e=h.length-1;e>-1;e--){c.beginPath();c.fillStyle=h[e];c.arc(a+1,l+1,g+e,0,Math.PI*2,true);c.fill()}c.globalAlpha=1},_getGrayGradient:function(a){a.addColorStop(0,""#ffffff"");a.addColorStop(0.7,""#7a7a7a"");a.addColorStop(1,""#000000"");return a},_showRadialGradient:function(e,c,m,a,g,h){e.beginPath();var l;if(typeof this._settings.gradient!=""function""){l=e.createRadialGradient(g,h,a/4,c,m,a);l=this._getGrayGradient(l)}else{l=this._settings.gradient(l)}e.fillStyle=l;e.arc(c,m,a,0,Math.PI*2,true);e.fill();e.globalAlpha=0.7},_drawSectorLabel:function(D,c,g,w,v,E,u,a){var s=this.canvases[0].renderText(0,0,u,0,1);if(!s){return}var F=s.scrollWidth;s.style.width=F+""px"";if(F>D){F=D}var A=(v-w<0.2?4:8);if(a){A=F/1.8}var e=w+(v-w)/2;g=g-(A-8)/2;var n=-A;var m=-8;var C=""right"";if(e>=Math.PI/2&&e<Math.PI||e<=3*Math.PI/2&&e>=Math.PI){n=-F-n+1;C=""left""}var h=0;if(!a&&E<1&&(e>0&&e<Math.PI)){h=(this._settings.height||Math.floor(g/4))/E}var o=(c+Math.floor((g+h)*Math.sin(e)))*E+m;var q=D+Math.floor((g+A/2)*Math.cos(e))+n;var l=(v<Math.PI/2+0.01);var r=(w<Math.PI/2);if(r&&l){q=Math.max(q,D+3)}else{if(!r&&!l){q=Math.min(q,D-F)}else{if(!a&&(e>=Math.PI/2&&e<Math.PI||e<=3*Math.PI/2&&e>=Math.PI)){q+=F/3}}}s.style.top=o+""px"";s.style.left=q+""px"";s.style.width=F+""px"";s.style.textAlign=C;s.style.whiteSpace=""nowrap""}};dhtmlx.chart.pie3D={pvt_render_pie3D:function(c,g,a,l,e,h){this._renderPie(c,g,a,l,this._settings.cant,h)}};dhtmlx.chart.donut={pvt_render_donut:function(s,h,q,o,m,c){if(!h.length){return}this._renderPie(s,h,q,o,1,c);var g=this._settings;var l=this._getPieParameters(q,o);var a=(g.radius?g.radius:l.radius);var n=((g.innerRadius&&(g.innerRadius<a))?g.innerRadius:a/3);var e=(g.x?g.x:l.x);var r=(g.y?g.y:l.y);s.fillStyle=""#ffffff"";s.beginPath();s.arc(e,r,n,0,Math.PI*2,true);s.fill()}};dhtmlx.DataDriver.dhtmlxgrid={_grid_getter:""_get_cell_value"",toObject:function(a){this._grid=a;return a},getRecords:function(a){return a.rowsBuffer},getDetails:function(e){var a={};for(var c=0;c<this._grid.getColumnsNum();c++){a[""data""+c]=this._grid[this._grid_getter](e,c)}return a},getInfo:function(a){return{_size:0,_from:0}}};dhtmlx.ui.Canvas=function(c,e,h){this._canvas_labels=[];this._canvas_name=e;this._obj=c;var g=c.offsetWidth*(window.devicePixelRatio||1);var a=c.offsetHeight*(window.devicePixelRatio||1);var h=h||"""";h+="";width:""+c.offsetWidth+""px;height:""+c.offsetHeight+""px;"";this._prepareCanvas(e,h,g,a)};dhtmlx.ui.Canvas.prototype={_prepareCanvas:function(c,g,e,a){this._canvas=dhtmlx.html.create(""canvas"",{width:e,height:a,canvas_id:c,style:(g||"""")});this._obj.appendChild(this._canvas);if(!this._canvas.getContext){if(dhtmlx._isIE){dhtmlx.require(""thirdparty/excanvas/excanvas.js"");G_vmlCanvasManager.init_(document);G_vmlCanvasManager.initElement(this._canvas)}else{dhtmlx.error(""Canvas is not supported in the current browser"")}}return this._canvas},getCanvas:function(c){var a=(this._canvas||this._prepareCanvas()).getContext(c||""2d"");if(!this._webixDevicePixelRatio){this._webixDevicePixelRatio=true;a.scale(window.devicePixelRatio||1,window.devicePixelRatio||1)}return a},_resizeCanvas:function(){if(this._canvas){var a=this._canvas.parentNode.offsetWidth;var c=this._canvas.parentNode.offsetHeight;this._canvas.setAttribute(""width"",a*(window.devicePixelRatio||1));this._canvas.setAttribute(""height"",c*(window.devicePixelRatio||1));this._canvas.style.width=a+""px"";this._canvas.style.height=c+""px"";this._webixDevicePixelRatio=false}},renderText:function(a,l,h,g,c){if(!h){return}var e=dhtmlx.html.create(""DIV"",{""class"":""dhx_canvas_text""+(g?("" ""+g):""""),style:""left:""+a+""px; top:""+l+""px;""},h);this._obj.appendChild(e);this._canvas_labels.push(e);if(c){e.style.width=c+""px""}return e},renderTextAt:function(h,o,a,n,g,m,e){var l=this.renderText.call(this,a,n,g,m,e);if(l){if(h){if(h==""middle""){l.style.top=parseInt(n-l.offsetHeight/2,10)+""px""}else{l.style.top=n-l.offsetHeight+""px""}}if(o){if(o==""left""){l.style.left=a-l.offsetWidth+""px""}else{l.style.left=parseInt(a-l.offsetWidth/2,10)+""px""}}}return l},clearCanvas:function(a){var c=[],e;for(e=0;e<this._canvas_labels.length;e++){this._obj.removeChild(this._canvas_labels[e])}this._canvas_labels=[];if(!a&&this._obj._htmlmap){c=this._getMapAreas();while(c.length){c[0].parentNode.removeChild(c[0]);c.splice(0,1)}c=null;if(!this._obj._htmlmap.getElementsByTagName(""AREA"").length){this._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);this._obj._htmlmap=null}}this.getCanvas().clearRect(0,0,this._obj.offsetWidth*(window.devicePixelRatio||1),this._obj.offsetWidth*(window.devicePixelRatio||1))},toggleCanvas:function(){this._toggleCanvas(this._canvas.style.display==""none"")},showCanvas:function(){this._toggleCanvas(true)},hideCanvas:function(){this._toggleCanvas(false)},_toggleCanvas:function(a){var c,e;for(e=0;e<this._canvas_labels.length;e++){this._canvas_labels[e].style.display=(a?"""":""none"")}if(this._obj._htmlmap){c=this._getMapAreas();for(e=0;e<c.length;e++){if(a){c[e].removeAttribute(""disabled"")}else{c[e].setAttribute(""disabled"",""true"")}}}this._canvas.style.display=(a?"""":""none"")},_getMapAreas:function(){var e=[],a,c;a=this._obj._htmlmap.getElementsByTagName(""AREA"");for(c=0;c<a.length;c++){if(a[c].getAttribute(""userdata"")==this._canvas_name){e.push(a[c])}}return e}};dhtmlXChart=function(a){this.name=""Chart"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_chart"");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);this.data.provideApi(this,true);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.Destruction);dhtmlx.extend(this,dhtmlx.Group);dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var c in dhtmlx.chart){dhtmlx.extend(this,dhtmlx.chart[c])}if(a.preset){this.definePreset(a)}this._parseSettings(a,this.defaults);this._series=[this._settings];this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(function(){this.render()},this));this.attachEvent(""onLocateData"",this._switchSerie)};dhtmlXChart.prototype={_id:""dhx_area_id"",on_click:{dhx_chart_legend_item:function(m,n,l){var h=l.getAttribute(""series_id"");if(this.callEvent(""onLegendClick"",[m,h,l])){var g=this._settings;var c=g.legend.values;var a=(c&&(typeof c[h].toggle!=""undefined""))?c[h].toggle:g.legend.toggle;if((typeof h!=""undefined"")&&this._series.length>1){if(a){if(l.className.indexOf(""hidden"")!=-1){this.showSeries(h)}else{this.hideSeries(h)}}}}}},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){for(var a in this.canvases){this.canvases[a]._resizeCanvas()}this.render()},view_setter:function(a){if(!dhtmlx.chart[a]){dhtmlx.error(""Chart type extension is not loaded: ""+a)}if(typeof this._settings.offset==""undefined""){this._settings.offset=!(a==""area""||a==""stackedArea"")}if(a==""radar""&&!this._settings.yAxis){this.define(""yAxis"",{})}if(a==""scatter""){if(!this._settings.yAxis){this.define(""yAxis"",{})}if(!this._settings.xAxis){this.define(""xAxis"",{})}}return a},clearCanvas:function(){if(this.canvases&&typeof this.canvases==""object""){for(var a in this.canvases){this.canvases[a].clearCanvas()}}},render:function(){var e,c,g,h,a;if(!this.callEvent(""onBeforeRender"",[this.data])){return}if(this.canvases&&typeof this.canvases==""object""){for(c in this.canvases){this.canvases[c].clearCanvas()}}else{this.canvases={}}if(this._settings.legend){if(!this.canvases.legend){this.canvases.legend=new dhtmlx.ui.Canvas(this._obj,""legend"")}this._drawLegend(this.data.getRange(),this._obj.offsetWidth)}e=this._getChartBounds(this._obj.offsetWidth,this._obj.offsetHeight);h=new dhtmlx.ui.Map(this._id);a=this._settings;g=this._getChartData();for(c=0;c<this._series.length;c++){this._settings=this._series[c];if(!this.canvases[c]){this.canvases[c]=new dhtmlx.ui.Canvas(this._obj,c,""z-index:""+(2+c))}this[""pvt_render_""+this._settings.view](this.canvases[c].getCanvas(),g,e.start,e.end,c,h)}h.render(this._obj);this._obj.lastChild.style.zIndex=1000;this._applyBounds(this._obj.lastChild,e);this.callEvent(""onAfterRender"",[]);this._settings=a},_applyBounds:function(e,c){var a={};a.left=c.start.x;a.top=c.start.y;a.width=c.end.x-c.start.x;a.height=c.end.y-c.start.y;for(var g in a){e.style[g]=a[g]+""px""}},_getChartData:function(){var g,m,e,h,l,q,a,n,o,c;h=this.data.getRange();g=(this._settings.view.toLowerCase().indexOf(""barh"")!=-1?""yAxis"":""xAxis"");m=this._settings[g];if(m&&m.units&&(typeof m.units==""object"")){e=m.units;n=[];if(typeof e.start!=""undefined""&&typeof e.end!=""undefined""&&typeof e.next!=""undefined""){a=e.start;while(a<=e.end){n.push(a);a=e.next.call(this,a)}}else{if(Object.prototype.toString.call(e)===""[object Array]""){n=e}}q=[];if(n.length){o=m.value;c={};for(l=0;l<h.length;l++){c[o(h[l])]=l}for(l=0;l<n.length;l++){if(typeof c[n[l]]!=""undefined""){h[c[n[l]]].$unit=n[l];q.push(h[c[n[l]]])}else{q.push({$unit:n[l]})}}}return q}return h},value_setter:dhtmlx.Template.obj_setter,xValue_setter:dhtmlx.Template.obj_setter,yValue_setter:function(a){this.define(""value"",a)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,borderColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(a){if((typeof(a)!=""function"")&&a&&(a===true)){a=""light""}return a},colormap:{RAINBOW:function(a){var c=Math.floor(this.indexById(a.id)/this.dataCount()*1536);if(c==1536){c-=1}return this._rainbow[Math.floor(c/256)](c%256)}},color_setter:function(a){return this.colormap[a]||dhtmlx.Template.obj_setter(a)},fill_setter:function(a){return((!a||a==0)?false:dhtmlx.Template.obj_setter(a))},definePreset:function(a){this.define(""preset"",a.preset);delete a.preset},preset_setter:function(h){var e,c,g;this.defaults=dhtmlx.extend({},this.defaults);if(typeof dhtmlx.presets.chart[h]==""object""){g=dhtmlx.presets.chart[h];for(e in g){if(typeof g[e]==""object""){if(!this.defaults[e]||typeof this.defaults[e]!=""object""){this.defaults[e]=dhtmlx.extend({},g[e])}else{this.defaults[e]=dhtmlx.extend({},this.defaults[e]);for(c in g[e]){this.defaults[e][c]=g[e][c]}}}else{this.defaults[e]=g[e]}}return h}return false},legend_setter:function(a){if(!a){if(this.legendObj){this.legendObj.innerHTML="""";this.legendObj=null}return false}if(typeof(a)!=""object""){a={template:a}}this._mergeSettings(a,{width:150,height:18,layout:""y"",align:""left"",valign:""bottom"",template:"""",toggle:(this._settings.view.toLowerCase().indexOf(""stacked"")!=-1?"""":""hide""),marker:{type:""square"",width:15,height:15,radius:3},margin:4,padding:3});a.template=dhtmlx.Template.setter(a.template);return a},defaults:{color:""RAINBOW"",alpha:""1"",label:false,value:""{obj.value}"",padding:{},view:""pie"",lineColor:""#ffffff"",cant:0.5,width:30,labelWidth:100,line:{width:2,color:""#1293f8""},item:{radius:3,borderColor:""#636363"",borderWidth:1,color:""#ffffff"",alpha:1,type:""r"",shadow:false},shadow:true,gradient:false,border:true,labelOffset:20,origin:""auto""},item_setter:function(a){if(typeof(a)!=""object""){a={color:a,borderColor:a}}this._mergeSettings(a,dhtmlx.extend({},this.defaults.item));var e=[""alpha"",""borderColor"",""color"",""radius""];for(var c=0;c<e.length;c++){a[e[c]]=dhtmlx.Template.setter(a[e[c]])}return a},line_setter:function(a){if(typeof(a)!=""object""){a={color:a}}dhtmlx.extend(this.defaults.line,a);a=dhtmlx.extend({},this.defaults.line);a.color=dhtmlx.Template.setter(a.color);return a},padding_setter:function(a){if(typeof(a)!=""object""){a={left:a,right:a,top:a,bottom:a}}this._mergeSettings(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a){return false}if(typeof(a)!=""object""){a={template:a}}if(!a.value){a.value=a.template}this._mergeSettings(a,{title:"""",color:""#000000"",lineColor:""#cfcfcf"",template:""{obj}"",value:""{obj}"",lines:true});var c=[""lineColor"",""template"",""lines"",""value""];this._converToTemplate(c,a);this._configXAxis=dhtmlx.extend({},a);return a},yAxis_setter:function(a){this._mergeSettings(a,{title:"""",color:""#000000"",lineColor:""#cfcfcf"",template:""{obj}"",lines:true,bg:""#ffffff""});var c=[""lineColor"",""template"",""lines"",""bg""];this._converToTemplate(c,a);this._configYAxis=dhtmlx.extend({},a);return a},_converToTemplate:function(a,c){for(var e=0;e<a.length;e++){c[a[e]]=dhtmlx.Template.setter(c[a[e]])}},_drawScales:function(h,g,e,m,a,c){var l=0;if(this._settings.yAxis){if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj,""axis_y"")}l=this._drawYAxis(this.canvases.y.getCanvas(),h,g,e,m,a)}if(this._settings.xAxis){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj,""axis_x"")}this._drawXAxis(this.canvases.x.getCanvas(),h,g,e,c,l)}return l},_drawXAxis:function(u,l,r,q,g,o){var e=r.x-0.5;var s=parseInt((o?o:q.y),10)+0.5;var c=q.x;var m;var a=true;for(var h=0;h<l.length;h++){if(this._settings.offset===true){m=e+g/2+h*g}else{m=(h==l.length-1)?q.x:e+h*g;a=!!h}m=Math.ceil(m)-0.5;var n=((this._settings.origin!=""auto"")&&(this._settings.view==""bar"")&&(parseFloat(this._settings.value(l[h]))<this._settings.origin));this._drawXAxisLabel(m,s,l[h],a,n);if((this._settings.offset||h)&&this._settings.xAxis.lines.call(this,l[h])){this._drawXAxisLine(u,m,q.y,r.y,l[h])}}this.canvases.x.renderTextAt(true,false,e,q.y+this._settings.padding.bottom-3,this._settings.xAxis.title,""dhx_axis_title_x"",q.x-r.x);this._drawLine(u,e,s,c,s,this._settings.xAxis.color,1);if(!this._settings.xAxis.lines.call(this,{})||!this._settings.offset){return}this._drawLine(u,c+0.5,q.y,c+0.5,r.y+0.5,this._settings.xAxis.color,0.2)},_drawYAxis:function(w,D,l,h,n,m){var o;var u={};if(!this._settings.yAxis){return}var y=l.x-0.5;var g=h.y;var e=l.y;var v=h.y;if(this._settings.yAxis.step){o=parseFloat(this._settings.yAxis.step)}if(typeof this._configYAxis.step==""undefined""||typeof this._configYAxis.start==""undefined""||typeof this._configYAxis.end==""undefined""){u=this._calculateScale(n,m);n=u.start;m=u.end;o=u.step;this._settings.yAxis.end=m;this._settings.yAxis.start=n}this._setYAxisTitle(l,h);if(o===0){m=n;o=1}var a=(m==n?g-e:(g-e)*o/(m-n));var A=0;for(var x=n;x<=m;x+=o){if(u.fixNum){x=parseFloat((new Number(x)).toFixed(u.fixNum))}var C=Math.floor(g-A*a)+0.5;if(!(x==n&&this._settings.origin==""auto"")&&this._settings.yAxis.lines.call(this,x)){this._drawLine(w,y,C,h.x,C,this._settings.yAxis.lineColor.call(this,x),1)}if(x==this._settings.origin){v=C}var q=x;if(o<1){var r=Math.min(this._log10(o),(n<=0?0:this._log10(n)));var s=Math.pow(10,-r);q=Math.round(x*s)/s;x=q}this.canvases.y.renderText(0,C-5,this._settings.yAxis.template(q.toString()),""dhx_axis_item_y"",l.x-5);A++}this._drawLine(w,y,g+1,y,e,this._settings.yAxis.color,1);return v},_setYAxisTitle:function(e,c){var a=""dhx_axis_title_y""+(dhtmlx._isIE&&dhtmlx._isIE!=9?"" dhx_ie_filter"":"""");var g=this.canvases.y.renderTextAt(""middle"",false,0,parseInt((c.y-e.y)/2+e.y,10),this._settings.yAxis.title,a);if(g){g.style.left=(dhtmlx.env.transform?(g.offsetHeight-g.offsetWidth)/2:0)+""px""}},_calculateScale:function(q,c){if(this._settings.origin!=""auto""&&this._settings.origin<q){q=this._settings.origin}var h,g,m;h=((c-q)/8)||1;var e=Math.floor(this._log10(h));var a=Math.pow(10,e);var l=h/a;l=(l>5?10:5);h=parseInt(l,10)*a;if(h>Math.abs(q)){g=(q<0?-h:0)}else{var r=Math.abs(q);var o=Math.floor(this._log10(r));var n=r/Math.pow(10,o);g=Math.ceil(n*10)/10*Math.pow(10,o)-h;if(r>1&&h>0.1){g=Math.ceil(g)}while(q<0?g<=q:g>=q){g-=h}if(q<0){g=-g-2*h}}m=g;while(m<c){m+=h;m=parseFloat((new Number(m)).toFixed(Math.abs(e)))}return{start:g,end:m,step:h,fixNum:Math.abs(e)}},_getLimits:function(c,m){var n,l;var h=((arguments.length&&c==""h"")?this._configXAxis:this._configYAxis);m=m||""value"";if(h&&(typeof h.end!=""undefined"")&&(typeof h.start!=""undefined"")&&h.step){n=parseFloat(h.end);l=parseFloat(h.start)}else{n=this.max(this._series[0][m]);l=(h&&(typeof h.start!=""undefined""))?parseFloat(h.start):this.min(this._series[0][m]);if(this._series.length>1){for(var g=1;g<this._series.length;g++){var a=this.max(this._series[g][m]);var e=this.min(this._series[g][m]);if(a>n){n=a}if(e<l){l=e}}}}return{max:n,min:l}},_log10:function(c){var a=""log"";return Math.floor((Math[a](c)/Math.LN10))},_drawXAxisLabel:function(c,l,h,a,g){if(!this._settings.xAxis){return}var e=this.canvases.x.renderTextAt(g,a,c,l-(g?2:0),this._settings.xAxis.template(h));if(e){e.className+="" dhx_axis_item_x""}},_drawXAxisLine:function(c,a,g,e,h){if(!this._settings.xAxis||!this._settings.xAxis.lines){return}this._drawLine(c,a,g,a,e,this._settings.xAxis.lineColor.call(this,h),1)},_drawLine:function(a,g,m,e,h,c,l){a.strokeStyle=c;a.lineWidth=l;a.beginPath();a.moveTo(g,m);a.lineTo(e,h);a.stroke();a.lineWidth=1},_getRelativeValue:function(g,h){var e,a;var c=1;if(h!=g){e=h-g}else{e=g}return[e,c]},_rainbow:[function(a){return""#FF""+dhtmlx.math.toHex(a/2,2)+""00""},function(a){return""#FF""+dhtmlx.math.toHex(a/2+128,2)+""00""},function(a){return""#""+dhtmlx.math.toHex(255-a,2)+""FF00""},function(a){return""#00FF""+dhtmlx.math.toHex(a,2)},function(a){return""#00""+dhtmlx.math.toHex(255-a,2)+""FF""},function(a){return""#""+dhtmlx.math.toHex(a,2)+""00FF""}],addSeries:function(c){var a=this._settings;this._settings=dhtmlx.extend({},a);this._parseSettings(c,{});this._series.push(this._settings);this._settings=a},_switchSerie:function(g,a){var e;this._active_serie=a.getAttribute(""userdata"");if(!this._series[this._active_serie]){return}for(var c=0;c<this._series.length;c++){e=this._series[c].tooltip;if(e){e.disable()}}if(!a.getAttribute(""disabled"")){e=this._series[this._active_serie].tooltip;if(e){e.enable()}}},hideSeries:function(a){this.canvases[a].hideCanvas();if(this._settings.legend.values&&this._settings.legend.values[a]){this._settings.legend.values[a].$hidden=true}this._drawLegend()},showSeries:function(a){this.canvases[a].showCanvas();if(this._settings.legend.values&&this._settings.legend.values[a]){delete this._settings.legend.values[a].$hidden}this._drawLegend()},_setBorderStyles:function(a,c){var g,e;e=dhtmlx.math.toRgb(c);g=dhtmlx.math.rgbToHsv(e[0],e[1],e[2]);g[2]/=2;c=""rgb(""+dhtmlx.math.hsvToRgb(g[0],g[1],g[2])+"")"";a.strokeStyle=c;if(a.globalAlpha==1){a.globalAlpha=0.9}},_drawLegend:function(g,c){var h,q,w,r,l,s,a,n=0,m=0,v,o,e,u;g=g||[];c=c||this._obj.offsetWidth;v=this.canvases.legend.getCanvas();q=this._settings.legend;a=(this._settings.legend.layout!=""x""?""width:""+q.width+""px"":"""");if(this.legendObj){this.legendObj.innerHTML="""";this.legendObj.parentNode.removeChild(this.legendObj)}this.canvases.legend.clearCanvas(true);w=dhtmlx.html.create(""DIV"",{""class"":""dhx_chart_legend"",style:""left:""+n+""px; top:""+m+""px;""+a},"""");if(q.padding){w.style.padding=q.padding+""px""}this.legendObj=w;this._obj.appendChild(w);l=[];if(!q.values){for(h=0;h<g.length;h++){l.push(this._drawLegendText(w,q.template(g[h])))}}else{for(h=0;h<q.values.length;h++){l.push(this._drawLegendText(w,q.values[h].text,(typeof q.values[h].id!=""undefined""?typeof q.values[h].id:h),q.values[h].$hidden))}}s=w.offsetWidth;r=w.offsetHeight;if(s<this._obj.offsetWidth){if(q.layout==""x""&&q.align==""center""){n=(this._obj.offsetWidth-s)/2}if(q.align==""right""){n=this._obj.offsetWidth-s}if(q.margin&&q.align!=""center""){n+=(q.align==""left""?1:-1)*q.margin}}if(r<this._obj.offsetHeight){if(q.valign==""middle""&&q.align!=""center""&&q.layout!=""x""){m=(this._obj.offsetHeight-r)/2}else{if(q.valign==""bottom""){m=this._obj.offsetHeight-r}}if(q.margin&&q.valign!=""middle""){m+=(q.valign==""top""?1:-1)*q.margin}}w.style.left=n+""px"";w.style.top=m+""px"";v.save();for(h=0;h<l.length;h++){u=l[h];if(q.values&&q.values[h].$hidden){e=true;o=(q.values[h].disableColor?q.values[h].disableColor:""#d9d9d9"")}else{e=false;o=(q.values?q.values[h].color:this._settings.color.call(this,g[h]))}this._drawLegendMarker(v,u.offsetLeft+n,u.offsetTop+m,o,u.offsetHeight,e,h)}v.restore();l=null},_drawLegendText:function(a,h,c,g){var e="""";if(this._settings.legend.layout==""x""){e=""float:left;""}var l=dhtmlx.html.create(""DIV"",{style:e+""padding-left:""+(10+this._settings.legend.marker.width)+""px"",""class"":""dhx_chart_legend_item""+(g?"" hidden"":"""")},h);if(arguments.length>2){l.setAttribute(""series_id"",c)}a.appendChild(l);return l},_drawLegendMarker:function(A,s,r,h,w,l,n){var c=[];var m=this._settings.legend.marker;var v=this._settings.legend.values;var q=(v&&v[n].markerType?v[n].markerType:m.type);if(h){A.fillStyle=h;A.strokeStyle=this._getDarkenColor(h,0.75)}A.beginPath();if(q==""round""||!m.radius){A.lineWidth=m.height;A.lineCap=q;s+=A.lineWidth/2+5;r+=w/2;A.moveTo(s,r);var a=s+m.width-m.height+1;A.lineTo(a,r)}else{if(q==""item""){if(this._settings.line&&this._settings.view!=""scatter""&&!this._settings.disableLines){A.beginPath();A.lineWidth=this._series[n].line.width;A.strokeStyle=l?h:this._series[n].line.color.call(this,{});var e=s+5;var u=r+w/2;A.moveTo(e,u);var a=e+m.width;A.lineTo(a,u);A.stroke()}var g=this._series[n].item;var o=parseInt(g.radius.call(this,{}),10)||0;if(o){A.beginPath();if(l){A.lineWidth=g.borderWidth;A.strokeStyle=h;A.fillStyle=h}else{A.lineWidth=g.borderWidth;A.fillStyle=g.color.call(this,{});A.strokeStyle=g.borderColor.call(this,{});A.globalAlpha=g.alpha.call(this,{})}A.beginPath();s+=m.width/2+5;r+=w/2;this._strokeChartItem(A,s,r,o+1,g.type);A.fill();A.stroke()}A.globalAlpha=1}else{A.lineWidth=1;s+=5;r+=parseInt(w/2-m.height/2,10);c=[[s+m.radius,r+m.radius,m.radius,Math.PI,3*Math.PI/2,false],[s+m.width-m.radius,r],[s+m.width-m.radius,r+m.radius,m.radius,-Math.PI/2,0,false],[s+m.width,r+m.height-m.radius],[s+m.width-m.radius,r+m.height-m.radius,m.radius,0,Math.PI/2,false],[s+m.radius,r+m.height],[s+m.radius,r+m.height-m.radius,m.radius,Math.PI/2,Math.PI,false],[s,r+m.radius]];this._path(A,c)}}A.stroke();A.fill()},_getDarkenColor:function(a,g){var e,c;c=dhtmlx.math.toRgb(a);e=dhtmlx.math.rgbToHsv(c[0],c[1],c[2]);e[2]=e[2]*g;return""rgb(""+dhtmlx.math.hsvToRgb(e[0],e[1],e[2])+"")""},_getChartBounds:function(a,m){var o,e,n,c;o=this._settings.padding.left;e=this._settings.padding.top;n=a-this._settings.padding.right;c=m-this._settings.padding.bottom;if(this._settings.legend){var h=this._settings.legend;var l=this._settings.legend.width;var g=this._settings.legend.height;if(h.layout==""x""){if(h.valign==""center""){if(h.align==""right""){n-=l}else{if(h.align==""left""){o+=l}}}else{if(h.valign==""bottom""){c-=g}else{e+=g}}}else{if(h.align==""right""){n-=l}else{if(h.align==""left""){o+=l}}}}return{start:{x:o,y:e},end:{x:n,y:c}}},_getStackedLimits:function(h){var c,a,l,g,e;if(this._settings.yAxis&&(typeof this._settings.yAxis.end!=""undefined"")&&(typeof this._settings.yAxis.start!=""undefined"")&&this._settings.yAxis.step){l=parseFloat(this._settings.yAxis.end);g=parseFloat(this._settings.yAxis.start)}else{for(c=0;c<h.length;c++){h[c].$sum=0;h[c].$min=Infinity;for(a=0;a<this._series.length;a++){e=parseFloat(this._series[a].value(h[c])||0);if(isNaN(e)){continue}if(this._series[a].view.toLowerCase().indexOf(""stacked"")!=-1){h[c].$sum+=e}if(e<h[c].$min){h[c].$min=e}}}l=-Infinity;g=Infinity;for(c=0;c<h.length;c++){if(h[c].$sum>l){l=h[c].$sum}if(h[c].$min<g){g=h[c].$min}}if(g>0){g=0}}return{max:l,min:g}},_setBarGradient:function(v,c,r,a,o,n,g,e){var q,h,m,l,u,s;if(n==""light""){if(e==""x""){q=v.createLinearGradient(c,r,a,r)}else{q=v.createLinearGradient(c,r,c,o)}s=[[0,""#FFFFFF""],[0.9,g],[1,g]];h=2}else{if(n==""falling""||n==""rising""){if(e==""x""){q=v.createLinearGradient(c,r,a,r)}else{q=v.createLinearGradient(c,r,c,o)}m=dhtmlx.math.toRgb(g);l=dhtmlx.math.rgbToHsv(m[0],m[1],m[2]);l[1]*=1/2;u=""rgb(""+dhtmlx.math.hsvToRgb(l[0],l[1],l[2])+"")"";if(n==""falling""){s=[[0,u],[0.7,g],[1,g]]}else{if(n==""rising""){s=[[0,g],[0.3,g],[1,u]]}}h=0}else{v.globalAlpha=0.37;h=0;if(e==""x""){q=v.createLinearGradient(c,o,c,r)}else{q=v.createLinearGradient(c,r,a,r)}s=[[0,""#9d9d9d""],[0.3,""#e8e8e8""],[0.45,""#ffffff""],[0.55,""#ffffff""],[0.7,""#e8e8e8""],[1,""#9d9d9d""]]}}this._gradient(q,s);return{gradient:q,offset:h}},_getPositionByAngle:function(e,c,h,g){e*=(-1);c=c+Math.cos(e)*g;h=h-Math.sin(e)*g;return{x:c,y:h}},_gradient:function(e,c){for(var a=0;a<c.length;a++){e.addColorStop(c[a][0],c[a][1])}},_path:function(a,e){var c,g;for(c=0;c<e.length;c++){g=(c?""lineTo"":""moveTo"");if(e[c].length>2){g=""arc""}a[g].apply(a,e[c])}},_circle:function(c,a,g,e){c.arc(a,g,e,Math.PI*2,true)},_addMapRect:function(g,h,a,e,c){g.addRect(h,[a[0].x-e.x,a[0].y-e.y,a[1].x-e.x,a[1].y-e.y],c)}};dhtmlx.compat(""layout"");if(typeof(window.dhtmlXCellObject)!=""undefined""){dhtmlXCellObject.prototype.attachChart=function(a){this.callEvent(""_onBeforeContentAttach"",[""chart""]);var c=document.createElement(""DIV"");c.id=""dhxChartObj_""+window.dhx4.newId();c.style.width=""100%"";c.style.height=""100%"";document.body.appendChild(c);this._attachObject(c);a.container=c.id;this.dataType=""chart"";this.dataObj=new dhtmlXChart(a);if(!this.dataObj.setSizes){this.dataObj.setSizes=function(){if(this.resize){this.resize()}else{this.render()}}}return this.dataObj}}dhtmlx.ui.pager=function(a){this.name=""Pager"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_pager"");dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.SingleRender);dhtmlx.extend(this,dhtmlx.MouseEvents);this._parseSettings(a,{size:10,page:-1,group:5,count:0,type:""default""});this.data=this._settings;this.refresh()};dhtmlx.ui.pager.prototype={_id:""dhx_p_id"",on_click:{dhx_pager_item:function(a,c){this.select(c)}},select:function(a){switch(a){case""next"":a=this._settings.page+1;break;case""prev"":a=this._settings.page-1;break;case""first"":a=0;break;case""last"":a=this._settings.limit-1;break;default:break}if(a<0){a=0}if(a>=this.data.limit){a=this.data.limit-1}if(this.callEvent(""onBeforePageChange"",[this._settings.page,a])){this.data.page=a*1;this.refresh();this.callEvent(""onAfterPageChange"",[a])}},types:{""default"":{template:dhtmlx.Template.fromHTML(""{common.pages()}""),pages:function(e){var c="""";if(e.page==-1){return""""}e.min=e.page-Math.round((e.group-1)/2);e.max=e.min+e.group-1;if(e.min<0){e.max+=e.min*(-1);e.min=0}if(e.max>=e.limit){e.min-=Math.min(e.min,e.max-e.limit+1);e.max=e.limit-1}for(var a=(e.min||0);a<=e.max;a++){c+=this.button({id:a,index:(a+1),selected:(a==e.page?""_selected"":"""")})}return c},page:function(a){return a.page+1},first:function(){return this.button({id:""first"",index:"" &lt;&lt; "",selected:""""})},last:function(){return this.button({id:""last"",index:"" &gt;&gt; "",selected:""""})},prev:function(){return this.button({id:""prev"",index:""&lt;"",selected:""""})},next:function(){return this.button({id:""next"",index:""&gt;"",selected:""""})},button:dhtmlx.Template.fromHTML(""<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>"")}},refresh:function(){var a=this._settings;a.limit=Math.ceil(a.count/a.size);if(a.limit&&a.limit!=a.old_limit){a.page=Math.min(a.limit-1,a.page)}var c=a.page;if(c!=-1&&(c!=a.old_page)||(a.limit!=a.old_limit)){this.render();this.callEvent(""onRefresh"",[]);a.old_limit=a.limit;a.old_page=a.page}},template_item_start:dhtmlx.Template.fromHTML(""<div>""),template_item_end:dhtmlx.Template.fromHTML(""</div>"")};dhtmlx.DataProcessor={_dp_init:function(c){var a=""_methods"";c[a]=[""setItemStyle"","""",""changeId"",""remove""];this.attachEvent(""onAfterAdd"",function(e){c.setUpdated(e,true,""inserted"")});this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(function(g,e){if(g.getUserData){g.getUserData(e,this._userdata)}},this));this.attachEvent(""onBeforeDelete"",function(g){if(c._silent_mode){return true}var e=c.getState(g);if(e==""inserted""){c.setUpdated(g,false);return true}if(e==""deleted""){return false}if(e==""true_deleted""){return true}c.setUpdated(g,true,""deleted"");return false});this.attachEvent(""onAfterEditStop"",function(e){c.setUpdated(e,true,""updated"")});this.attachEvent(""onBindUpdate"",function(e){window.setTimeout(function(){c.setUpdated(e.id,true,""updated"")},1)});a=""_getRowData"";c[a]=function(m,e){var h=this.obj.data.get(m);var l={};for(var g in h){if(g.indexOf(""_"")===0){continue}l[g]=h[g]}return l};a=""_clearUpdateFlag"";c[a]=function(){};this._userdata={};c.attachEvent(""insertCallback"",this._dp_callback);c.attachEvent(""updateCallback"",this._dp_callback);c.attachEvent(""deleteCallback"",function(e,g){this.obj.setUserData(g,this.action_param,""true_deleted"");this.obj.remove(g)});dhtmlx.compat(""dataProcessor"",c)},_dp_callback:function(a,c){this.obj.data.set(c,dhtmlx.DataDriver.xml.getDetails(a.firstChild));this.obj.data.refresh(c)},setItemStyle:function(e,a){var c=this._locateHTML(e);if(c){c.style.cssText+="";""+a}},changeId:function(c,a){this.data.changeId(c,a);this.refresh()},setUserData:function(e,a,c){if(e){this.data.get(e)[a]=c}else{this._userdata[a]=c}},getUserData:function(c,a){return c?this.data.get(c)[a]:this._userdata[a]}};(function(){var a=""_dp_init"";dhtmlx.DataProcessor[a]=dhtmlx.DataProcessor._dp_init})();dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var n=""_dragged"";var g=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(q,r,o){g.apply(this,arguments);if(!o){var s=dhtmlx.DragControl._drag_context=dhtmlx.DragControl._drag_context||{};if(!s.from){s.from=this.dragStartObject}dhtmlx.DragControl._checkLand(q,r,true)}};var c=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(r,o,q){if(!q){if(dhtmlx.DragControl._last){dhtmlx.DragControl._active=m.dragStartNode;dhtmlx.DragControl._stopDrag(r,true)}}c.apply(this,arguments)};var m=new dhtmlDragAndDropObject();var h=dhtmlx.DragControl._startDrag;dhtmlx.DragControl._startDrag=function(){h.apply(this,arguments);var s=dhtmlx.DragControl._drag_context;if(!s){return}var r=[];var q=[];for(var o=0;o<s.source.length;o++){r[o]={idd:s.source[o]};q.push(s.source[o])}m.dragStartNode={parentNode:{},parentObject:{idd:r,id:(q.length==1?q[0]:q),treeNod:{object:s.from}}};m.dragStartNode.parentObject.treeNod[n]=r;m.dragStartObject=s.from};var l=dhtmlx.DragControl._checkLand;dhtmlx.DragControl._checkLand=function(q,r,o){l.apply(this,arguments);if(!this._last&&!o){q=m.checkLanding(q,r,true)}};var a=dhtmlx.DragControl._stopDrag;dhtmlx.DragControl._stopDrag=function(q,o){a.apply(this,arguments);if(m.lastLanding&&!o){m.stopDrag(q,false,true)}};var e=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(q){var r=null;if(q){r=e.apply(this,arguments)}if(!r){r=m.dragStartObject;var s=[];var u=r[n];for(var o=0;o<u.length;o++){s.push(u[o].idd||u[o].id)}dhtmlx.DragControl._drag_context.source=s}return r}}};dhtmlx.DataMove={_init:function(){dhtmlx.assert(this.data,""DataMove :: Component doesn't have DataStore"")},copy:function(c,h,a,g){var e=this.get(c);if(!e){dhtmlx.log(""Warning"",""Incorrect ID in DataMove::copy"");return}if(a){dhtmlx.assert(a.externalData,""DataMove :: External object doesn't support operation"");e=a.externalData(e)}a=a||this;return a.add(a.externalData(e,g),h)},move:function(e,m,c,l){if(e instanceof Array){for(var g=0;g<e.length;g++){var a=(c||this).indexById(this.move(e[g],m,c,e[g]));if(e[g+1]){m=a+(this.indexById(e[g+1])<a?0:1)}}return}nid=e;if(m<0){dhtmlx.log(""Info"",""DataMove::move - moving outside of bounds is ignored"");return}var h=this.get(e);if(!h){dhtmlx.log(""Warning"",""Incorrect ID in DataMove::move"");return}if(!c||c==this){this.data.move(this.indexById(e),m)}else{dhtmlx.assert(c.externalData,""DataMove :: External object doesn't support operation"");nid=c.add(c.externalData(h,l),m);this.remove(e)}return nid},moveUp:function(c,a){return this.move(c,this.indexById(c)-(a||1))},moveDown:function(c,a){return this.moveUp(c,(a||1)*-1)},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},externalData:function(a,e){var c=dhtmlx.extend({},a);c.id=e||dhtmlx.uid();c.$selected=c.$template=null;return c}};dhtmlx.DragControl={_drag_masters:dhtmlx.toArray([""dummy""]),addDrop:function(c,e,a){c=dhtmlx.toNode(c);c.dhx_drop=this._getCtrl(e);if(a){c.dhx_master=true}},_getCtrl:function(c){c=c||dhtmlx.DragControl;var a=this._drag_masters.find(c);if(a<0){a=this._drag_masters.length;this._drag_masters.push(c)}return a},addDrag:function(a,c){a=dhtmlx.toNode(a);a.dhx_drag=this._getCtrl(c);dhtmlx.event(a,""mousedown"",this._preStart,a)},_preStart:function(a){if(dhtmlx.DragControl._active){dhtmlx.DragControl._preStartFalse();dhtmlx.DragControl.destroyDrag()}dhtmlx.DragControl._active=this;dhtmlx.DragControl._start_pos={x:a.pageX,y:a.pageY};dhtmlx.DragControl._dhx_drag_mm=dhtmlx.event(document.body,""mousemove"",dhtmlx.DragControl._startDrag);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.event(document.body,""mouseup"",dhtmlx.DragControl._preStartFalse);dhtmlx.DragControl._dhx_drag_sc=dhtmlx.event(this,""scroll"",dhtmlx.DragControl._preStartFalse);a.cancelBubble=true;return false},_preStartFalse:function(a){dhtmlx.DragControl._dhx_drag_mm=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mm);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mu);dhtmlx.DragControl._dhx_drag_sc=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_sc)},_startDrag:function(a){var c={x:a.pageX,y:a.pageY};if(Math.abs(c.x-dhtmlx.DragControl._start_pos.x)<5&&Math.abs(c.y-dhtmlx.DragControl._start_pos.y)<5){return}dhtmlx.DragControl._preStartFalse();if(!dhtmlx.DragControl.createDrag(a)){return}dhtmlx.DragControl.sendSignal(""start"");dhtmlx.DragControl._dhx_drag_mm=dhtmlx.event(document.body,""mousemove"",dhtmlx.DragControl._moveDrag);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.event(document.body,""mouseup"",dhtmlx.DragControl._stopDrag);dhtmlx.DragControl._moveDrag(a)},_stopDrag:function(a){dhtmlx.DragControl._dhx_drag_mm=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mm);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mu);if(dhtmlx.DragControl._last){dhtmlx.DragControl.onDrop(dhtmlx.DragControl._active,dhtmlx.DragControl._last,this._landing,a);dhtmlx.DragControl.onDragOut(dhtmlx.DragControl._active,dhtmlx.DragControl._last,null,a)}dhtmlx.DragControl.destroyDrag();dhtmlx.DragControl.sendSignal(""stop"")},_moveDrag:function(a){var c=dhtmlx.html.pos(a);dhtmlx.DragControl._html.style.top=c.y+dhtmlx.DragControl.top+""px"";dhtmlx.DragControl._html.style.left=c.x+dhtmlx.DragControl.left+""px"";if(dhtmlx.DragControl._skip){dhtmlx.DragControl._skip=false}else{dhtmlx.DragControl._checkLand((a.srcElement||a.target),a)}a.cancelBubble=true;return false},_checkLand:function(a,c){while(a&&a.tagName!=""BODY""){if(a.dhx_drop){if(this._last&&(this._last!=a||a.dhx_master)){this.onDragOut(this._active,this._last,a,c)}if(!this._last||this._last!=a||a.dhx_master){this._last=null;this._landing=this.onDragIn(dhtmlx.DragControl._active,a,c);if(this._landing){this._last=a}return}return}a=a.parentNode}if(this._last){this._last=this._landing=this.onDragOut(this._active,this._last,null,c)}},sendSignal:function(a){dhtmlx.DragControl.active=(a==""start"")},getMaster:function(a){return this._drag_masters[a.dhx_drag||a.dhx_drop]},getContext:function(a){return this._drag_context},createDrag:function(l){var g=dhtmlx.DragControl._active;var h=this._drag_masters[g.dhx_drag];var c;if(h.onDragCreate){c=h.onDragCreate(g,l);c.style.position=""absolute"";c.style.zIndex=dhtmlx.zIndex.drag;c.onmousemove=dhtmlx.DragControl._skip_mark}else{var m=dhtmlx.DragControl.onDrag(g,l);if(!m){return false}var c=document.createElement(""DIV"");c.innerHTML=m;c.className=""dhx_drag_zone"";c.onmousemove=dhtmlx.DragControl._skip_mark;document.body.appendChild(c)}dhtmlx.DragControl._html=c;return true},_skip_mark:function(){dhtmlx.DragControl._skip=true},destroyDrag:function(){var c=dhtmlx.DragControl._active;var e=this._drag_masters[c.dhx_drag];if(e&&e.onDragDestroy){e.onDragDestroy(c,dhtmlx.DragControl._html)}else{dhtmlx.html.remove(dhtmlx.DragControl._html)}dhtmlx.DragControl._landing=dhtmlx.DragControl._active=dhtmlx.DragControl._last=dhtmlx.DragControl._html=null},top:5,left:5,onDragIn:function(g,c,h){var a=this._drag_masters[c.dhx_drop];if(a.onDragIn&&a!=this){return a.onDragIn(g,c,h)}c.className=c.className+"" dhx_drop_zone"";return c},onDragOut:function(g,c,l,h){var a=this._drag_masters[c.dhx_drop];if(a.onDragOut&&a!=this){return a.onDragOut(g,c,l,h)}c.className=c.className.replace(""dhx_drop_zone"","""");return null},onDrop:function(g,c,l,h){var a=this._drag_masters[c.dhx_drop];dhtmlx.DragControl._drag_context.from=dhtmlx.DragControl.getMaster(g);if(a.onDrop&&a!=this){return a.onDrop(g,c,l,h)}c.appendChild(g)},onDrag:function(c,g){var a=this._drag_masters[c.dhx_drag];if(a.onDrag&&a!=this){return a.onDrag(c,g)}dhtmlx.DragControl._drag_context={source:c,from:c};return""<div style='""+c.style.cssText+""'>""+c.innerHTML+""</div>""}};dhtmlx.DragItem={_init:function(){dhtmlx.assert(this.move,""DragItem :: Component doesn't have DataMove interface"");dhtmlx.assert(this.locate,""DragItem :: Component doesn't have RenderStack interface"");dhtmlx.assert(dhtmlx.DragControl,""DragItem :: DragControl is not included"");if(!this._settings||this._settings.drag){dhtmlx.DragItem._initHandlers(this)}else{if(this._settings){this.drag_setter=function(a){if(a){this._initHandlers(this);delete this.drag_setter}return a}}}if(this.dragMarker){this.attachEvent(""onBeforeDragIn"",this.dragMarker);this.attachEvent(""onDragOut"",this.dragMarker)}},_initHandlers:function(a){dhtmlx.DragControl.addDrop(a._obj,a,true);dhtmlx.DragControl.addDrag(a._obj,a)},onDragIn:function(h,g,l){var n=this.locate(l)||null;var c=dhtmlx.DragControl._drag_context;var m=dhtmlx.DragControl.getMaster(h);var a=(this._locateHTML(n)||this._obj);if(a==dhtmlx.DragControl._landing){return a}c.target=n;c.to=m;if(!this.callEvent(""onBeforeDragIn"",[c,l])){c.id=null;return null}dhtmlx.html.addCss(a,""dhx_drag_over"");return a},onDragOut:function(h,g,o,l){var m=this.locate(l)||null;if(o!=this._dataobj){m=null}var c=(this._locateHTML(m)||(o?dhtmlx.DragControl.getMaster(o)._obj:window.undefined));if(c==dhtmlx.DragControl._landing){return null}var a=dhtmlx.DragControl._drag_context;dhtmlx.html.removeCss(dhtmlx.DragControl._landing,""dhx_drag_over"");a.target=a.to=null;this.callEvent(""onDragOut"",[a,l]);return null},onDrop:function(g,c,l,h){var a=dhtmlx.DragControl._drag_context;a.to=this;a.index=a.target?this.indexById(a.target):this.dataCount();a.new_id=dhtmlx.uid();if(!this.callEvent(""onBeforeDrop"",[a,h])){return}if(a.from==a.to){this.move(a.source,a.index)}else{if(a.from){a.from.move(a.source,a.index,a.to,a.new_id)}else{dhtmlx.error(""Unsopported d-n-d combination"")}}this.callEvent(""onAfterDrop"",[a,h])},onDrag:function(g,l){var m=this.locate(l);var h=[m];if(m){if(this.getSelected){var c=this.getSelected();if(dhtmlx.PowerArray.find.call(c,m)!=-1){h=c}}var a=dhtmlx.DragControl._drag_context={source:h,start:m};a.from=this;if(this.callEvent(""onBeforeDrag"",[a,l])){return a.html||this._toHTML(this.get(m))}}return null}};dhtmlx.EditAbility={_init:function(a){this._edit_id=null;this._edit_bind=null;dhtmlx.assert(this.data,""EditAbility :: Component doesn't have DataStore"");dhtmlx.assert(this._locateHTML,""EditAbility :: Component doesn't have RenderStack"");this.attachEvent(""onEditKeyPress"",function(e,g,c){if(e==13&&!c){this.stopEdit()}else{if(e==27){this.stopEdit(true)}}});this.attachEvent(""onBeforeRender"",function(){this.stopEdit()})},isEdit:function(){return this._edit_id},edit:function(c){if(this.stopEdit(false,c)){if(!this.callEvent(""onBeforeEditStart"",[c])){return}var a=this.data.get(c);if(a.$template){return}a.$template=""edit"";this.data.refresh(c);this._edit_id=c;this._save_binding(c);this._edit_bind(true,a);this.callEvent(""onAfterEditStart"",[c])}},stopEdit:function(e,h){if(!this._edit_id){return true}if(this._edit_id==h){return false}var a={};if(!e){this._edit_bind(false,a)}else{a=null}if(!this.callEvent(""onBeforeEditStop"",[this._edit_id,a])){return false}var c=this.data.get(this._edit_id);c.$template=null;if(!e){this._edit_bind(false,c)}var g=this._edit_id;this._edit_bind=this._edit_id=null;this.data.refresh(g);this.callEvent(""onAfterEditStop"",[g,a]);return true},_save_binding:function(n){var a=this._locateHTML(n);var e="""";var l="""";var h=[];if(a){var g=a.getElementsByTagName(""*"");var m="""";for(var c=0;c<g.length;c++){if(g[c].nodeType==1&&(m=g[c].getAttribute(""bind""))){e+=""els[""+h.length+""].value=""+m+"";"";l+=m+""=els[""+h.length+""].value;"";h.push(g[c]);g[c].className+="" dhx_allow_selection"";g[c].onselectstart=this._block_native}}g=null}e=Function(""obj"",""els"",e);l=Function(""obj"",""els"",l);this._edit_bind=function(q,o){if(q){e(o,h);if(h.length&&h[0].select){h[0].select()}}else{l(o,h)}}},_block_native:function(a){(a||event).cancelBubble=true;return true}};dhtmlx.SelectionModel={_init:function(){this._selected=dhtmlx.toArray();dhtmlx.assert(this.data,""SelectionModel :: Component doesn't have DataStore"");this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(this._data_updated,this));this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(this._data_loaded,this));this.data.attachEvent(""onAfterFilter"",dhtmlx.bind(this._data_filtered,this));this.data.attachEvent(""onIdChange"",dhtmlx.bind(this._id_changed,this))},_id_changed:function(e,a){for(var c=this._selected.length-1;c>=0;c--){if(this._selected[c]==e){this._selected[c]=a}}},_data_filtered:function(){for(var a=this._selected.length-1;a>=0;a--){if(this.data.indexById(this._selected[a])<0){var e=this._selected[a]}var c=this.item(e);if(c){delete c.$selected}this._selected.splice(a,1);this.callEvent(""onSelectChange"",[e])}},_data_updated:function(e,c,a){if(a==""delete""){this._selected.remove(e)}else{if(!this.data.dataCount()&&!this.data._filter_order){this._selected=dhtmlx.toArray()}}},_data_loaded:function(){if(this._settings.select){this.data.each(function(a){if(a.$selected){this.select(a.id)}},this)}},_select_mark:function(e,c,a){if(!a&&!this.callEvent(""onBeforeSelect"",[e,c])){return false}this.data.item(e).$selected=c;if(a){a.push(e)}else{if(c){this._selected.push(e)}else{this._selected.remove(e)}this._refresh_selection(e)}return true},select:function(g,e,a){if(!g){return this.selectAll()}if(g instanceof Array){for(var c=0;c<g.length;c++){this.select(g[c],e,a)}return}if(!this.data.exists(g)){dhtmlx.error(""Incorrect id in select command: ""+g);return}if(a&&this._selected.length){return this.selectAll(this._selected[this._selected.length-1],g)}if(!e&&(this._selected.length!=1||this._selected[0]!=g)){this._silent_selection=true;this.unselectAll();this._silent_selection=false}if(this.isSelected(g)){if(e){this.unselect(g)}return}if(this._select_mark(g,true)){this.callEvent(""onAfterSelect"",[g])}},unselect:function(a){if(!a){return this.unselectAll()}if(!this.isSelected(a)){return}this._select_mark(a,false)},selectAll:function(g,e){var a;var c=[];if(g||e){a=this.data.getRange(g||null,e||null)}else{a=this.data.getRange()}a.each(function(h){var l=this.data.item(h.id);if(!l.$selected){this._selected.push(h.id);this._select_mark(h.id,true,c)}return h.id},this);this._refresh_selection(c)},unselectAll:function(){var a=[];this._selected.each(function(c){this._select_mark(c,false,a)},this);this._selected=dhtmlx.toArray();this._refresh_selection(a)},isSelected:function(a){return this._selected.find(a)!=-1},getSelected:function(a){switch(this._selected.length){case 0:return a?[]:"""";case 1:return a?[this._selected[0]]:this._selected[0];default:return([].concat(this._selected))}},_is_mass_selection:function(a){return a.length>100||a.length>this.data.dataCount/2},_refresh_selection:function(c){if(typeof c!=""object""){c=[c]}if(!c.length){return}if(this._is_mass_selection(c)){this.data.refresh()}else{for(var a=0;a<c.length;a++){this.render(c[a],this.data.item(c[a]),""update"")}}if(!this._silent_selection){this.callEvent(""onSelectChange"",[c])}}};dhtmlx.RenderStack={_init:function(){dhtmlx.assert(this.data,""RenderStack :: Component doesn't have DataStore"");dhtmlx.assert(dhtmlx.Template,""dhtmlx.Template :: dhtmlx.Template is not accessible"");this._html=document.createElement(""DIV"")},_toHTML:function(a){dhtmlx.assert((!a.$template||this.type[""template_""+a.$template]),""RenderStack :: Unknown template: ""+a.$template);this.callEvent(""onItemRender"",[a]);return this.type._item_start(a,this.type)+(a.$template?this.type[""template_""+a.$template]:this.type.template)(a,this.type)+this.type._item_end},_toHTMLObject:function(a){this._html.innerHTML=this._toHTML(a);return this._html.firstChild},_locateHTML:function(a){if(this._htmlmap){return this._htmlmap[a]}this._htmlmap={};var e=this._dataobj.childNodes;for(var c=0;c<e.length;c++){var g=e[c].getAttribute(this._id);if(g){this._htmlmap[g]=e[c]}}return this._locateHTML(a)},locate:function(a){return dhtmlx.html.locate(a,this._id)},show:function(c){var a=this._locateHTML(c);if(a){this._dataobj.scrollTop=a.offsetTop-this._dataobj.offsetTop}},render:function(l,g,e,h){if(l){var a=this._locateHTML(l);switch(e){case""update"":if(!a){return}var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,a);dhtmlx.html.remove(a);break;case""delete"":if(!a){return}dhtmlx.html.remove(a);delete this._htmlmap[l];break;case""add"":var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,this._locateHTML(this.data.next(l)),this._dataobj);break;case""move"":this.render(l,g,""delete"");this.render(l,g,""add"");break;default:dhtmlx.error(""Unknown render command: ""+e);break}}else{if(this.callEvent(""onBeforeRender"",[this.data])){this._dataobj.innerHTML=this.data.getRange().map(this._toHTML,this).join("""");this._htmlmap=null}}this.callEvent(""onAfterRender"",[])},pager_setter:function(c){this.attachEvent(""onBeforeRender"",function(){var g=this._settings.pager._settings;if(g.page==-1){return false}this.data.min=g.page*g.size;this.data.max=(g.page+1)*g.size-1;return true});var a=new dhtmlx.ui.pager(c);var e=dhtmlx.bind(function(){this.data.refresh()},this);a.attachEvent(""onRefresh"",e);this.data.attachEvent(""onStoreUpdated"",function(h){var g=this.dataCount();if(g!=a._settings.count){a._settings.count=g;if(a._settings.page==-1){a._settings.page=0}a.refresh()}});return a},height_setter:function(a){if(a==""auto""){this.attachEvent(""onAfterRender"",this._correct_height);dhtmlx.event(window,""resize"",dhtmlx.bind(this._correct_height,this))}return a},_correct_height:function(){this._dataobj.style.overflow=""hidden"";this._dataobj.style.height=""1px"";var a=this._dataobj.scrollHeight;this._dataobj.style.height=a+""px"";if(dhtmlx._isFF){var c=this._dataobj.scrollHeight;if(c!=a){this._dataobj.style.height=c+""px""}}this._obj.style.height=this._dataobj.style.height},_getDimension:function(){var a=this.type;var c=(a.border||0)+(a.padding||0)*2+(a.margin||0)*2;return{x:a.width+c,y:a.height+c}},x_count_setter:function(c){var e=this._getDimension();var a=dhtmlx.$customScroll?0:18;this._dataobj.style.width=e.x*c+(this._settings.height!=""auto""?a:0)+""px"";return c},y_count_setter:function(a){var c=this._getDimension();this._dataobj.style.height=c.y*a+""px"";return a}};dhtmlx.VirtualRenderStack={_init:function(){dhtmlx.assert(this.render,""VirtualRenderStack :: Object must use RenderStack first"");this._htmlmap={};this._dataobj.style.overflowY=""scroll"";dhtmlx.event(this._dataobj,""scroll"",dhtmlx.bind(this._render_visible_rows,this));dhtmlx.event(window,""resize"",dhtmlx.bind(function(){this.render()},this));this.data._unrendered_area=[];this.data.getIndexRange=this._getIndexRange},_locateHTML:function(a){return this._htmlmap[a]},show:function(e){range=this._getVisibleRange();var c=this.data.indexById(e);var a=Math.floor(c/range._dx)*range._y;this._dataobj.scrollTop=a},_getIndexRange:function(h,g){if(g!==0){g=Math.min((g||Infinity),this.dataCount()-1)}var a=dhtmlx.toArray();for(var c=(h||0);c<=g;c++){var e=this.item(this.order[c]);if(this.order.length>c){if(!e){this.order[c]=dhtmlx.uid();e={id:this.order[c],$template:""loading""};this._unrendered_area.push(this.order[c])}else{if(e.$template==""loading""){this._unrendered_area.push(this.order[c])}}a.push(e)}}return a},render:function(l,g,e,h){if(l){var a=this._locateHTML(l);switch(e){case""update"":if(!a){return}var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,a);dhtmlx.html.remove(a);break;default:this._render_delayed();break}}else{if(this.callEvent(""onBeforeRender"",[this.data])){this._htmlmap={};this._render_visible_rows(null,true);this._wait_for_render=false;this.callEvent(""onAfterRender"",[])}}},_render_delayed:function(){if(this._wait_for_render){return}this._wait_for_render=true;window.setTimeout(dhtmlx.bind(function(){this.render()},this),1)},_create_placeholder:function(a){var c=document.createElement(""DIV"");c.className=""dhxdataview_placeholder"";c.style.cssText=""height:""+a+""px; width:100%; overflow:hidden;"";return c},_render_visible_rows:function(A,E){this.data._unrendered_area=[];var y=this._getVisibleRange();if(!this._dataobj.firstChild||E){this._dataobj.innerHTML="""";this._dataobj.appendChild(this._create_placeholder(y._max));this._htmlrows=[this._dataobj.firstChild]}var l=Math.max(y._from,0);var x=(this.data.max||this.data.max===0)?this.data.max:Infinity;while(l<=y._height){while(this._htmlrows[l]&&this._htmlrows[l]._filled&&l<=y._height){l++}if(l>y._height){break}var o=l;while(!this._htmlrows[o]){o--}var a=this._htmlrows[o];var g=l*y._dx+(this.data.min||0);if(g>x){break}var m=Math.min(g+y._dx-1,x);var r=this._create_placeholder(y._y);var n=this.data.getIndexRange(g,m);if(!n.length){break}r.innerHTML=n.map(this._toHTML,this).join("""");for(var v=0;v<n.length;v++){this._htmlmap[this.data.idByIndex(g+v)]=r.childNodes[v]}var w=parseInt(a.style.height,10);var D=(l-o)*y._y;var u=(w-D-y._y);dhtmlx.html.insertBefore(r,D?a.nextSibling:a,this._dataobj);this._htmlrows[l]=r;r._filled=true;if(D<=0&&u>0){a.style.height=u+""px"";this._htmlrows[l+1]=a}else{if(D<0){dhtmlx.html.remove(a)}else{a.style.height=D+""px""}if(u>0){var q=this._htmlrows[l+1]=this._create_placeholder(u);dhtmlx.html.insertBefore(q,r.nextSibling,this._dataobj)}}l++}if(this.data._unrendered_area.length){var s=this.indexById(this.data._unrendered_area[0]);var c=this.indexById(this.data._unrendered_area.pop())+1;if(c>s){if(!this.callEvent(""onDataRequest"",[s,c-s])){return false}dhtmlx.assert(this.data.feed,""Data feed is missed"");this.data.feed.call(this,s,c-s)}}if(dhtmlx._isIE){var C=this._getVisibleRange();if(C._from!=y._from){this._render_visible_rows()}}},_getVisibleRange:function(){var c=dhtmlx.$customScroll?0:18;var m=this._dataobj.scrollTop;var a=Math.max(this._dataobj.scrollWidth,this._dataobj.offsetWidth)-c;var n=this._dataobj.offsetHeight;var q=this.type;var g=this._getDimension();var r=Math.floor(a/g.x)||1;var e=Math.floor(m/g.y);var o=Math.ceil((n+m)/g.y)-1;var h=this.data.max?(this.data.max-this.data.min):this.data.dataCount();var l=Math.ceil(h/r)*g.y;return{_from:e,_height:o,_top:m,_max:l,_y:g.y,_dx:r}}};dhtmlXDataView=function(a){this.name=""DataView"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_dataview"");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.RenderStack);dhtmlx.extend(this,dhtmlx.SelectionModel);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.KeyEvents);dhtmlx.extend(this,dhtmlx.EditAbility);dhtmlx.extend(this,dhtmlx.DataMove);dhtmlx.extend(this,dhtmlx.DragItem);dhtmlx.extend(this,dhtmlx.DataProcessor);dhtmlx.extend(this,dhtmlx.AutoTooltip);dhtmlx.extend(this,dhtmlx.Destruction);this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(function(){this.render.apply(this,arguments)},this));this._parseSettings(a,{drag:false,edit:false,select:""multiselect"",type:""default""});if(this._settings.height!=""auto""&&!this._settings.renderAll){dhtmlx.extend(this,dhtmlx.VirtualRenderStack)}this.data.provideApi(this,true);if(dhtmlx.$customScroll){dhtmlx.CustomScroll.enable(this)}};dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(e,h){var g=this._locateHTML(e.target);if(this.type.drag_marker){if(this._drag_marker){this._drag_marker.style.backgroundImage="""";this._drag_marker.style.backgroundRepeat=""""}if(g){g.style.backgroundImage=""url(""+(dhtmlx.image_path||"""")+this.type.drag_marker+"")"";g.style.backgroundRepeat=""no-repeat"";this._drag_marker=g}}if(g&&this._settings.auto_scroll){var a=g.offsetTop;var l=g.offsetHeight;var c=this._obj.scrollTop;var m=this._obj.offsetHeight;if(a-l>=0&&a-l*0.75<c){c=Math.max(a-l,0)}else{if(a+l/0.75>c+m){c=c+l}}this._obj.scrollTop=c}return true},_id:""dhx_f_id"",on_click:{dhx_dataview_item:function(a,c){if(this.stopEdit(false,c)){if(this._settings.select){if(this._settings.select==""multiselect""){this.select(c,a.ctrlKey,a.shiftKey)}else{this.select(c)}}}}},on_dblclick:{dhx_dataview_item:function(a,c){if(this._settings.edit){this.edit(c)}}},on_mouse_move:{},types:{""default"":{css:""default"",template:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>""),template_edit:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>""),template_loading:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>""),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML(""<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>""),template_item_end:dhtmlx.Template.fromHTML(""</div>"")};dhtmlx.compat(""layout"");if(typeof(window.dhtmlXCellObject)!=""undefined""){dhtmlXCellObject.prototype.attachDataView=function(a){this.callEvent(""_onBeforeContentAttach"",[""dataview""]);var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";this._attachObject(c);if(typeof(a)==""undefined""){a={}}c.id=""DataViewObject_""+new Date().getTime();a.container=c.id;a.skin=this.conf.skin;this.dataType=""dataview"";this.dataObj=new dhtmlXDataView(a);this.dataObj.setSizes=function(){this.render()};c=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj}}function xmlPointer(a){this.d=a}xmlPointer.prototype={text:function(){if(!_isFF){return this.d.xml}var a=new XMLSerializer();return a.serializeToString(this.d)},get:function(a){return this.d.getAttribute(a)},exists:function(){return !!this.d},content:function(){return this.d.firstChild?(this.d.firstChild.wholeText||this.d.firstChild.data):""""},each:function(g,m,l,h){var e=this.d.childNodes;var n=new xmlPointer();if(e.length){for(h=h||0;h<e.length;h++){if(e[h].tagName==g){n.d=e[h];if(m.apply(l,[n,h])==-1){return}}}}},get_all:function(){var e={};var c=this.d.attributes;for(var g=0;g<c.length;g++){e[c[g].name]=c[g].value}return e},sub:function(g){var e=this.d.childNodes;var l=new xmlPointer();if(e.length){for(var h=0;h<e.length;h++){if(e[h].tagName==g){l.d=e[h];return l}}}},up:function(a){return new xmlPointer(this.d.parentNode)},set:function(a,c){this.d.setAttribute(a,c)},clone:function(a){return new xmlPointer(this.d)},sub_exists:function(e){var c=this.d.childNodes;if(c.length){for(var g=0;g<c.length;g++){if(c[g].tagName==e){return true}}}return false},through:function(e,m,q,h,r){var n=this.d.childNodes;if(n.length){for(var g=0;g<n.length;g++){if(n[g].tagName==e&&n[g].getAttribute(m)!=null&&n[g].getAttribute(m)!=""""&&(!q||n[g].getAttribute(m)==q)){var l=new xmlPointer(n[g]);h.apply(r,[l,g])}var o=this.d;this.d=n[g];this.through(e,m,q,h,r);this.d=o}}}};function dhtmlXTreeObject(m,h,c,a){if(dhtmlxEvent.initTouch){dhtmlxEvent.initTouch()}if(_isIE){try{document.execCommand(""BackgroundImageCache"",false,true)}catch(l){}}if(typeof(m)!=""object""){this.parentObject=document.getElementById(m)}else{this.parentObject=m}this.parentObject.style.overflow=""hidden"";this._itim_dg=true;this.dlmtr="","";this.dropLower=false;this.enableIEImageFix(true);this.xmlstate=0;this.mytype=""tree"";this.smcheck=true;this.width=h;this.height=c;this.rootId=a;this.childCalc=null;this.def_img_x=""18px"";this.def_img_y=""18px"";this.def_line_img_x=""18px"";this.def_line_img_y=""24px"";this._dragged=new Array();this._selected=new Array();this.style_pointer=""pointer"";this._aimgs=true;this.htmlcA="" ["";this.htmlcB=""]"";this.lWin=window;this.cMenu=0;this.mlitems=0;this.iconURL="""";this.dadmode=0;this.slowParse=false;this.autoScroll=true;this.hfMode=0;this.nodeCut=new Array();this.XMLsource=0;this.XMLloadingWarning=0;this._idpull={};this._pullSize=0;this.treeLinesOn=true;this.tscheck=false;this.timgen=true;this.dpcpy=false;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"""";"
"userAgent.toLowerCase())){jQuery(window).one(""unload"",function(){var global=jQuery.timer.global;for(var label in global){if(global.hasOwnProperty(label)){var els=global[label],i=els.length;while(--i){jQuery.timer.remove(els[i],label)}}}})}(function(undef){if(!String.prototype.split.toString().match(/\[native/)){return}var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("""")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!==""[object RegExp]""){return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?""i"":"""")+(separator.multiline?""m"":"""")+(separator.extended?""x"":"""")+(separator.sticky?""y"":""""),lastLastIndex=0,separator2,match,lastIndex,lastLength;separator=new RegExp(separator.source,flags+""g"");str+="""";if(!compliantExecNpcg){separator2=new RegExp(""^""+separator.source+""$(?!\\s)"",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("""")){output.push("""")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};String.prototype.split=function(separator,limit){return self(this,separator,limit)};return self})();function str_parts(str,length){var result=[];var len=str.length;if(len<length){return[str]}for(var i=0;i<len;i+=length){result.push(str.substring(i,i+length))}return result}function Cycle(init){var data=init?[init]:[];var pos=0;$.extend(this,{get:function(){return data},rotate:function(){if(data.length===1){return data[0]}else{if(pos===data.length-1){pos=0}else{++pos}return data[pos]}},length:function(){return data.length},set:function(item){for(var i=data.length;i--;){if(data[i]===item){pos=i;return}}this.append(item)},front:function(){return data[pos]},append:function(item){data.push(item)}})}function Stack(init){var data=init?[init]:[];$.extend(this,{map:function(fn){return $.map(data,fn)},size:function(){return data.length},pop:function(){if(data.length===0){return null}else{var value=data[data.length-1];data=data.slice(0,data.length-1);return value}},push:function(value){data=data.concat([value]);return value},top:function(){return data.length>0?data[data.length-1]:null}})}$.json_stringify=function(object,level){var result="""",i;level=level===undefined?1:level;var type=typeof object;switch(type){case""function"":result+=object;break;case""boolean"":result+=object?""true"":""false"";break;case""object"":if(object===null){result+=""null""}else if(object instanceof Array){result+=""["";var len=object.length;for(i=0;i<len-1;++i){result+=$.json_stringify(object[i],level+1)}result+=$.json_stringify(object[len-1],level+1)+""]""}else{result+=""{"";for(var property in object){if(object.hasOwnProperty(property)){result+='""'+property+'"":'+$.json_stringify(object[property],level+1)}}result+=""}""}break;case""string"":var str=object;var repl={""\\\\"":""\\\\"",'""':'\\""',""/"":""\\/"",""\\n"":""\\n"",""\\r"":""\\r"",""\\t"":""\\t""};for(i in repl){if(repl.hasOwnProperty(i)){str=str.replace(new RegExp(i,""g""),repl[i])}}result+='""'+str+'""';break;case""number"":result+=String(object);break}result+=level>1?"","":"""";if(level===1){result=result.replace(/,([\]}])/g,""$1"")}return result.replace(/([\[{]),/g,""$1"")};function History(name,size){var enabled=true;var storage_key="""";if(typeof name===""string""&&name!==""""){storage_key=name+""_""}storage_key+=""commands"";var data=$.Storage.get(storage_key);data=data?$.parseJSON(data):[];var pos=data.length-1;$.extend(this,{append:function(item){if(enabled){if(data[data.length-1]!==item){data.push(item);if(size&&data.length>size){data=data.slice(-size)}pos=data.length-1;$.Storage.set(storage_key,$.json_stringify(data))}}},data:function(){return data},reset:function(){pos=data.length-1},last:function(){return data[length-1]},end:function(){return pos===data.length-1},position:function(){return pos},current:function(){return data[pos]},next:function(){if(pos<data.length-1){++pos}if(pos!==-1){return data[pos]}},previous:function(){var old=pos;if(pos>0){--pos}if(old!==-1){return data[pos]}},clear:function(){data=[];this.purge()},enabled:function(){return enabled},enable:function(){enabled=true},purge:function(){$.Storage.remove(storage_key)},disable:function(){enabled=false}})}$.fn.cmd=function(options){var self=this;var maybe_data=self.data(""cmd"");if(maybe_data){return maybe_data}self.addClass(""cmd"");self.append('<span class=""prompt""></span><span></span>'+'<span class=""cursor"">&nbsp;</span><span></span>');var clip=$(""<textarea/>"").addClass(""clipboard"").appendTo(self);if(options.width){self.width(options.width)}var num_chars;var prompt_len;var reverse_search=false;var reverse_search_string="""";var reverse_search_position=null;var backup_prompt;var mask=options.mask||false;var command="""";var selected_text="""";var kill_text="""";var position=0;var prompt;var enabled=options.enabled;var historySize=options.historySize||60;var name,history;var cursor=self.find("".cursor"");var animation;if(supportAnimations()){animation=function(toggle){if(toggle){cursor.addClass(""blink"")}else{cursor.removeClass(""blink"")}}}else{animation=function(toggle){if(toggle&&!enabled){cursor.addClass(""inverted"");self.everyTime(500,""blink"",blink)}else if(enabled){self.stopTime(""blink"",blink);cursor.removeClass(""inverted"")}}}function blink(i){cursor.toggleClass(""inverted"")}function draw_reverse_prompt(){prompt=""(reverse-i-search)`""+reverse_search_string+""': "";draw_prompt()}function clear_reverse_state(){prompt=backup_prompt;reverse_search=false;reverse_search_position=null;reverse_search_string=""""}function reverse_history_search(next){var history_data=history.data();var regex,save_string;var len=history_data.length;if(next&&reverse_search_position>0){len-=reverse_search_position}if(reverse_search_string.length>0){for(var j=reverse_search_string.length;j>0;j--){save_string=reverse_search_string.substring(0,j).replace(/([.*+{}\[\]?])/g,""\\$1"");regex=new RegExp(save_string);for(var i=len;i--;){if(regex.test(history_data[i])){reverse_search_position=history_data.length-i;position=0;self.set(history_data[i],true);redraw();if(reverse_search_string.length!==j){reverse_search_string=reverse_search_string.substring(0,j);draw_reverse_prompt()}return}}}}reverse_search_string=""""}function change_num_chars(){var W=self.width();var w=cursor.innerWidth();num_chars=Math.floor(W/w)}function str_repeat(str,n){var result="""";for(var i=n;i--;){result+=str}return result}function get_splited_command_line(string){var first=string.substring(0,num_chars-prompt_len);var rest=string.substring(num_chars-prompt_len);return[first].concat(str_parts(rest,num_chars))}var redraw=function(self){var before=cursor.prev();var after=cursor.next();function draw_cursor_line(string,position){var len=string.length;if(position===len){before.html($.terminal.encode(string,true));cursor.html(""&nbsp;"");after.html("""")}else if(position===0){before.html("""");cursor.html($.terminal.encode(string.slice(0,1),true));after.html($.terminal.encode(string.slice(1),true))}else{var before_str=$.terminal.encode(string.slice(0,position),true);before.html(before_str);var c=string.slice(position,position+1);cursor.html(c==="" ""?""&nbsp;"":$.terminal.encode(c,true));if(position===string.length-1){after.html("""")}else{after.html($.terminal.encode(string.slice(position+1),true))}}}function div(string){return""<div>""+$.terminal.encode(string,true)+""</div>""}function lines_after(lines){var last_ins=after;$.each(lines,function(i,line){last_ins=$(div(line)).insertAfter(last_ins).addClass(""clear"")})}function lines_before(lines){$.each(lines,function(i,line){before.before(div(line))})}var count=0;return function(){var string=mask?command.replace(/./g,""*""):command;var i,first_len;self.find(""div"").remove();before.html("""");if(string.length>num_chars-prompt_len-1||string.match(/\n/)){var array;var tabs=string.match(/\t/g);var tabs_rm=tabs?tabs.length*3:0;if(tabs){string=string.replace(/\t/g,""\x00\x00\x00\x00"")}if(string.match(/\n/)){var tmp=string.split(""\n"");first_len=num_chars-prompt_len-1;for(i=0;i<tmp.length-1;++i){tmp[i]+="" ""}if(tmp[0].length>first_len){array=[tmp[0].substring(0,first_len)];array=array.concat(str_parts(tmp[0].substring(first_len),num_chars))}else{array=[tmp[0]]}for(i=1;i<tmp.length;++i){if(tmp[i].length>num_chars){array=array.concat(str_parts(tmp[i],num_chars))}else{array.push(tmp[i])}}}else{array=get_splited_command_line(string)}if(tabs){array=$.map(array,function(line){return line.replace(/\x00\x00\x00\x00/g,""	"")})}first_len=array[0].length;if(first_len===0&&array.length===1){}else if(position<first_len){draw_cursor_line(array[0],position);lines_after(array.slice(1))}else if(position===first_len){before.before(div(array[0]));draw_cursor_line(array[1],0);lines_after(array.slice(2))}else{var num_lines=array.length;var offset=0;if(position<first_len){draw_cursor_line(array[0],position);lines_after(array.slice(1))}else if(position===first_len){before.before(div(array[0]));draw_cursor_line(array[1],0);lines_after(array.slice(2))}else{var last=array.slice(-1)[0];var from_last=string.length-position;var last_len=last.length;var pos=0;if(from_last<=last_len){lines_before(array.slice(0,-1));pos=last_len===from_last?0:last_len-from_last;draw_cursor_line(last,pos+tabs_rm)}else{if(num_lines===3){before.before(""<div>""+$.terminal.encode(array[0],true)+""</div>"");draw_cursor_line(array[1],position-first_len-1);after.after('<div class=""clear"">'+$.terminal.encode(array[2],true)+""</div>"")}else{var line_index;var current;pos=position;for(i=0;i<array.length;++i){var current_len=array[i].length;if(pos>current_len){pos-=current_len}else{break}}current=array[i];line_index=i;if(pos===current.length){pos=0;current=array[++line_index]}draw_cursor_line(current,pos);lines_before(array.slice(0,line_index));lines_after(array.slice(line_index+1))}}}}}else{if(string===""""){before.html("""");cursor.html(""&nbsp;"");after.html("""")}else{draw_cursor_line(string,position)}}}}(self);var last_command;var draw_prompt=function(){var prompt_node=self.find("".prompt"");function set(prompt){prompt_len=skipFormattingCount(prompt);prompt_node.html($.terminal.format($.terminal.encode(prompt)))}return function(){switch(typeof prompt){case""string"":set(prompt);break;case""function"":prompt(set);break}}}();function paste(){clip.focus();self.oneTime(1,function(){self.insert(clip.val());clip.blur().val("""")})}var first_up_history=true;function keydown_event(e){var result,pos,len;if(typeof options.keydown==""function""){result=options.keydown(e);if(result!==undefined){return result}}if(enabled){if(e.which!==38&&!(e.which===80&&e.ctrlKey)){first_up_history=true}if(reverse_search&&(e.which===35||e.which===36||e.which===37||e.which===38||e.which===39||e.which===40||e.which===13||e.which===27)){clear_reverse_state();draw_prompt();if(e.which===27){command=""""}redraw();keydown_event.call(this,e)}else if(e.altKey){if(e.which===68){self.set(command.slice(0,position)+command.slice(position).replace(/[^ ]+ |[^ ]+$/,""""),true);return false}return true}else if(e.keyCode===13){if(e.shiftKey){self.insert(""\n"")}else{if(history&&command&&!mask&&(typeof options.historyFilter==""function""&&options.historyFilter(command)||!options.historyFilter)){history.append(command)}var tmp=command;history.reset();self.set("""");if(options.commands){options.commands(tmp)}if(typeof prompt===""function""){draw_prompt()}}}else if(e.which===8){if(reverse_search){reverse_search_string=reverse_search_string.slice(0,-1);draw_reverse_prompt()}else{if(command!==""""&&position>0){command=command.slice(0,position-1)+command.slice(position,command.length);--position;redraw()}}}else if(e.which===67&&e.ctrlKey&&e.shiftKey){selected_text=getSelectedText()}else if(e.which===86&&e.ctrlKey&&e.shiftKey){if(selected_text!==""""){self.insert(selected_text)}}else if(e.which===9&&!(e.ctrlKey||e.altKey)){self.insert(""	"")}else if(e.which===46){if(command!==""""&&position<command.length){command=command.slice(0,position)+command.slice(position+1,command.length);redraw()}return true}else if(history&&e.which===38||e.which===80&&e.ctrlKey){if(first_up_history){last_command=command;self.set(history.current())}else{self.set(history.previous())}first_up_history=false}else if(history&&e.which===40||e.which===78&&e.ctrlKey){self.set(history.end()?last_command:history.next())}else if(e.which===37||e.which===66&&e.ctrlKey){if(e.ctrlKey&&e.which!==66){len=position-1;pos=0;if(command[len]==="" ""){--len}for(var i=len;i>0;--i){if(command[i]==="" ""&&command[i+1]!=="" ""){pos=i+1;break}else if(command[i]===""\n""&&command[i+1]!==""\n""){pos=i;break}}self.position(pos)}else{if(position>0){--position;redraw()}}}else if(e.which===82&&e.ctrlKey){if(reverse_search){reverse_history_search(true)}else{backup_prompt=prompt;draw_reverse_prompt();last_command=command;command="""";redraw();reverse_search=true}}else if(e.which==71&&e.ctrlKey){if(reverse_search){prompt=backup_prompt;draw_prompt();command=last_command;redraw();reverse_search=false;reverse_search_string=""""}}else if(e.which===39||e.which===70&&e.ctrlKey){if(e.ctrlKey&&e.which!==70){if(command[position]==="" ""){++position}var re=/\S[\n\s]{2,}|[\n\s]+\S?/;var match=command.slice(position).match(re);if(!match||match[0].match(/^\s+$/)){position=command.length}else{if(match[0][0]!=="" ""){position+=match.index+1}else{position+=match.index+match[0].length-1;if(match[0][match[0].length-1]!=="" ""){--position}}}redraw()}else{if(position<command.length){++position;redraw()}}}else if(e.which===123){return true}else if(e.which===36){self.position(0)}else if(e.which===35){self.position(command.length)}else if(e.shiftKey&&e.which==45){paste();return true}else if(e.ctrlKey||e.metaKey){if(e.which===192){return true}if(e.metaKey){if(e.which===82){return true}else if(e.which===76){return true}}if(e.shiftKey){if(e.which===84){return true}}else{if(e.which===81){if(command!==""""&&position!==0){var first=command.slice(0,position);var last=command.slice(position+1);var m=first.match(/([^ ]+ *$)/);position=first.length-m[0].length;kill_text=first.slice(position);command=first.slice(0,position)+last;redraw()}return false}else if(e.which===72){if(command!==""""&&position>0){command=command.slice(0,--position);if(position<command.length-1){command+=command.slice(position)}redraw()}return false}else if(e.which===65){self.position(0)}else if(e.which===69){self.position(command.length)}else if(e.which===88||e.which===67||e.which===84){return true}else if(e.which===89){if(kill_text!==""""){self.insert(kill_text)}}else if(e.which===86){paste();return true}else if(e.which===75){if(position===0){kill_text=command;self.set("""")}else if(position!==command.length){kill_text=command.slice(position);self.set(command.slice(0,position))}}else if(e.which===85){if(command!==""""&&position!==0){kill_text=command.slice(0,position);self.set(command.slice(position,command.length));self.position(0)}}else if(e.which===17){return false}}}else{return true}return false}}var history_list=[];$.extend(self,{name:function(string){if(string!==undefined){name=string;var enabled=history&&history.enabled()||!history;history=new History(string,historySize);if(!enabled){history.disable()}return self}else{return name}},purge:function(){history.clear();return self},history:function(){return history},set:function(string,stay){if(string!==undefined){command=string;if(!stay){position=command.length}redraw();if(typeof options.onCommandChange===""function""){options.onCommandChange(command)}}return self},insert:function(string,stay){if(position===command.length){command+=string}else if(position===0){command=string+command}else{command=command.slice(0,position)+string+command.slice(position)}if(!stay){position+=string.length}redraw();if(typeof options.onCommandChange===""function""){options.onCommandChange(command)}return self},get:function(){return command},commands:function(commands){if(commands){options.commands=commands;return self}else{return commands}},destroy:function(){$(document.documentElement||window).unbind("".cmd"");self.stopTime(""blink"",blink);self.find("".cursor"").next().remove().end().prev().remove().end().remove();self.find("".prompt, .clipboard"").remove();self.removeClass(""cmd"").removeData(""cmd"");return self},prompt:function(user_prompt){if(user_prompt===undefined){return prompt}else{if(typeof user_prompt===""string""||typeof user_prompt===""function""){prompt=user_prompt}else{throw""prompt must be a function or string""}draw_prompt();redraw();return self}},kill_text:function(){return kill_text},position:function(n){if(typeof n===""number""){position=n<0?0:n>command.length?command.length:n;redraw();return self}else{return position}},visible:function(){var visible=self.visible;return function(){visible.apply(self,[]);redraw();draw_prompt()}}(),show:function(){var show=self.show;return function(){show.apply(self,[]);redraw();draw_prompt()}}(),resize:function(num){if(num){num_chars=num}else{change_num_chars()}redraw();return self},enable:function(){enabled=true;animation(true);return self},isenabled:function(){return enabled},disable:function(){enabled=false;animation(false);return self},mask:function(display){if(typeof display===""boolean""){mask=display;redraw();return self}else{return mask}}});self.name(options.name||options.prompt||"""");prompt=options.prompt||""> "";draw_prompt();if(options.enabled===undefined||options.enabled===true){self.enable()}var object;$(document.documentElement||window).bind(""keypress.cmd"",function(e){var result;if(e.ctrlKey&&e.which===99){return true}if(!reverse_search&&typeof options.keypress===""function""){result=options.keypress(e)}if(result===undefined||result){if(enabled){if($.inArray(e.which,[38,13,0,8])>-1&&e.keyCode!==123&&!(e.which===38&&e.shiftKey)){return false}else if(!e.ctrlKey&&!(e.altKey&&e.which===100)||e.altKey){if(reverse_search){reverse_search_string+=String.fromCharCode(e.which);reverse_history_search();draw_reverse_prompt()}else{self.insert(String.fromCharCode(e.which))}return false}}}else{return result}}).bind(""keydown.cmd"",keydown_event);self.data(""cmd"",self);return self};function skipFormattingCount(string){return $(""<div>""+$.terminal.strip(string)+""</div>"").text().length}function formattingCount(string){return string.length-skipFormattingCount(string)}function supportAnimations(){var animation=false,animationstring=""animation"",keyframeprefix="""",domPrefixes=""Webkit Moz O ms Khtml"".split("" ""),pfx="""",elm=document.createElement(""div"");if(elm.style.animationName){animation=true}if(animation===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+""AnimationName""]!==undefined){pfx=domPrefixes[i];animationstring=pfx+""Animation"";keyframeprefix=""-""+pfx.toLowerCase()+""-"";animation=true;break}}}return animation}function processCommand(string,fn){var args=string.replace(/^\s+|\s+$/g,"""").split(/(\s+)/);var rest=string.replace(/^[^\s]+\s*/,"""");return{name:args[0],args:fn(rest),rest:rest}}var color_names=[""black"",""silver"",""gray"",""white"",""maroon"",""red"",""purple"",""fuchsia"",""green"",""lime"",""olive"",""yellow"",""navy"",""blue"",""teal"",""aqua"",""aliceblue"",""antiquewhite"",""aqua"",""aquamarine"",""azure"",""beige"",""bisque"",""black"",""blanchedalmond"",""blue"",""blueviolet"",""brown"",""burlywood"",""cadetblue"",""chartreuse"",""chocolate"",""coral"",""cornflowerblue"",""cornsilk"",""crimson"",""cyan"",""darkblue"",""darkcyan"",""darkgoldenrod"",""darkgray"",""darkgreen"",""darkgrey"",""darkkhaki"",""darkmagenta"",""darkolivegreen"",""darkorange"",""darkorchid"",""darkred"",""darksalmon"",""darkseagreen"",""darkslateblue"",""darkslategray"",""darkslategrey"",""darkturquoise"",""darkviolet"",""deeppink"",""deepskyblue"",""dimgray"",""dimgrey"",""dodgerblue"",""firebrick"",""floralwhite"",""forestgreen"",""fuchsia"",""gainsboro"",""ghostwhite"",""gold"",""goldenrod"",""gray"",""green"",""greenyellow"",""grey"",""honeydew"",""hotpink"",""indianred"",""indigo"",""ivory"",""khaki"",""lavender"",""lavenderblush"",""lawngreen"",""lemonchiffon"",""lightblue"",""lightcoral"",""lightcyan"",""lightgoldenrodyellow"",""lightgray"",""lightgreen"",""lightgrey"",""lightpink"",""lightsalmon"",""lightseagreen"",""lightskyblue"",""lightslategray"",""lightslategrey"",""lightsteelblue"",""lightyellow"",""lime"",""limegreen"",""linen"",""magenta"",""maroon"",""mediumaquamarine"",""mediumblue"",""mediumorchid"",""mediumpurple"",""mediumseagreen"",""mediumslateblue"",""mediumspringgreen"",""mediumturquoise"",""mediumvioletred"",""midnightblue"",""mintcream"",""mistyrose"",""moccasin"",""navajowhite"",""navy"",""oldlace"",""olive"",""olivedrab"",""orange"",""orangered"",""orchid"",""palegoldenrod"",""palegreen"",""paleturquoise"",""palevioletred"",""papayawhip"",""peachpuff"",""peru"",""pink"",""plum"",""powderblue"",""purple"",""red"",""rosybrown"",""royalblue"",""saddlebrown"",""salmon"",""sandybrown"",""seagreen"",""seashell"",""sienna"",""silver"",""skyblue"",""slateblue"",""slategray"",""slategrey"",""snow"",""springgreen"",""steelblue"",""tan"",""teal"",""thistle"",""tomato"",""turquoise"",""violet"",""wheat"",""white"",""whitesmoke"",""yellow"",""yellowgreen""];var format_split_re=/(\[\[[gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/i;var format_parts_re=/\[\[([gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi;var format_re=/\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi;var format_full_re=/^\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]$/gi;var color_hex_re=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i;var url_re=/\bhttps?:\/\/(?:(?!&[^;]+;)[^\s""'<>)])+\b/g;var email_re=/((([^<>('"")[\]\\.,;:\s@\""]+(\.[^<>()[\]\\.,;:\s@\""]+)*)|(\"".+\""))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g;var command_re=/('[^']*'|""(\\""|[^""])*""|\/(\\\/|[^\/])+\/[gimy]*|(\\ |[^ ])+|[\w-]+)/g;var format_begin_re=/(\[\[[gbiuso]*;[^;]*;[^\]]*\])/i;var format_last_re=/\[\[[gbiuso]*;[^;]*;[^\]]*\]?$/i;$.terminal={valid_color:function(color){return color.match(color_hex_re)||$.inArray(color.toLowerCase(),color_names)!==-1},escape_regex:function(string){var special=/([\^\$\[\]\(\)\+\*\.\|])/g;return string.replace(special,""\\$1"")},have_formatting:function(str){return str.match(format_re)},is_formatting:function(str){return str.match(format_full_re)},format_split:function(str){return str.split(format_split_re)},split_equal:function(str,length){var formatting=false;var in_text=false;var braket=0;var prev_format="""";var result=[];var array=str.replace(format_re,function(_,format,text){var semicolons=format.match(/;/g).length;if(semicolons==2){semicolons="";;""}else if(semicolons==3){semicolons="";""}else{semicolons=""""}return""[[""+format+semicolons+text.replace(/\\\]/g,""&#93;"").replace(/\n/g,""\\n"")+""]""+text+""]""}).split(/\n/g);for(var i=0,len=array.length;i<len;++i){if(array[i]===""""){result.push("""");continue}var line=array[i];var first_index=0;var count=0;for(var j=0,jlen=line.length;j<jlen;++j){if(line[j]===""[""&&line[j+1]===""[""){formatting=true}else if(formatting&&line[j]===""]""){if(in_text){formatting=false;in_text=false}else{in_text=true}}else if(formatting&&in_text||!formatting){if(line[j]===""&""){var m=line.substring(j).match(/^(&[^;]+;)/);if(!m){throw""Unclosed html entity in line ""+(i+1)+"" at char ""+(j+1)}j+=m[1].length-2;if(j===jlen-1){result.push(output_line+m[1])}continue}else if(line[j]===""]""&&line[j-1]===""\\""){--count}else{++count}}if(count===length||j===jlen-1){var output_line=line.substring(first_index,j+1);if(prev_format){output_line=prev_format+output_line;if(output_line.match(""]"")){prev_format=""""}}first_index=j+1;count=0;var matched=output_line.match(format_re);if(matched){var last=matched[matched.length-1];if(last[last.length-1]!==""]""){prev_format=last.match(format_begin_re)[1];output_line+=""]""}else if(output_line.match(format_last_re)){var line_len=output_line.length;var f_len=line_len-last[last.length-1].length;output_line=output_line.replace(format_last_re,"""");prev_format=last.match(format_begin_re)[1]}}result.push(output_line)}}}return result},encode:function(str,full){if(full){str=str.replace(/&(?![^=]+=)/g,""&amp;"")}else{str=str.replace(/&(?!#[0-9]+;|[a-zA-Z]+;|[^= ""]+=[^=])/g,""&amp;"")}return str.replace(/</g,""&lt;"").replace(/>/g,""&gt;"").replace(/ /g,""&nbsp;"").replace(/\t/g,""&nbsp;&nbsp;&nbsp;&nbsp;"")},format:function(str,options){var settings=$.extend({},{linksNoReferrer:false},options||{});if(typeof str===""string""){var splited=$.terminal.format_split(str);if(splited&&splited.length>1){str=$.map(splited,function(text){if(text===""""){return text}else if(text.substring(0,1)===""[""){return text.replace(format_parts_re,function(s,style,color,background,_class,data_text,text){if(text===""""){return""""}text=text.replace(/\\]/g,""]"");var style_str="""";if(style.indexOf(""b"")!==-1){style_str+=""font-weight:bold;""}var text_decoration=[];if(style.indexOf(""u"")!==-1){text_decoration.push(""underline"")}if(style.indexOf(""s"")!==-1){text_decoration.push(""line-through"")}if(style.indexOf(""o"")!==-1){text_decoration.push(""overline"")}if(text_decoration.length){style_str+=""text-decoration:""+text_decoration.join("" "")+"";"""
"userAgent.toLowerCase())){p(window).one(""unload"",function(){var e=p.timer.global;for(var n in e){if(e.hasOwnProperty(n)){var t=e[n],r=t.length;while(--r){p.timer.remove(t[r],n)}}}})}(function(e){if(!String.prototype.split.toString().match(/\[native/)){return}var n=String.prototype.split,t=/()??/.exec("""")[1]===e,r;r=function(r,i,o){if(Object.prototype.toString.call(i)!==""[object RegExp]""){return n.call(r,i,o)}var a=[],s=(i.ignoreCase?""i"":"""")+(i.multiline?""m"":"""")+(i.extended?""x"":"""")+(i.sticky?""y"":""""),l=0,f,c,u,p;i=new RegExp(i.source,s+""g"");r+="""";if(!t){f=new RegExp(""^""+i.source+""$(?!\\s)"",s)}o=o===e?-1>>>0:o>>>0;while(c=i.exec(r)){u=c.index+c[0].length;if(u>l){a.push(r.slice(l,c.index));if(!t&&c.length>1){c[0].replace(f,function(){for(var n=1;n<arguments.length-2;n++){if(arguments[n]===e){c[n]=e}}})}if(c.length>1&&c.index<r.length){Array.prototype.push.apply(a,c.slice(1))}p=c[0].length;l=u;if(a.length>=o){break}}if(i.lastIndex===c.index){i.lastIndex++}}if(l===r.length){if(p||!i.test("""")){a.push("""")}}else{a.push(r.slice(l))}return a.length>o?a.slice(0,o):a};String.prototype.split=function(e,n){return r(this,e,n)};return r})();e.fn.caret=function(e){var n=this[0];var t=n.contentEditable===""true"";if(arguments.length===0){if(window.getSelection){if(t){n.focus();var r=window.getSelection().getRangeAt(0),i=r.cloneRange();i.selectNodeContents(n);i.setEnd(r.endContainer,r.endOffset);return i.toString().length}return n.selectionStart}if(document.selection){n.focus();if(t){var r=document.selection.createRange(),i=document.body.createTextRange();i.moveToElementText(n);i.setEndPoint(""EndToEnd"",r);return i.text.length}var e=0,o=n.createTextRange(),i=document.selection.createRange().duplicate(),a=i.getBookmark();o.moveToBookmark(a);while(o.moveStart(""character"",-1)!==0)e++;return e}return 0}if(e===-1)e=this[t?""text"":""val""]().length;if(window.getSelection){if(t){n.focus();window.getSelection().collapse(n.firstChild,e)}else n.setSelectionRange(e,e)}else if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(n);o.moveStart(""character"",e);o.collapse(true);o.select()}if(!t)n.focus();return e};function m(e,n){var t=[];var r=e.length;if(r<n){return[e]}else if(n<0){throw new Error(""str_parts: length can't be negative"")}for(var i=0;i<r;i+=n){t.push(e.substring(i,i+n))}return t}function h(n){var t=n?[n]:[];var r=0;e.extend(this,{get:function(){return t},rotate:function(){if(!t.filter(Boolean).length){return}if(t.length===1){return t[0]}else{if(r===t.length-1){r=0}else{++r}if(t[r]){return t[r]}else{return this.rotate()}}},length:function(){return t.length},remove:function(e){delete t[e]},set:function(e){for(var n=t.length;n--;){if(t[n]===e){r=n;return}}this.append(e)},front:function(){if(t.length){var e=r;var n=false;while(!t[e]){e++;if(e>t.length){if(n){break}e=0;n=true}}return t[e]}},append:function(e){t.push(e)}})}function d(n){var t=n instanceof Array?n:n?[n]:[];e.extend(this,{data:function(){return t},map:function(n){return e.map(t,n)},size:function(){return t.length},pop:function(){if(t.length===0){return null}else{var e=t[t.length-1];t=t.slice(0,t.length-1);return e}},push:function(e){t=t.concat([e]);return e},top:function(){return t.length>0?t[t.length-1]:null},clone:function(){return new d(t.slice(0))}})}function g(n,t,r){var i=true;var o="""";if(typeof n===""string""&&n!==""""){o=n+""_""}o+=""commands"";var a;if(r){a=[]}else{a=e.Storage.get(o);a=a?e.parseJSON(a):[]}var s=a.length-1;e.extend(this,{append:function(n){if(i){if(a[a.length-1]!==n){a.push(n);if(t&&a.length>t){a=a.slice(-t)}s=a.length-1;if(!r){e.Storage.set(o,JSON.stringify(a))}}}},set:function(n){if(n instanceof Array){a=n;if(!r){e.Storage.set(o,JSON.stringify(a))}}},data:function(){return a},reset:function(){s=a.length-1},last:function(){return a[a.length-1]},end:function(){return s===a.length-1},position:function(){return s},current:function(){return a[s]},next:function(){if(s<a.length-1){++s}if(s!==-1){return a[s]}},previous:function(){var e=s;if(s>0){--s}if(e!==-1){return a[s]}},clear:function(){a=[];this.purge()},enabled:function(){return i},enable:function(){i=true},purge:function(){if(!r){e.Storage.remove(o)}},disable:function(){i=false}})}var v=0;e.fn.cmd=function(t){var r=e.extend({pauseEvents:true},t);var i=this;var o=i.data(""cmd"");if(o){return o}var a=v++;i.addClass(""cmd"");i.append('<span class=""prompt""></span><span></span>'+'<span class=""cursor"">&nbsp;</span><span></span>');var s=e(""<textarea>"").attr({autocapitalize:""off"",spellcheck:""false""}).addClass(""clipboard"").appendTo(i);if(r.width){i.width(r.width)}var l;var f;var c=i.find("".prompt"");var u=false;var p="""";var h=null;var d;var w=r.mask||false;var b="""";var k;var x="""";var T=0;var E;var R;var C=r.historySize||60;var S,A;var F=i.find("".cursor"");var L;var O=0;function P(){var n=e(""<span>&nbsp;</span>"").appendTo(i);var t=n[0].getBoundingClientRect();n.remove();return t}function j(e){var n=i.find("".prompt"").text().length;var t=P();var r=t.width;var o=t.height;var a=i.offset();var s=Math.floor((e.x-a.left)/r);var l=Math.floor((e.y-a.top)/o);var f=te(b);var c;if(l>0&&f.length>1){c=s+f.slice(0,l).reduce(function(e,n){return e+n.length},0)}else{c=s-n}var u=b.replace(/\t/g,""\x00\x00\x00\x00"");var p=u.slice(0,c);var m=p.replace(/\x00{4}/g,""   "").replace(/\x00+/,"""").length;return m>b.length?b.length:m}function I(e){if(e.key){var n=e.key.toUpperCase();if(n===""CONTROL""){return""CTRL""}else{var t=[];if(e.ctrlKey){t.push(""CTRL"")}if(e.metaKey&&n!==""META""){t.push(""META"")}if(e.shiftKey&&n!==""SHIFT""){t.push(""SHIFT"")}if(e.altKey&&n!==""ALT""){t.push(""ALT"")}if(e.key){if(n===""DEL""){t.push(""DELETE"")}else{t.push(n)}}return t.join(""+"")}}}var N;var $={""ALT+D"":function(){i.set(b.slice(0,T)+b.slice(T).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""""),true);return false},ENTER:function(){if(A&&b&&!w&&(e.isFunction(r.historyFilter)&&r.historyFilter(b))||r.historyFilter instanceof RegExp&&b.match(r.historyFilter)||!r.historyFilter){A.append(b)}var n=b;A.reset();i.set("""");if(r.commands){r.commands(n)}if(e.isFunction(E)){oe()}e("".clipboard"").val("""");return true},""SHIFT+ENTER"":function(){i.insert(""\n"");return false},BACKSPACE:function(){if(u){p=p.slice(0,-1);Q()}else if(b!==""""&&T>0){i[""delete""](-1)}return false},TAB:function(){i.insert(""    "")},""CTRL+D"":function(){i[""delete""](1);return false},DELETE:function(){i[""delete""](1);return true},ARROWUP:B,UP:B,""CTRL+P"":B,ARROWDOWN:M,DOWN:M,""CTRL+N"":M,ARROWLEFT:W,LEFT:W,""CTRL+B"":W,""CTRL+ARROWLEFT"":function(){var e=T-1;var n=0;if(b[e]==="" ""){--e}for(var t=e;t>0;--t){if(b[t]==="" ""&&b[t+1]!=="" ""){n=t+1;break}else if(b[t]===""\n""&&b[t+1]!==""\n""){n=t;break}}i.position(n)},""CTRL+R"":function(){if(u){ee(true)}else{d=E;Q();k=b;i.set("""");ie();u=true}return false},""CTRL+G"":function(){if(u){E=d;oe();i.set(k);ie();u=false;p="""";return false}},ARROWRIGHT:U,""CTRL+F"":U,RIGHT:U,""CTRL+ARROWRIGHT"":function(){if(b[T]==="" ""){++T}var e=/\S[\n\s]{2,}|[\n\s]+\S?/;var n=b.slice(T).match(e);if(!n||n[0].match(/^\s+$/)){i.position(b.length)}else if(n[0][0]!=="" ""){T+=n.index+1}else{T+=n.index+n[0].length-1;if(n[0][n[0].length-1]!=="" ""){--T}}ie()},F12:H,END:J,""CTRL+E"":J,HOME:q,""CTRL+A"":q,""SHIFT+INSERT"":D,""CTRL+SHIFT+T"":H,""CTRL+W"":function(){if(b!==""""&&T!==0){var e=b.slice(0,T).match(/([^ ]+ *$)/);x=i[""delete""](-e[0].length);K(i,x)}return false},""CTRL+H"":function(){if(b!==""""&&T>0){i[""delete""](-1)}return false},""CTRL+X"":H,""CTRL+C"":H,""CTRL+T"":H,""CTRL+Y"":function(){if(x!==""""){i.insert(x)}},""CTRL+V"":D,""META+V"":D,""CTRL+K"":function(){x=i[""delete""](b.length-T);K(i,x);return false},""CTRL+U"":function(){if(b!==""""&&T!==0){x=i[""delete""](-T);K(i,x)}return false},""CTRL+TAB"":function(){return false},""META+`"":H,""META+R"":H,""META+L"":H};function H(){return true}function D(){s.val("""");O=0;s.focus();s.on(""input"",function e(n){ae(n);s.off(""input"",e)});return true}function B(){if(le){k=b;i.set(A.current())}else{i.set(A.previous())}le=false;return false}function M(){i.set(A.end()?k:A.next());return false}function W(){if(T>0){i.position(-1,true);ie()}}function U(){if(T<b.length){i.position(1,true)}return false}function q(){i.position(0)}function J(){i.position(b.length)}function G(){var e=s.is("":focus"");if(R){if(!e){s.focus();i.oneTime(10,function(){s.focus()})}}else if(e){s.blur()}}function Y(){i.oneTime(10,function(){s.val(b);if(R){i.oneTime(10,function(){try{s.caret(T)}catch(e){}})}})}if(y&&!_){L=function(e){if(e){F.addClass(""blink"")}else{F.removeClass(""blink"")}}}else{var X=false;L=function(e){if(e&&!X){X=true;F.addClass(""inverted blink"");i.everyTime(500,""blink"",V)}else if(X&&!e){X=false;i.stopTime(""blink"",V);F.removeClass(""inverted blink"")}}}function V(){F.toggleClass(""inverted"")}function Q(){E=""(reverse-i-search)`""+p+""': "";oe()}function Z(){E=d;u=false;h=null;p=""""}function ee(n){var t=A.data();var r,o;var a=t.length;if(n&&h>0){a-=h}if(p.length>0){for(var s=p.length;s>0;s--){o=e.terminal.escape_regex(p.substring(0,s));r=new RegExp(o);for(var l=a;l--;){if(r.test(t[l])){h=t.length-l;i.position(t[l].indexOf(o));i.set(t[l],true);ie();if(p.length!==s){p=p.substring(0,s);Q()}return}}}}p=""""}function ne(){var e=i.width();var n=F[0].getBoundingClientRect().width;l=Math.floor(e/n)}function te(e){var n;if(e.match(/\n/)){var t=e.split(""\n"");var r=l-f-1;for(var i=0;i<t.length-1;++i){t[i]+="" ""}if(t[0].length>r){n=[t[0].substring(0,r)];var o=t[0].substring(r);n=n.concat(m(o,l))}else{n=[t[0]]}for(i=1;i<t.length;++i){if(t[i].length>l){n=n.concat(m(t[i],l))}else{n.push(t[i])}}}else{var a=e.substring(0,l-f);var s=e.substring(l-f);n=[a].concat(m(s,l))}return n}function re(n){var t=e.terminal.defaults.formatters;for(var r=0;r<t.length;++r){try{if(typeof t[r]===""function""){var i=t[r](n);if(typeof i===""string""){n=i}}}catch(o){alert(""formatting error at formatters[""+r+""]\n""+(o.stack?o.stack:o))}}return e.terminal.format(e.terminal.encode(n))}var ie=function(){var t=F.prev();var r=F.next();function o(e,n){var i=e.length;if(n===i){t.html(re(e));F.html(""&nbsp;"");r.html("""")}else if(n===0){t.html("""");F.html(re(e.slice(0,1)));r.html(re(e.slice(1)))}else{var o=e.slice(0,n);t.html(re(o));var a=e.slice(n,n+1);F.html(re(a));if(n===e.length-1){r.html("""")}else{r.html(re(e.slice(n+1)))}}}function a(e){return""<div>""+re(e)+""</div>""}function s(n){var t=r;e.each(n,function(n,r){t=e(a(r)).insertAfter(t)})}function c(n){e.each(n,function(e,n){t.before(a(n))})}return function(){var u;switch(typeof w){case""boolean"":u=w?b.replace(/./g,""*""):b;break;case""string"":u=b.replace(/./g,w);break}var p;i.find(""div"").remove();t.html("""");if(u.length>l-f-1||u.match(/\n/)){var m=u.match(/\t/g);var h=m?m.length*3:0;if(m){u=u.replace(/\t/g,""\x00\x00\x00\x00"")}var d=te(u);if(m){d=e.map(d,function(e){return e.replace(/\x00\x00\x00\x00/g,""    "")})}var g=d[0].length;if(g===0&&d.length===1){}else if(T<g){o(d[0],T);s(d.slice(1))}else if(T===g){t.before(a(d[0]));o(d[1]||"""",0);if(d.length>1){s(d.slice(2))}}else{var v=d.length;if(T<g){o(d[0],T);s(d.slice(1))}else if(T===g){t.before(a(d[0]));o(d[1],0);s(d.slice(2))}else{var y=d.slice(-1)[0];var _=u.length-T-h;var k=y.length;var x=0;if(_<=k){c(d.slice(0,-1));if(k===_){x=0}else{x=k-_}o(y,x)}else if(v===3){var E=re(d[0]);t.before(""<div>""+E+""</div>"");o(d[1],T-g-1);E=re(d[2]);r.after(""<div>""+E+""</div>"")}else{var R;var C;x=T;for(p=0;p<d.length;++p){var S=d[p].length;if(x>S){x-=S}else{break}}C=d[p];R=p;if(x===C.length){x=0;C=d[++R];if(C===n){var A=e.terminal.defaults.strings.redrawError;throw new Error(A)}}o(C,x);c(d.slice(0,R));s(d.slice(R+1))}}}}else if(u===""""){t.html("""");F.html(""&nbsp;"");r.html("""")}else{o(u,T)}}}();var oe=function(){function n(n){c.html(e.terminal.format(e.terminal.encode(n)));f=c.text().length}return function(){switch(typeof E){case""string"":n(E);break;case""function"":E(n);break}}}();function ae(){if(O++>0){return}if(i.isenabled()){var e=i.find(""textarea"");if(!e.is("":focus"")){e.focus()}i.oneTime(100,function(){i.insert(e.val());e.val("""");Y()})}}function se(){if(e.isFunction(r.onCommandChange)){r.onCommandChange(b)}}e.extend(i,{name:function(e){if(e!==n){S=e;var t=A&&A.enabled()||!A;A=new g(e,C,r.history===""memory"");if(!t){A.disable()}return i}else{return S}},purge:function(){A.clear();return i},history:function(){return A},""delete"":function(e,n){var t;if(e===0){return i}else if(e<0){if(T>0){t=b.slice(0,T).slice(e);b=b.slice(0,T+e)+b.slice(T,b.length);if(!n){i.position(T+e)}se()}}else if(b!==""""&&T<b.length){t=b.slice(T).slice(0,e);b=b.slice(0,T)+b.slice(T+e,b.length);se()}ie();Y();return t},set:function(e,t){if(e!==n){b=e;if(!t){i.position(b.length)}ie();Y();se()}return i},keymap:function(n){if(typeof n===""undefined""){return N}else{N=e.extend({},$,e.omap(n||{},function(e,n){return function(t){return n(t,$[e])}}));return i}},insert:function(e,n){if(T===b.length){b+=e}else if(T===0){b=e+b}else{b=b.slice(0,T)+e+b.slice(T)}if(!n){i.position(e.length,true)}else{Y()}ie();se();return i},get:function(){return b},commands:function(e){if(e){r.commands=e;return i}else{return e}},destroy:function(){ye.unbind(""keypress.cmd"",_e);ye.unbind(""keydown.cmd"",ve);ye.unbind(""paste.cmd"",ae);ye.unbind(""input.cmd"",we);i.stopTime(""blink"",V);i.find("".cursor"").next().remove().end().prev().remove().end().remove();i.find("".prompt, .clipboard"").remove();i.removeClass(""cmd"").removeData(""cmd"").off("".cmd"");return i},prompt:function(e){if(e===n){return E}else{if(typeof e===""string""||typeof e===""function""){E=e}else{throw new Error(""prompt must be a function or string"")}oe();ie();return i}},kill_text:function(){return x},position:function(n,t){if(typeof n===""number""){if(t){T+=n}else if(n<0){T=0}else if(n>b.length){T=b.length}else{T=n}if(e.isFunction(r.onPositionChange)){r.onPositionChange(T)}ie();Y();return i}else{return T}},visible:function(){var e=i.visible;return function(){e.apply(i,[]);ie();oe()}}(),show:function(){var e=i.show;return function(){e.apply(i,[]);ie();oe()}}(),resize:function(e){if(e){l=e}else{ne()}ie();return i},enable:function(){R=true;i.addClass(""enabled"");try{s.caret(T)}catch(e){}L(true);G();return i},isenabled:function(){return R},disable:function(){R=false;i.removeClass(""enabled"");L(false);G();return i},mask:function(e){if(typeof e===""undefined""){return w}else{w=e;ie();return i}}});i.name(r.name||r.prompt||"""");if(typeof r.prompt===""string""){E=r.prompt}else{E=""> ""}oe();if(r.enabled===n||r.enabled===true){i.enable()}if(!r.history){A.disable()}var le=true;var fe=false;var ce=false;var ue=false;var pe=false;var me=false;var he=false;var de;var ge;function ve(t){var o;ce=pe&&ue;try{ue=t.key&&t.key.length===1;me=String(t.key).toLowerCase()===""unidentified"";he=t.key.toUpperCase()===""BACKSPACE""||t.which===8}catch(a){}ge=s.val();pe=true;var l=I(t);if(R||!r.pauseEvents){if(e.isFunction(r.keydown)){o=r.keydown(t);if(o!==n){return o}}}if(R){de=[""CTRL+V"",""META+V""].indexOf(l)!==-1;if(t.which!==38&&!(t.which===80&&t.ctrlKey)){le=true}if(u&&(t.which===35||t.which===36||t.which===37||t.which===38||t.which===39||t.which===40||t.which===13||t.which===27)){Z();oe();if(t.which===27){i.set("""")}ie();ve.call(this,t)}else if(e.isFunction(N[l])){o=N[l]();if(o===true){return}if(o!==n){return o}}else if(t.altKey){return}else{fe=false;return}t.preventDefault()}else if(!r.pauseEvents&&e.isFunction(N[l])){o=N[l]();if(o===true){return}if(o!==n){return o}}}var ye=e(document.documentElement||window);i.keymap(r.keymap);function _e(t){var o;pe=false;if((t.ctrlKey||t.metaKey)&&[99,118,86].indexOf(t.which)!==-1){return}if(fe){return}if(R||!r.pauseEvents){if(e.isFunction(r.keypress)){o=r.keypress(t);if(o!==n){return o}}}var a;if(z()){a=t.key}if(!a||me){a=String.fromCharCode(t.which)}if(a.toUpperCase()===""SPACEBAR""){a="" ""}if(R){if(e.inArray(t.which,[13,0,8])>-1){if(t.keyCode===123){return}return false}else if(a&&(!t.ctrlKey||t.ctrlKey&&t.ctrlKey)&&(!(t.altKey&&t.which===100)||t.altKey)&&!ce){if(u){p+=a;ee();Q()}else{i.insert(a)}return false}}}function we(){if((pe||ce)&&!de&&(ue||me)&&!he){var e=T;var n=s.val();if(n!==""""){if(u){p=n;ee();Q()}else{i.set(n)}if(he||n.length<ge.length){i.position(e-1)}else{i.position(e+Math.abs(n.length-ge.length))}}}}ye.bind(""keypress.cmd"",_e).bind(""keydown.cmd"",ve).bind(""input.cmd"",we);(function(){var n=false;var t=false;var o=0;i.on(""mousedown.cmd"",function(){t=true;i.oneTime(1,function(){e(window).on(""mousemove.cmd_""+a,function(){n=true;e(window).off(""mousemove.cmd_""+a)})})}).on(""mouseup.cmd"",function(s){var l=n;n=false;e(window).off(""mousemove.cmd_""+a);if(!l){var f=""click_""+a;if(++o===1){var c=t;if(R){i.oneTime(r.clickTimeout,f,function(){if(!e(s.target).is("".prompt"")&&c){i.position(j({x:s.pageX,y:s.pageY}))}o=0})}else{o=0}}else{i.stopTime(f);o=0}}t=false})})();i.data(""cmd"",i);if(!(""KeyboardEvent""in window&&""key""in window.KeyboardEvent.prototype)){setTimeout(function(){throw new Error(""key event property not supported try ""+""https://github.com/cvan/keyboardevent-key-polyfill"")},0)}return i};var y=function(){var e=false,t=""Webkit Moz O ms Khtml"".split("" ""),r=document.createElement(""div"");if(r.style.animationName){e=true}if(e===false){for(var i=0;i<t.length;i++){var o=t[i]+""AnimationName"";if(r.style[o]!==n){e=true;break}}}return e}();var _=navigator.userAgent.toLowerCase().indexOf(""android"")!==-1;var w=function(){return""ontouchstart""in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch}();function b(e,n){var t=n(e);if(t.length){var r=t.shift();var i=e.substring(r.length).trim();return{command:e,name:r,args:t,rest:i}}else{return{command:e,name:"""",args:[],rest:""""}}}var k=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i;var x=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi;var T=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi;var E=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi;var R=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi;var C=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i;var S=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s""'<>\][)])+\b)/gi;var A=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s""'<>\][)])+)\b(?![^[\]]*])/gi;var F=/((([^<>('"")[\]\\.,;:\s@""]+(\.[^<>()[\]\\.,;:\s@""]+)*)|("".+""))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g;var L=/('(?:[^']|\\')*'|""(\\""|[^""])*""|(?:\/(\\\/|[^\/])+\/[gimy]*)(?=:? |$)|(\\\s|\S)+|[\w-]+)/gi;var O=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i;var P=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i;var j=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i;var I=/(\[\[(?:[^\]]|\\\])*\]\])/;var N=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;var $=/^\/((?:\\\/|[^\/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/;e.terminal={version:""1.1.1"",color_names:[""transparent"",""currentcolor"",""black"",""silver"",""gray"",""white"",""maroon"",""red"",""purple"",""fuchsia"",""green"",""lime"",""olive"",""yellow"",""navy"",""blue"",""teal"",""aqua"",""aliceblue"",""antiquewhite"",""aqua"",""aquamarine"",""azure"",""beige"",""bisque"",""black"",""blanchedalmond"",""blue"",""blueviolet"",""brown"",""burlywood"",""cadetblue"",""chartreuse"",""chocolate"",""coral"",""cornflowerblue"",""cornsilk"",""crimson"",""cyan"",""darkblue"",""darkcyan"",""darkgoldenrod"",""darkgray"",""darkgreen"",""darkgrey"",""darkkhaki"",""darkmagenta"",""darkolivegreen"",""darkorange"",""darkorchid"",""darkred"",""darksalmon"",""darkseagreen"",""darkslateblue"",""darkslategray"",""darkslategrey"",""darkturquoise"",""darkviolet"",""deeppink"",""deepskyblue"",""dimgray"",""dimgrey"",""dodgerblue"",""firebrick"",""floralwhite"",""forestgreen"",""fuchsia"",""gainsboro"",""ghostwhite"",""gold"",""goldenrod"",""gray"",""green"",""greenyellow"",""grey"",""honeydew"",""hotpink"",""indianred"",""indigo"",""ivory"",""khaki"",""lavender"",""lavenderblush"",""lawngreen"",""lemonchiffon"",""lightblue"",""lightcoral"",""lightcyan"",""lightgoldenrodyellow"",""lightgray"",""lightgreen"",""lightgrey"",""lightpink"",""lightsalmon"",""lightseagreen"",""lightskyblue"",""lightslategray"",""lightslategrey"",""lightsteelblue"",""lightyellow"",""lime"",""limegreen"",""linen"",""magenta"",""maroon"",""mediumaquamarine"",""mediumblue"",""mediumorchid"",""mediumpurple"",""mediumseagreen"",""mediumslateblue"",""mediumspringgreen"",""mediumturquoise"",""mediumvioletred"",""midnightblue"",""mintcream"",""mistyrose"",""moccasin"",""navajowhite"",""navy"",""oldlace"",""olive"",""olivedrab"",""orange"",""orangered"",""orchid"",""palegoldenrod"",""palegreen"",""paleturquoise"",""palevioletred"",""papayawhip"",""peachpuff"",""peru"",""pink"",""plum"",""powderblue"",""purple"",""red"",""rosybrown"",""royalblue"",""saddlebrown"",""salmon"",""sandybrown"",""seagreen"",""seashell"",""sienna"",""silver"",""skyblue"",""slateblue"",""slategray"",""slategrey"",""snow"",""springgreen"",""steelblue"",""tan"",""teal"",""thistle"",""tomato"",""turquoise"",""violet"",""wheat"",""white"",""whitesmoke"",""yellow"",""yellowgreen""],valid_color:function(n){if(n.match(C)){return true}else{return e.inArray(n.toLowerCase(),e.terminal.color_names)!==-1}},escape_regex:function(e){if(typeof e===""string""){var n=/([-\\^$[\]()+{}?*.|])/g;return e.replace(n,""\\$1"")}},have_formatting:function(e){return typeof e===""string""&&!!e.match(E)},is_formatting:function(e){return typeof e===""string""&&!!e.match(R)},format_split:function(e){return e.split(k)},split_equal:function(n,t,r){var i=false;var o=false;var a="""";var s=[];var l=n.replace(T,function(e,n,t){var r=n.match(/;/g).length;if(r>=4){return e}else if(r===2){r="";;""}else if(r===3){r="";""}else{r=""""}var i=t.replace(/\\\]/g,""&#93;"").replace(/\n/g,""\\n"").replace(/&nbsp;/g,"" "");return""[[""+n+r+i+""]""+t+""]""}).split(/\n/g);function f(){return m.substring(y-6,y)===""&nbsp;""||m.substring(y-1,y)==="" ""}function c(){var e=g.match(T);if(e){var n=e[e.length-1];if(n[n.length-1]!==""]""){a=n.match(O)[1];g+=""]""}else if(g.match(j)){g=g.replace(j,"""");a=n.match(O)[1]}}}for(var u=0,p=l.length;u<p;++u){if(l[u]===""""){s.push("""");continue}var m=l[u];var h=0;var d=0;var g;var v=-1;for(var y=0,_=m.length;y<_;++y){if(m.substring(y).match(P)){i=true;o=false}else if(i&&m[y]===""]""){if(o){i=false;o=false}else{o=true}}else if(i&&o||!i){if(m[y]===""&""){var w=m.substring(y).match(/^(&[^;]+;)/);if(!w){throw new Error(""Unclosed html entity in line ""+(u+1)+"" at char ""+(y+1))}y+=w[1].length-2;if(y===_-1){s.push(g+w[1])}continue}else if(m[y]===""]""&&m[y-1]===""\\""){--d}else{++d}}if(f()&&(i&&o||!i||m[y]===""[""&&m[y+1]===""["")){v=y}if((d===t||y===_-1)&&(i&&o||!i)){var b=e.terminal.strip(m.substring(v));b=e(""<span>""+b+""</span>"").text();var k=b.length;b=b.substring(0,y+t+1);var x=!!b.match(/\s/)||y+t+1>k;if(r&&v!==-1&&y!==_-1&&x){g=m.substring(h,v);y=v-1}else{g=m.substring(h,y+1)}if(r){g=g.replace(/(&nbsp;|\s)+$/g,"""")}v=-1;h=y+1;d=0;if(a){g=a+g;if(g.match(""]"")){a=""""}}c();s.push(g)}}}return s},encode:function(e){e=e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,""&amp;"");return e.replace(/</g,""&lt;"").replace(/>/g,""&gt;"").replace(/ /g,""&nbsp;"").replace(/\t/g,""&nbsp;&nbsp;&nbsp;&nbsp;"")},escape_formatting:function(n){return e.terminal.escape_brackets(e.terminal.encode(n))},format:function(n,t){var r=e.extend({},{linksNoReferrer:false},t||{});if(typeof n===""string""){var i=e.terminal.format_split(n);n=e.map(i,function(n){if(n===""""){return n}else if(e.terminal.is_formatting(n)){n=n.replace(/\[\[[^\]]+\]/,function(e){return e.replace(/&nbsp;/g,"" "")});return n.replace(x,function(n,t,i,o,a,s,l){if(l===""""){return""""}l=l.replace(/\\]/g,""]"");var f="""";if(t.indexOf(""b"")!==-1){f+=""font-weight:bold;""}var c=[];if(t.indexOf(""u"")!==-1){c.push(""underline"")}if(t.indexOf(""s"")!==-1){c.push(""line-through"")}if(t.indexOf(""o"")!==-1){c.push(""overline"")}if(c.length){f+=""text-decoration:""+c.join("" "")+"";""}if(t.indexOf(""i"")!==-1){f+=""font-style:italic;""}if(e.terminal.valid_color(i)){f+=""color:""+i+"";"";if(t.indexOf(""g"")!==-1){f+=""text-shadow:0 0 5px ""+i+"";""}}if(e.terminal.valid_color(o)){f+=""background-color:""+o}var u;if(s===""""){u=l}else{u=s.replace(/&#93;/g,""]"")}var p;if(t.indexOf(""!"")!==-1){if(u.match(F)){p='<a href=""mailto:'+u+'"" '}else{p='<a target=""_blank"" href=""'+u+'"" ';if(r.linksNoReferrer){p+='rel=""noreferrer"" '}}}else{p=""<span""}if(f!==""""){p+=' style=""'+f+'""'}if(a!==""""){p+=' class=""'+a+'""'}if(t.indexOf(""!"")!==-1){p+="">""+l+""</a>""}else{p+=' data-text=""'+u.replace('""',""&quote;"")+'"">'+l+""</span>""}return p})}else{return""<span>""+n.replace(/\\\]/g,""]"")+""</span>""}}).join("""");return n.replace(/<span><br\s*\/?><\/span>/gi,""<br/>"")}else{return""""}},escape_brackets:function(e){return e.replace(/\[/g,""&#91;"").replace(/\]/g,""&#93;"")},strip:function(e){return e.replace(x,""$6"")},active:function(){return Z.front()},last_id:function(){var e=Z.length();if(e){return e-1}},parse_arguments:function(n){return e.map(n.match(L)||[],function(n){var t=n.match($);if(t){return new RegExp(t[1],t[2])}else if(n[0]===""'""&&n[n.length-1]===""'""&&n.length>1){return n.replace(/^'|'$/g,"""")}else if(n[0]==='""'&&n[n.length-1]==='""'&&n.length>1){return e.parseJSON(n)}else if(n.match(/^-?[0-9]+$/)){return parseInt(n,10)}else if(n.match(N)){return parseFloat(n)}else if(n.match(/^['""]$/)){return""""}else{return n.replace(/\\(['""() ])/g,""$1"")}})},split_arguments:function(n){return e.map(n.match(L)||[],function(e){if(e[0]===""'""&&e[e.length-1]===""'""){return e.replace(/^'|'$/g,"""")}else if(e[0]==='""'&&e[e.length-1]==='""'){return e.replace(/^""|""$/g,"""").replace(/\\(["" ])/g,""$1"")}else if(e.match(/\/.*\/[gimy]*$/)){return e}else{return e.replace(/\\ /g,"" "")}})},parse_command:function(n){return b(n,e.terminal.parse_arguments)},split_command:function(n){return b(n,e.terminal.split_arguments)},extended_command:function(e,n){try{te=false;e.exec(n,true).then(function(){te=true})}catch(t){}}};e.fn.visible=function(){return this.css(""visibility"",""visible"")};e.fn.hidden=function(){return this.css(""visibility"",""hidden"")};e.fn.scroll_element=function(){var n=e.fn.scroll_element.defaults;return this.map(function(){var t=e(this);if(t.is(""body"")){var r=e(""html"");var i=e(""body"");var o=i.scrollTop()||r.scrollTop();var a=e(""<pre/>"").css(n.pre).appendTo(""body"");a.html(new Array(n.lines).join(""\n""));e(""body,html"").scrollTop(10);var s;if(i.scrollTop()===10){i.scrollTop(o);s=i[0]}else if(r.scrollTop()===10){r.scrollTop(o);s=r[0]}a.remove();return s}else{return this}})};e.fn.scroll_element.defaults={lines:2e3,pre:{""font-size"":""14px"",""white-space"":""pre""}};function z(){if(!(""KeyboardEvent""in window&&""key""in window.KeyboardEvent.prototype)){return false}var e=window.KeyboardEvent.prototype;var n=Object.getOwnPropertyDescriptor(e,""key"").get;return n.toString().match(/\[native code\]/)}function H(e){if(console&&console.warn){console.warn(e)}else{throw new Error(""WARN: ""+e)}}var D={};e.jrpc=function(n,t,r,i,o){"
"userAgent.toLowerCase().match(/(webkit)[ \/]([\w.]+)/)&&self[0].tagName.toLowerCase()==""body""){scroll_object=$(""html"")}else{scroll_object=self}$(document).bind(""ajaxSend.terminal"",function(e,xhr,opt){requests.push(xhr)});output=$(""<div>"").addClass(""terminal-output"").appendTo(self);self.addClass(""terminal"");if(""ontouchstart""in window||window.DocumentTouch&&document instanceof DocumentTouch){self.click(function(){self.find(""textarea"").focus()});self.find(""textarea"").focus()}if(settings.login&&typeof settings.onBeforeLogin===""function""){try{settings.onBeforeLogin(self)}catch(e){display_exception(e,""onBeforeLogin"");throw e}}var auth=settings.login;if(typeof init_interpreter===""string""&&(typeof settings.login===""string""||settings.login)){settings.login=make_json_rpc_login(init_interpreter,settings.login)}terminals.append(self);var interpreters;var command_line;make_interpreter(init_interpreter,auth,function(interpreter){interpreters=new Stack($.extend({name:settings.name,prompt:settings.prompt,greetings:settings.greetings},interpreter));command_line=$(""<div/>"").appendTo(self).cmd({prompt:settings.prompt,history:settings.history,historyFilter:settings.historyFilter,historySize:settings.historySize,width:""100%"",keydown:key_down,keypress:settings.keypress?function(e){return settings.keypress(e,self)}:null,onCommandChange:function(command){if($.type(settings.onCommandChange)===""function""){try{settings.onCommandChange(command,self)}catch(e){display_exception(e,""onCommandChange"");throw e}}scroll_to_bottom()},commands:commands});if(enabled){self.focus(undefined,true)}else{self.disable()}$(document).bind(""click.terminal"",function(e){if(!$(e.target).closest("".terminal"").hasClass(""terminal"")&&settings.onBlur(self)!==false){self.disable()}});self.click(function(e){if(!self.enabled()){self.focus()}}).mousedown(function(e){if(e.which==2){self.insert(getSelectedText())}});if(settings.login){self.login(settings.login,true,initialize)}else{initialize()}if(self.is("":visible"")){num_chars=get_num_chars(self);command_line.resize(num_chars);num_rows=get_num_rows(self)}self.oneTime(100,function(){$(window).bind(""resize.terminal"",function(){if(self.is("":visible"")){var width=self.width();var height=self.height();if(old_height!==height||old_width!==width){self.resize()}}})});if($.event.special.mousewheel){var shift=false;$(document).bind(""keydown.terminal"",function(e){if(e.shiftKey){shift=true}}).bind(""keyup.terminal"",function(e){if(e.shiftKey||e.which==16){shift=false}});self.mousewheel(function(event,delta){if(!shift){if(delta>0){self.scroll(-40)}else{self.scroll(40)}}})}});self.data(""terminal"",self);return self}}})(jQuery);"
"userAgent;var a=(l.indexOf(""MSIE 6.0"")>=0||l.indexOf(""MSIE 7.0"")>=0||l.indexOf(""MSIE 8.0"")>=0);this.doAddLabel(e,h);this.doAddInput(e,h,""INPUT"",""TEXT"",true,true,""dhxform_textarea calendar"");this.doAttachChangeLS(e);if(a){e.childNodes[e._ll?1:0].childNodes[0].onfocus2=e.childNodes[e._ll?1:0].childNodes[0].onfocus;e.childNodes[e._ll?1:0].childNodes[0].onfocus=function(){if(this._skipOnFocus==true){this._skipOnFocus=false;return}this.onfocus2.apply(this,arguments)}}e.childNodes[e._ll?1:0].childNodes[0]._idd=e._idd;e.childNodes[e._ll?1:0].childNodes[0].onblur=function(){var m=this.parentNode.parentNode;if(m._c.base._formMouseDown){m._c.base._formMouseDown=false;this._skipOnFocus=true;this.focus();this.value=this.value;m=null;return true}var n=m.getForm();n._ccDeactivate(m._idd);c.checkEnteredValue(this.parentNode.parentNode);if(n.live_validate){c._validate(m)}n.callEvent(""onBlur"",[m._idd]);n=m=null};e._f=(h.dateFormat||null);e._f0=(h.serverDateFormat||e._f);var g=e.getForm();e._c=new dhtmlXCalendarObject(e.childNodes[e._ll?1:0].childNodes[0],h.skin||g.skin||""dhx_skyblue"");e._c._nullInInput=true;e._c.enableListener(e.childNodes[e._ll?1:0].childNodes[0]);if(e._f!=null){e._c.setDateFormat(e._f)}if(!window.dhx4.s2b(h.enableTime)){e._c.hideTime()}if(window.dhx4.s2b(h.showWeekNumbers)){e._c.showWeekNumbers()}if(!isNaN(h.weekStart)){e._c.setWeekStartDay(h.weekStart)}if(typeof(h.calendarPosition)!=""undefined""){e._c.setPosition(h.calendarPosition)}if(h.minutesInterval!=null){e._c.setMinutesInterval(h.minutesInterval)}e._c._itemIdd=e._idd;e._c.attachEvent(""onBeforeChange"",function(m){if(e._value!=m){if(e.checkEvent(""onBeforeChange"")){if(e.callEvent(""onBeforeChange"",[e._idd,e._value,m])!==true){return false}}e._tempValue=e._value=m;c.setValue(e,m,false);e.callEvent(""onChange"",[this._itemIdd,e._value])}return true});e._c.attachEvent(""onClick"",function(){e._tempValue=null});if(a){e._c.base.onmousedown=function(){this._formMouseDown=true;return false}}this.setValue(e,h.value);g=null;return this},getCalendar:function(a){return a._c},setSkin:function(a,c){a._c.setSkin(c)},setValue:function(c,e,a){if(!e||e==null||typeof(e)==""undefined""||e==""""){c._value=null;c.childNodes[c._ll?1:0].childNodes[0].value=""""}else{c._value=(e instanceof Date?e:c._c._strToDate(e,c._f0||c._c._dateFormat));c.childNodes[c._ll?1:0].childNodes[0].value=c._c._dateToStr(c._value,c._f||c._c._dateFormat)}if(a!==false){c._c.setDate(c._value)}},getValue:function(c,a){var e=c._tempValue||c._c.getDate();if(a===true&&e==null){return""""}return(a===true?c._c._dateToStr(e,c._f0||c._c._dateFormat):e)},setDateFormat:function(c,a,e){c._f=a;c._f0=(e||c._f);c._c.setDateFormat(c._f);this.setValue(c,this.getValue(c))},destruct:function(a){a._c.disableListener(a.childNodes[a._ll?1:0].childNodes[0]);a._c.unload();a._c=null;try{delete a._c}catch(c){}a._f=null;try{delete a._f}catch(c){}a._f0=null;try{delete a._f0}catch(c){}a.childNodes[a._ll?1:0].childNodes[0]._idd=null;a.childNodes[a._ll?1:0].childNodes[0].onblur=null;this.d2(a);a=null},checkEnteredValue:function(a){this.setValue(a,a._c.getDate())}};(function(){for(var c in {doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1}){dhtmlXForm.prototype.items.calendar[c]=dhtmlXForm.prototype.items.input[c]}})();dhtmlXForm.prototype.items.calendar.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS;dhtmlXForm.prototype.items.calendar.d2=dhtmlXForm.prototype.items.input.destruct;dhtmlXForm.prototype.getCalendar=function(a){return this.doWithItem(a,""getCalendar"")};dhtmlXForm.prototype.setCalendarDateFormat=function(c,a,e){this.doWithItem(c,""setDateFormat"",a,e)};dhtmlXForm.prototype.items.btn2state={setChecked:function(a,c){a._checked=(c===true?true:false);a.childNodes[a._ll?1:0].lastChild.className=""dhxform_img ""+a._cssName+""_""+(a._checked?""1"":""0"");this.doCheckValue(a)}};(function(){for(var c in dhtmlXForm.prototype.items.checkbox){if(!dhtmlXForm.prototype.items.btn2state[c]){dhtmlXForm.prototype.items.btn2state[c]=dhtmlXForm.prototype.items.checkbox[c]}}})();dhtmlXForm.prototype.items.btn2state.render2=dhtmlXForm.prototype.items.btn2state.render;dhtmlXForm.prototype.items.btn2state.render=function(a,c){c._autoInputWidth=false;this.render2(a,c);a._type=""btn2state"";a._cssName=(typeof(c.cssName)==""undefined""?""btn2state"":c.cssName);a._updateImgNode=function(){};a._doOnFocus=function(){a.getForm().callEvent(""onFocus"",[a._idd])};a._doOnBlur=function(){a.getForm().callEvent(""onBlur"",[a._idd])};a._doOnKeyUpDown=function(g,e,h){this.callEvent(g,[this.childNodes[this._ll?0:1].childNodes[0],e,this._idd])};this.setChecked(a,a._checked);return this};dhtmlXForm.prototype.setFormData_btn2state=function(a,c){this[c==true||parseInt(c)==1||c==""true""||c==this.getItemValue(a)?""checkItem"":""uncheckItem""](a)};dhtmlXForm.prototype.getFormData_btn2state=function(a){return(this.isItemChecked(a)?this.getItemValue(a):0)};dhtmlXForm.prototype.items.colorpicker={colorpicker:{},render:function(e,g){var c=this;e._type=""colorpicker"";e._enabled=true;this.doAddLabel(e,g);this.doAddInput(e,g,""INPUT"",""TEXT"",true,true,""dhxform_textarea"");e._value=(g.value||"""");e.childNodes[e._ll?1:0].childNodes[0].value=e._value;var a={input:e.childNodes[e._ll?1:0].childNodes[0],custom_colors:(window.dhx4.s2b(g.enableCustomColors)==true),skin:e.getForm().skin};this.colorpicker[e._idd]=new dhtmlXColorPicker(a);this.colorpicker[e._idd]._nodes[0].valueColor=null;this.colorpicker[e._idd].base.className+="" dhtmlxcp_in_form"";if(typeof(g.customColors)!=""undefined""){this.colorpicker[e._idd].setCustomColors(g.customColors)}if(typeof(g.cpPosition)==""string""){this.colorpicker[e._idd].setPosition(g.cpPosition)}this.colorpicker[e._idd].attachEvent(""onSelect"",function(h){if(e._value!=h){if(e.checkEvent(""onBeforeChange"")){if(e.callEvent(""onBeforeChange"",[e._idd,e._value,h])!==true){e.childNodes[e._ll?1:0].childNodes[0].value=e._value;return}}e._value=h;c.setValue(e,h);e.callEvent(""onChange"",[e._idd,e._value])}});this.colorpicker[e._idd].attachEvent(""onHide"",function(h){var l=e.childNodes[e._ll?1:0].childNodes[0];if(l.value!=e._value){l.value=e._value}l=null});e.childNodes[e._ll?1:0].childNodes[0]._idd=e._idd;return this},getColorPicker:function(a){return this.colorpicker[a._idd]},destruct:function(a){if(this.colorpicker[a._idd].unload){this.colorpicker[a._idd].unload()}this.colorpicker[a._idd]=null;try{delete this.colorpicker[a._idd]}catch(c){}a.childNodes[a._ll?1:0].childNodes[0]._idd=null;this.d2(a);a=null},setSkin:function(a,c){this.colorpicker[a._idd].setSkin(c)}};(function(){for(var c in {doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setValue:1,getValue:1,updateValue:1,setFocus:1,getInput:1}){dhtmlXForm.prototype.items.colorpicker[c]=dhtmlXForm.prototype.items.input[c]}})();dhtmlXForm.prototype.items.colorpicker.d2=dhtmlXForm.prototype.items.input.destruct;dhtmlXForm.prototype.getColorPicker=function(a){return this.doWithItem(a,""getColorPicker"")};dhtmlXForm.prototype.items.container={render:function(a,c){a._type=""container"";a._enabled=true;this.doAddLabel(a,c);this.doAddInput(a,c,""DIV"",null,true,true,""dhxform_container"");return this},getContainer:function(a){return a.childNodes[a._ll?1:0].childNodes[0]},enable:function(a){a._enabled=true;if(String(a.className).search(""disabled"")>=0){a.className=String(a.className).replace(/disabled/gi,"""")}a.callEvent(""onEnable"",[a._idd])},disable:function(a){a._enabled=false;if(String(a.className).search(""disabled"")<0){a.className+="" disabled""}a.callEvent(""onDisable"",[a._idd])},doAttachEvents:function(){},setValue:function(){},getValue:function(){return null}};dhtmlXForm.prototype.getContainer=function(a){return this.doWithItem(a,""getContainer"")};(function(){for(var c in dhtmlXForm.prototype.items.input){if(!dhtmlXForm.prototype.items.container[c]){dhtmlXForm.prototype.items.container[c]=dhtmlXForm.prototype.items.input[c]}}})();dhtmlXForm.prototype.items.editor={editor:{},render:function(e,g){var a=(!isNaN(g.rows));e._type=""editor"";e._enabled=true;e._editor_id=e.getForm().idPrefix+e._idd;this.doAddLabel(e,g);this.doAddInput(e,g,""DIV"",null,true,true,""dhxform_item_template"");e._value=(g.value||"""");var c=this;this.editor[e._editor_id]=new dhtmlXEditor({parent:e.childNodes[e._ll?1:0].childNodes[0],content:e._value,iconsPath:g.iconsPath,toolbar:g.toolbar});this.editor[e._editor_id].attachEvent(""onAccess"",function(l,m){e.callEvent(""_onBeforeEditorAccess"",[]);_dhxForm_doClick(document.body,""click"");if(l==""blur""){c.doOnBlur(e,this);e.callEvent(""onBlur"",[e._idd]);if(e.getForm().skin==""dhx_terrace""){var h=e.childNodes[e._ll?1:0].className;if(h.indexOf(""dhxeditor_focus"")>=0){e.childNodes[e._ll?1:0].className=(h).replace(/\s{0,}dhxeditor_focus/gi,"""")}}}else{e.callEvent(""onEditorAccess"",[e._idd,l,m,this,e.getForm()]);e.callEvent(""onFocus"",[e._idd]);if(e.getForm().skin==""dhx_terrace""){var h=e.childNodes[e._ll?1:0].className;if(h.indexOf(""dhxeditor_focus"")==-1){e.childNodes[e._ll?1:0].className+="" dhxeditor_focus""}}}});this.editor[e._editor_id].attachEvent(""onToolbarClick"",function(h){e.callEvent(""onEditorToolbarClick"",[e._idd,h,this,e.getForm()])});if(g.readonly){this.setReadonly(e,true)}e.childNodes[e._ll?0:1].childNodes[0].removeAttribute(""for"");e.childNodes[e._ll?0:1].childNodes[0].onclick=function(){c.editor[e._editor_id]._focus()};return this},doOnBlur:function(e,c){var a=c.getContent();if(e._value!=a){if(e.checkEvent(""onBeforeChange"")){if(e.callEvent(""onBeforeChange"",[e._idd,e._value,a])!==true){c.setContent(e._value);return}}e._value=a;e.callEvent(""onChange"",[e._idd,a])}},setValue:function(a,c){if(a._value==c){return}a._value=c;this.editor[a._editor_id].setContent(a._value)},getValue:function(a){a._value=this.editor[a._editor_id].getContent();return a._value},enable:function(a){if(this.isEnabled(a)!=true){this.editor[a._editor_id].setReadonly(false);this.doEn(a)}},disable:function(a){if(this.isEnabled(a)==true){this.editor[a._editor_id].setReadonly(true);this.doDis(a)}},setReadonly:function(a,c){this.editor[a._editor_id].setReadonly(c)},getEditor:function(a){return(this.editor[a._editor_id]||null)},destruct:function(a){a.childNodes[a._ll?0:1].childNodes[0].onclick=null;this.editor[a._editor_id].unload();this.editor[a._editor_id]=null;this.d2(a);a=null},setFocus:function(a){this.editor[a._editor_id]._focus()}};(function(){for(var c in {doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,setWidth:1,isEnabled:1}){dhtmlXForm.prototype.items.editor[c]=dhtmlXForm.prototype.items.template[c]}})();dhtmlXForm.prototype.items.editor.d2=dhtmlXForm.prototype.items.select.destruct;dhtmlXForm.prototype.items.editor.doEn=dhtmlXForm.prototype.items.select.enable;dhtmlXForm.prototype.items.editor.doDis=dhtmlXForm.prototype.items.select.disable;dhtmlXForm.prototype.getEditor=function(a){return this.doWithItem(a,""getEditor"")};dhtmlXForm.prototype.items.upload={render:function(c,e){c._type=""up"";c._enabled=true;c._checked=true;c.className=e.position+(typeof(e.className)==""string""?"" ""+e.className:"""");var a=document.createElement(""DIV"");c.appendChild(a);if(!isNaN(e.inputLeft)){c.style.left=parseInt(e.inputLeft)+""px""}if(!isNaN(e.inputTop)){c.style.top=parseInt(e.inputTop)+""px""}if(e.inputWidth!=""auto""){if(!isNaN(e.inputWidth)){a.style.width=parseInt(e.inputWidth)+""px""}}c._uploader=new dhtmlXFileUploader(a,e.swfPath||"""",e.swfUrl||"""",e.mode||null,e.swfLogs,e.slXap||"""",e.slUrl||"""",e.slLogs||"""",e.multiple);c._uploader.setURL(e.url||"""");c._uploader.callEvent=c.callEvent;if(typeof(e.autoStart)!=""undefined""){c._uploader.setAutoStart(e.autoStart)}if(typeof(e.autoRemove)!=""undefined""){c._uploader.setAutoRemove(e.autoRemove)}if(typeof(e.titleScreen)!=""undefined""){c._uploader.enableTitleScreen(e.titleScreen)}if(typeof(e.titleText)!=""undefined""){c._uploader.setTitleText(e.titleText)}if(e.hidden==true){this.hide(c)}if(e.disabled==true){this.userDisable(c)}if(!(e.inputHeight==""auto""||parseInt(e.inputHeight)==NaN)){c._uploader.p_files.style.height=parseInt(e.inputHeight)+""px""}return this},destruct:function(a){this.doUnloadNestedLists(a);a._uploader.callEvent=function(){return true};a._uploader.unload();a._uploader.callEvent=null;a._uploader=null;a._checked=null;a._enabled=null;a._idd=null;a._type=null;a.onselectstart=null;a._autoCheck=null;a.callEvent=null;a.checkEvent=null;a.getForm=null;while(a.childNodes.length>0){a.removeChild(a.childNodes[0])}a.parentNode.removeChild(a);a=null},setText:function(a,c){},getText:function(a){},enable:function(a){a._enabled=true;if(String(a.className).search(""disabled"")>=0){a.className=String(a.className).replace(/disabled/gi,"""")}a._uploader.enable()},disable:function(a){a._enabled=false;if(String(a.className).search(""disabled"")<0){a.className+="" disabled""}a._uploader.disable()},setWidth:function(c,a){c.childNodes[0].style.width=a+""px"";c._width=a},getWidth:function(a){return a._width||parseInt(a.childNodes[0].style.width)},setValue:function(a){a._uploader.clear()},getValue:function(l){var g=l._uploader.getData();var h={};var e=0;for(var c in g){h[l._idd+""_r_""+e]=g[c].realName;h[l._idd+""_s_""+e]=g[c].serverName;e++}h[l._idd+""_count""]=e;return h},getUploader:function(a){return a._uploader},getStatus:function(a){return a._uploader.getStatus()}};(function(){for(var c in {doUnloadNestedLists:1,isEnabled:1}){dhtmlXForm.prototype.items.upload[c]=dhtmlXForm.prototype.items.checkbox[c]}})();dhtmlXForm.prototype.setFormData_upload=function(a){this.doWithItem(a,""setValue"")};dhtmlXForm.prototype.getUploader=function(a){return this.doWithItem(a,""getUploader"")};dhtmlXForm.prototype.getUploaderStatus=function(a){return this.doWithItem(a,""getStatus"")};function dhtmlXFileUploader(c,n,m,o,s,l,v,h,w){var q=this;if(typeof(o)==""string""&&typeof(this[o])==""function""){this.engine=o}else{this.engine=""html4"";var g=null;if(typeof(window.FormData)!=""undefined""&&typeof(window.XMLHttpRequest)!=""undefined""){g=new XMLHttpRequest();if(typeof(g.upload)==""undefined""){g=null}}if(g!=null){this.engine=""html5""}else{if(typeof(window.swfobject)!=""undefined""||g===false){var g=swfobject.getFlashPlayerVersion();if(g.major>=10){this.engine=""flash""}}else{this._sl_v=this.getSLVersion();if(this._sl_v){this.engine=""sl""}}}g=null}if(typeof(c)==""string""){c=document.getElementById(c)}this._upload_mp=(typeof(w)!=""undefined""?w==true:true);this._upload_dnd=true;this._swf_file_url=n||"""";this._swf_upolad_url=m||"""";this._swf_logs=s;this._sl_xap=l;this._sl_upload_url=v;this._sl_logs=h;this.p=document.createElement(""DIV"");this.p.className+="" dhx_file_uploader"";c.appendChild(this.p);this.p_files=document.createElement(""DIV"");this.p_files.className=""dhx_upload_files"";this.p.appendChild(this.p_files);this.p_controls=document.createElement(""DIV"");this.p_controls.className=""dhx_upload_controls"";this.p.appendChild(this.p_controls);this._files={};this._items={};this._data={};this._autoStart=false;this._autoRemove=false;this._titleScreen=true;this._enabled=true;this._uploaded_count=0;this._initToolbar=function(){this.b_opts={info:{onclick:null},browse:{onclick:null,tooltip:""Browse""},upload:{onclick:function(){if(!q._enabled){return}if(!q._uploading){q._uploadStart()}},tooltip:""Upload""},cancel:{onclick:function(){if(!q._enabled){return}q._uploadStop();q._switchButton(false)},tooltip:""Stop""},clear:{onclick:function(){if(!q._enabled){return}q.clear()},tooltip:""Clear list""}};this.buttons={};for(var e in this.b_opts){var x=document.createElement(""DIV"");x.innerHTML=""&nbsp;"";x.className=""dhx_file_uploader_button button_""+e;x.onclick=this.b_opts[e].onclick;if(this.b_opts[e].tooltip){x.title=this.b_opts[e].tooltip}this.p_controls.appendChild(x);this.buttons[e]=x;x=null}this.buttons.cancel.style.display=""none""};this._readableSize=function(x){var e=false;var a=[""b"",""Kb"",""Mb"",""Gb"",""Tb"",""Pb"",""Eb""];for(var y=0;y<a.length;y++){if(x>1024){x=x/1024}else{if(e===false){e=y}}}if(e===false){e=a.length-1}return Math.round(x*100)/100+"" ""+a[e]};this._beforeAddFileToList=function(a,e){return(this.callEvent(""onBeforeFileAdd"",[a,e])===true)};this._addFileToList=function(C,e,y,A,a){this._checkTitleScreen();var x=document.createElement(""DIV"");x._idd=C;x.className=""dhx_file dhx_file_""+A;x.innerHTML=""<div class='dhx_file_param dhx_file_name'>&nbsp;</div><div class='dhx_file_param dhx_file_progress'>""+a+""%</div><div class='dhx_file_param dhx_file_delete' title='Remove from list'>&nbsp;</div>"";this.p_files.appendChild(x);x.childNodes[0].style.width=x.offsetWidth-127+""px"";this._items[C]=x;this._updateFileNameSize(C);x.childNodes[2].onclick=function(){if(!q._enabled){return}var D=this.parentNode._idd;q._removeFileFromQueue(D)};this.callEvent(""onFileAdd"",[e])};this._removeFileFromList=function(a){if(!this._items[a]){return}this._items[a].childNodes[2].onclick=null;this._items[a].parentNode.removeChild(this._items[a]);this._items[a]=null;delete this._items[a];if(this._data[a]){this._data[a]=null;delete this._data[a]}this._checkTitleScreen()};this._updateFileNameSize=function(a){this._items[a].childNodes[0].innerHTML=this._files[a].name+(!isNaN(this._files[a].size)?"" (""+this._readableSize(this._files[a].size)+"")"":""&nbsp;"");this._items[a].childNodes[0].title=this._files[a].name+(!isNaN(this._files[a].size)?"" (""+this._readableSize(this._files[a].size)+"")"":"""")};this._updateFileInList=function(x,e,a){if(!this._items[x]){return}this._items[x].className=""dhx_file dhx_file_""+e;this._updateProgress(x,e,a);this._updateFileNameSize(x)};this._updateProgress=function(x,e,a){if(e==""uploading""&&a<100&&this._progress_type==""loader""){this._items[x].childNodes[1].className=""dhx_file_param dhx_file_uploading"";this._items[x].childNodes[1].innerHTML=""&nbsp;""}else{this._items[x].childNodes[1].className=""dhx_file_param dhx_file_progress"";this._items[x].childNodes[1].innerHTML=a+""%""}this._updateFileNameSize(x)};this._removeFilesByState=function(x){for(var e in this._files){if(x===true||this._files[e].state==x){this._removeFileFromQueue(e)}}};this._switchButton=function(e){if(e==true){this.buttons.upload.style.display=""none"";this.buttons.cancel.style.display=""""}else{var a=this._uploaded_count;this.buttons.upload.style.display="""";this.buttons.cancel.style.display=""none"";this._uploaded_count=0;if(a>0){this.callEvent(""onUploadComplete"",[a])}}};this._uploadStart=function(){this._switchButton(true);if(!this._uploading){for(var e in this._files){if(this._files[e].state==""fail""){this._files[e].state=""added"";this._updateFileInList(e,""added"",0)}}}this._uploading=true;var x=false;for(var e in this._files){if(!x&&[this._files[e].state]==""added""){x=true;this._files[e].state=""uploading"";this._updateFileInList(e,""uploading"",0);this._doUploadFile(e)}}if(!x){this._uploading=false;this._switchButton(false)}};this._onUploadSuccess=function(A,y,x,a){if(typeof(x)!=""undefined""&&this.engine==""flash""){var e=dhx4.s2j(x.data);if(e!=null&&e.state==true&&e.name!=null){y=e.name;if(e.extra!=null){a=e.extra}}else{this._onUploadFail(A,(e!=null&&e.extra!=null?e.extra:null));return}}this._uploaded_count++;this._data[A]={realName:this._files[A].name,serverName:y};this._files[A].state=""uploaded"";this._updateFileInList(A,""uploaded"",100);this.callEvent(""onUploadFile"",[this._files[A].name,y,a]);if(this._autoRemove){this._removeFileFromQueue(A)}if(this._uploading){this._uploadStart()}};this._onUploadFail=function(e,a){this._files[e].state=""fail"";this._updateFileInList(e,""fail"",0);this.callEvent(""onUploadFail"",[this._files[e].name,a]);if(this._uploading){this._uploadStart()}};this._onUploadAbort=function(a){this._uploading=false;this._files[a].state=""added"";this._updateFileInList(a,""added"",0);this.callEvent(""onUploadCancel"",[this._files[a].name])};this._checkTitleScreen=function(){var x=0;for(var e in this._files){x++}if(x==0&&this.p.className.search(""dhx_file_uploader_title"")<0&&this._titleScreen){this.p.className+="" dhx_file_uploader_title"";this.buttons.info.innerHTML=this._titleText;this.buttons.info.style.width=Math.max(this.p_controls.offsetWidth-134,0)+""px""}if((x>0||!this._titleScreen)&&this.p.className.search(""dhx_file_uploader_title"")>=0){this.p.className=this.p.className.replace(/dhx_file_uploader_title/g,"""");this.buttons.info.innerHTML=""""}};this.callEvent=function(){};this.upload=function(){if(!this._uploading){this._uploadStart()}};this.setAutoStart=function(a){this._autoStart=(a==true)};this.setAutoRemove=function(a){this._autoRemove=(a==true)};this.enableTitleScreen=function(a){this._titleScreen=(a==true);this._checkTitleScreen()};this.setTitleText=function(a){this._titleText=a;if(this.p.className.search(""dhx_file_uploader_title"")>=0){this.buttons.info.innerHTML=this._titleText}};this.setURL=function(a){this._url=a};this.setSWFURL=function(a){this._swf_upolad_url=a};this.enable=function(){this._enabled=true;this.p_files.className=""dhx_upload_files"";this.p_controls.className=""dhx_upload_controls""};this.disable=function(){this._enabled=false;this.p_files.className=""dhx_upload_files dhx_uploader_dis"";this.p_controls.className=""dhx_upload_controls dhx_uploader_dis""};this.getStatus=function(){var x=0;for(var e in this._files){if(this._files[e].state!=""uploaded""){return -1}x=1}return x};this.getData=function(){return this._data};this.clear=function(){if(this.callEvent(""onBeforeClear"",[])!==true){return}if(this._uploading){q._uploadStop()}q._switchButton(false);q._removeFilesByState(true);this.callEvent(""onClear"",[])};this.unload=function(){this._removeFilesByState(true);this._data=null;this._files=null;this._items=null;this._unloadEngine();for(var e in this.buttons){this.buttons[e].onclick=null;this.buttons[e].parentNode.removeChild(this.buttons[e]);this.buttons[e]=null;delete this.buttons[e]}this.buttons=null;for(var e in this.b_opts){this.b_opts[e].onclick=null;this.b_opts[e]=null;delete this.b_opts[e]}this.b_opts=null;this.p_controls.parentNode.removeChild(this.p_controls);this.p_files.parentNode.removeChild(this.p_files);this.p.className=this.p.className.replace(/dhx_file_uploader_title/gi,"""").replace(/dhx_file_uploader/gi,"""");for(var e in this){this[e]=null}q=e=null};var r=new this[this.engine]();for(var u in r){this[u]=r[u];r[u]=null}u=r=c=null;this._initToolbar();this._initEngine();this._checkTitleScreen();return this}dhtmlXFileUploader.prototype.html5=function(){};dhtmlXFileUploader.prototype.html5.prototype={_initEngine:function(){var c=this;this.buttons.browse.onclick=function(){if(c._enabled){c.f.click()}};this._progress_type=""percentage"";var a=window.navigator.userAgent;if(a.match(/Windows/gi)!=null&&a.match(/AppleWebKit/gi)!=null&&a.match(/Safari/gi)!=null){if(a.match(/Version\/5\.1\.5/gi)){this._upload_mp=false}if(a.match(/Version\/5\.1[^\.\d{1,}]/gi)){this._upload_dnd=false}if(a.match(/Version\/5\.1\.1/gi)){this._upload_mp=false;this._upload_dnd=false}if(a.match(/Version\/5\.1\.2/gi)){this._upload_dnd=false}if(a.match(/Version\/5\.1\.7/gi)){this._upload_mp=false}}this._addFileInput();if(this._upload_dnd){this.p.ondragenter=function(g){if(!g.dataTransfer){return}g.stopPropagation();g.preventDefault()};this.p.ondragover=function(g){if(!g.dataTransfer){return}g.stopPropagation();g.preventDefault()};this.p.ondrop=function(g){if(!g.dataTransfer){return}g.stopPropagation();g.preventDefault();if(c._enabled){c._parseFilesInInput(g.dataTransfer.files)}};this._titleText=""Drag-n-Drop files here or<br>click to select files for upload.""}else{this._titleText=""Click to select files for upload.""}},_addFileInput:function(){if(this.f!=null){this.f.onchange=null;this.f.parentNode.removeChild(this.f);this.f=null}var a=this;this.f=document.createElement(""INPUT"");this.f.type=""file"";if(this._upload_mp){this.f.multiple=""1""}this.f.className=""dhx_uploader_input"";this.p_controls.appendChild(this.f);this.f.onchange=function(){a._parseFilesInInput(this.files);if(window.dhx4.isOpera){a._addFileInput()}else{this.value=""""}}},_doUploadFile:function(e){var c=this;if(!this._loader){this._loader=new XMLHttpRequest();this._loader.upload.onprogress=function(g){if(c._files[this._idd].state==""uploading""){c._updateFileInList(this._idd,""uploading"",Math.round(g.loaded*100/g.total))}};this._loader.onload=function(h){var g=dhx4.s2j(this.responseText);if(typeof(g)==""object""&&g!=null&&typeof(g.state)!=""undefined""&&g.state==true){c._onUploadSuccess(this.upload._idd,g.name,null,g.extra);g=null}else{c._onUploadFail(this.upload._idd,(g!=null&&g.extra!=null?g.extra:null))}};this._loader.onerror=function(g){c._onUploadFail(this.upload._idd)};this._loader.onabort=function(g){c._onUploadAbort(this.upload._idd)}}this._loader.upload._idd=e;var a=new FormData();a.append(""file"",this._files[e].file);this._loader.open(""POST"",this._url+(String(this._url).indexOf(""?"")<0?""?"":""&"")+""mode=html5&dhxr""+new Date().getTime(),true);this._loader.setRequestHeader(""X-Requested-With"",""XMLHttpRequest"");this._loader.send(a)},_uploadStop:function(){if(!this._uploading||!this._loader){return}this._loader.abort()},_parseFilesInInput:function(c){for(var a=0;a<c.length;a++){this._addFileToQueue(c[a])}},_addFileToQueue:function(a){if(!this._beforeAddFileToList(a.name,a.size)){return}var c=(a._idd||window.dhx4.newId());this._files[c]={file:a,name:a.name,size:a.size,state:""added""};this._addFileToList(c,a.name,a.size,""added"",0);if(this._autoStart&&!this._uploading){this._uploadStart(true)}},_removeFileFromQueue:function(g){if(!this._files[g]){return}var c=this._files[g].name;var e=(this._data!=null&&this._data[g]!=null?this._data[g].serverName:null);if(this.callEvent(""onBeforeFileRemove"",[c,e])!==true){return}var a=false;if(this._uploading&&g==this._loader.upload._idd&&this._files[g].state==""uploading""){this._uploadStop();a=true}this._files[g].file=null;this._files[g].name=null;this._files[g].size=null;this._files[g].state=null;this._files[g]=null;delete this._files[g];this._removeFileFromList(g);this.callEvent(""onFileRemove"",[c,e]);if(a){this._uploadStart()}},_unloadEngine:function(){this.buttons.browse.onclick=null;this.f.onchange=null;this.f.parentNode.removeChild(this.f);this.f=null;this.p.ondragenter=null;this.p.ondragover=null;this.p.ondrop=null;if(this._loader){this._loader.upload.onprogress=null;this._loader.onload=null;this._loader.onerror=null;this._loader.onabort=null;this._loader.upload._idd=null;this._loader=null}this._initEngine=null;this._doUploadFile=null;this._uploadStop=null;this._parseFilesInInput=null;this._addFileToQueue=null;this._removeFileFromQueue=null;this._unloadEngine=null}};dhtmlXFileUploader.prototype.html4=function(){};dhtmlXFileUploader.prototype.html4.prototype={_initEngine:function(){this._addForm();this._progress_type=""loader"";this._titleText=""Click button<br>to select files for upload.""},_addForm:function(){var a=this;var e=window.dhx4.newId();if(!this.k){this.k=document.createElement(""DIV"");this.k.className=""dhx_file_form_cont"";this.buttons.browse.appendChild(this.k);this.fr_name=""dhx_file_""+window.dhx4.newId();this.k.innerHTML='<iframe name=""'+this.fr_name+'"" style=""height:0px;width:0px;"" frameBorder=""0""></iframe>';this.fr=this.k.firstChild;if(window.navigator.userAgent.indexOf(""MSIE"")>=0){this.fr.onreadystatechange=function(){if(this.readyState==""complete""){a._onLoad()}}}else{this.fr.onload=function(){a._onLoad()}}}var c=document.createElement(""DIV"");c.innerHTML=""<form method='POST' enctype='multipart/form-data' target='""+this.fr_name+""' class='dhx_file_form' name='dhx_file_form_""+window.dhx4.newId()+""'><input type='hidden' name='mode' value='html4'><input type='hidden' name='uid' value='""+e+""'><input type='file' name='file' class='dhx_file_input'></form>"";this.k.appendChild(c);c.firstChild.lastChild._idd=e;c.firstChild.lastChild.onchange=function(){if(!a._beforeAddFileToList(this.value,null)){return}a._addFileToQueue(this);this.onchange=null;this.parentNode.parentNode.style.display=""none"";a._addForm()};c=null},_onLoad:function(){if(this._uploading){var a=dhx4.s2j(this.fr.contentWindow.document.body.innerHTML);if(typeof(a)==""object""&&a!=null){if(typeof(a.state)!=""undefined""){if(a.state==""cancelled""){this._onUploadAbort(this.fr._idd);a=null;return}else{if(a.state==true){if(typeof(a.size)!=""undefined""&&!isNaN(a.size)){this._files[this.fr._idd].size=a.size}this._onUploadSuccess(this.fr._idd,a.name,null,a.extra);a=null;return}}}}this._onUploadFail(this.fr._idd,(a!=null&&a.extra!=null?a.extra:null))}},_addFileToQueue:function(c){var a=c.value.match(/[^\\\/]*$/g);if(a[0]!=null){a=a[0]}else{a=c.value}this._files[c._idd]={name:a,form:c.parentNode,node:c.parentNode.parentNode,input:c,state:""added""};this._addFileToList(c._idd,c.value,false,""added"",0);if(this._autoStart&&!this._uploading){this._uploadStart(true)}},_removeFileFromQueue:function(e){var a=this._files[e].name;var c=(this._data!=null&&this._data[e]!=null?this._data[e].serverName:null);if(this.callEvent(""onBeforeFileRemove"",[a,c])!==true){return}this._files[e].input.onchange=null;this._files[e].form.removeChild(this._files[e].input);this._files[e].node.removeChild(this._files[e].form);this._files[e].node.parentNode.removeChild(this._files[e].node);this._files[e].input=null;this._files[e].name=null;this._files[e].form=null;this._files[e].node=null;this._files[e].size=null;this._files[e].state=null;this._files[e]=null;delete this._files[e];this._removeFileFromList(e);this.callEvent(""onFileRemove"",[a,c])},_doUploadFile:function(a){this.fr._idd=a;this._files[a].form.action=this._url;this._files[a].form.submit()},_uploadStop:function(){if(!this._uploading){return}this.fr.contentWindow.location.href=(this._url)+(this._url.indexOf(""?"")<0?""?"":""&"")+""mode=html4&action=cancel&dhxr""+new Date().getTime()},_unloadEngine:function(){if(this.k){this.fr_name=null;this.fr.onreadystatechange=null;this.fr.onload=null;this.fr.parentNode.removeChild(this.fr);this.fr=null;this.k.firstChild.firstChild.lastChild.onchange=null;this.k.parentNode.removeChild(this.k);this.k=null}this._initEngine=null;this._addForm=null;this._onLoad=null;this._addFileToQueue=null;this._removeFileFromQueue=null;this._doUploadFile=null;this._uploadStop=null;this._unloadEngine=null}};dhtmlXFileUploader.prototype.flash=function(){};dhtmlXFileUploader.prototype.flash.prototype={_initEngine:function(){if(!window.dhtmlXFileUploaderSWFObjects){window.dhtmlXFileUploaderSWFObjects={items:{},callEvent:function(h,e,g){return window.dhtmlXFileUploaderSWFObjects.items[h].uploader[e].apply(window.dhtmlXFileUploaderSWFObjects.items[h].uploader,g)}}}var c=this;this._swf_obj_id=""dhtmlXFileUploaderSWFObject_""+window.dhx4.newId();this._swf_file_url=this._swf_file_url+(this._swf_file_url.indexOf(""?"")>=0?""&"":""?"")+""dhxr""+new Date().getTime();this.buttons.browse.innerHTML=""<div id='""+this._swf_obj_id+""' style='width:100%;height:100%;'></div>"";swfobject.embedSWF(this._swf_file_url,this._swf_obj_id,""100%"",""100%"",""9"",null,{ID:this._swf_obj_id,enableLogs:this._swf_logs},{wmode:""transparent""});var a=swfobject.getFlashPlayerVersion();this._titleText=""Engine successfuly inited<br>Flash Player: ""+a.major+"".""+a.minor+"".""+a.release;this._progress_type=""percentage"";window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]={id:this._swf_obj_id,uploader:this}},_beforeAddFileToQueue:function(a,c){return(this.callEvent(""onBeforeFileAdd"",[a,c])===true)},_addFileToQueue:function(g,c,e){if(window.dhx4.isIE){var a=document.createElement(""INPUT"");a.type=""TEXT"";a.style.position=""absolute"";a.style.left=""0px"";a.style.top=window.dhx4.absTop(this.buttons.browse)+""px"";a.style.width=""10px"";document.body.appendChild(a);a.focus();document.body.removeChild(a);a=null}this._files[g]={name:c,size:e,state:""added""};this._addFileToList(g,c,e,""added"",0);if(this._autoStart&&!this._uploading){this._uploadStart(true)}},_removeFileFromQueue:function(g){if(!this._files[g]){return}var c=this._files[g].name;var e=(this._data!=null&&this._data[g]!=null?this._data[g].serverName:null);if(this.callEvent(""onBeforeFileRemove"",[c,e])!==true){return}var a=false;if(this._uploading&&this._files[g].state==""uploading""){this._uploadStop();a=true}swfobject.getObjectById(this._swf_obj_id).removeFileById(g);this._files[g].name=null;this._files[g].size=null;this._files[g].state=null;this._files[g]=null;delete this._files[g];this._removeFileFromList(g);this.callEvent(""onFileRemove"",[c,e]);if(a){this._uploadStart()}},_doUploadFile:function(a){swfobject.getObjectById(this._swf_obj_id).upload(a,this._swf_upolad_url)},_uploadStop:function(e){for(var c in this._files){if(this._files[c].state==""uploading""){swfobject.getObjectById(this._swf_obj_id).uploadStop(c)}}},_unloadEngine:function(){if(window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]){window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].id=null;window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].uploader=null;window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]=null;delete window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]}this._swf_obj_id=null;this._initEngine=null;this._addFileToQueue=null;this._removeFileFromQueue=null;this._doUploadFile=null;this._uploadStop=null;this._unloadEngine=null}};dhtmlXFileUploader.prototype.sl=function(){};dhtmlXFileUploader.prototype.sl.prototype={_initEngine:function(){if(typeof(this._sl_v)==""undefined""){this._sl_v=this.getSLVersion()}if(!window.dhtmlXFileUploaderSLObjects){window.dhtmlXFileUploaderSLObjects={items:{},callEvent:function(e,a,c){window.dhtmlXFileUploaderSLObjects.items[e].uploader[a].apply(window.dhtmlXFileUploaderSLObjects.items[e].uploader,c)}}}this._sl_obj_id=""dhtmlXFileUploaderSLObject_""+window.dhx4.newId();if(this._sl_v!=false){this._titleText=""Engine successfuly inited<br>Silverlight version: ""+this._sl_v[0]+"".""+this._sl_v[1];this.buttons.browse.innerHTML='<div style=""width:100%;height:100%;""><object data=""data:application/x-silverlight-2,"" type=""application/x-silverlight-2"" width=""100%"" height=""100%"" id=""'+this._sl_obj_id+'""><param name=""source"" value=""'+this._sl_xap+'""/><param name=""background"" value=""Transparent""/><param name=""windowless"" value=""true""/><param name=""initParams"" value=""SLID='+this._sl_obj_id+"",LOGS=""+this._sl_logs+'""/><param name=""minRuntimeVersion"" value=""5.0""/></object></div>'}else{this._titleText=""Silverlight plugin not found<br>or version less than 4.0"";this.buttons.browse.style.cursor=""wait"";this.buttons.browse.title=""""}this._progress_type=""percentage"";window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]={id:this._sl_obj_id,uploader:this}},_addFileToQueue:function(e,a,c){this._files[e]={name:a,size:c,state:""added""};this._addFileToList(e,a,c,""added"",0);if(this._autoStart&&!this._uploading){this._uploadStart(true)}},_removeFileFromQueue:function(c){if(!this._files[c]){return}var a=false;if(this._uploading&&this._files[c].state==""uploading""){this._uploadStop();a=true}document.getElementById([this._sl_obj_id]).Content.a.removeFileById(c);this._files[c].name=null;this._files[c].size=null;this._files[c].state=null;this._files[c]=null;delete this._files[c];this._removeFileFromList(c);if(a){this._uploadStart()}},_doUploadFile:function(c){var a=this._sl_upload_url.split(""?"");a=(a[1]!=null?""&""+a[1]:"""");document.getElementById(this._sl_obj_id).Content.a.upload(c,this._sl_upload_url,a+""&mode=sl&dhxr""+new Date().getTime())},_uploadStop:function(e){this._uploading=false;for(var c in this._files){if(this._files[c].state==""uploading""){document.getElementById(this._sl_obj_id).Content.a.uploadStop(c)}}},_unloadEngine:function(){if(window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]){window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].id=null;window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].uploader=null;window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]=null;delete window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]}this._sl_obj_id=null;this._initEngine=null;this._addFileToQueue=null;this._removeFileFromQueue=null;this._doUploadFile=null;this._uploadStop=null;this._unloadEngine=null}};dhtmlXFileUploader.prototype.setSLURL=function(a){this._sl_upload_url=a};dhtmlXFileUploader.prototype.getSLVersion=function(){var a=false;if(window.dhx4.isIE){try{var c=new ActiveXObject(""AgControl.AgControl"");if(c!=null){var l=4,h=0;while(c.isVersionSupported([l,h].join("".""))){a=[l,h];if(++h>9){l++;h=0}}}c=null}catch(g){}}else{if(navigator.plugins[""Silverlight Plug-In""]!=null){a=navigator.plugins[""Silverlight Plug-In""].description.split(""."")}}return a};dhtmlXForm.prototype.saveBackup=function(){if(!this._backup){this._backup={};this._backupId=new Date().getTime()}this._backup[++this._backupId]=this.getFormData();return this._backupId};dhtmlXForm.prototype.restoreBackup=function(a){if(this._backup!=null&&this._backup[a]!=null){this.setFormData(this._backup[a])}};dhtmlXForm.prototype.clearBackup=function(a){if(this._backup!=null&&this._backup[a]!=null){this._backup[a]=null;delete this._backup[a]}};dhtmlXForm.prototype.addItem=function(e,a,l,g){var c=null;if(e instanceof Array){c=e[1];e=e[0]}var h=null;if(e!=null){var h=this._getParentForm(e,c);if(h!=null){if(h.item._list==null){if(!a.listParent){a.listParent=h.item._idd}h.form._addItem(""list"",h.item._idd,[a],null,h.item._idd,l,g)}else{h.item._list[0].addItem(null,a,l,g)}h.form=h.item=null;h=null;this._autoCheck();return}}this._prepareItem(a,l,g);this._autoCheck()};dhtmlXForm.prototype.removeItem=function(c,a){this._removeItem(c,a)};dhtmlXForm.prototype.removeColumn=function(m,l,g,e){var o=null;if(m instanceof Array){o=m[1];m=m[0]}if(m!=null){var h=this._getParentForm(m,o);if(h!=null){if(h.item._list!=null&&h.item._list[0]!=null){h.item._list[0].removeColumn(null,l,g,e)}h.form=h.item=null;h=null}return}l=Math.min(Math.max(l,0),this.cont.childNodes.length-1);if(this.cont.childNodes.length==1){if(g==true){this._removeItemsInColumn(this.cont.childNodes[l])}}else{if(g==true){this._removeItemsInColumn(this.cont.childNodes[l])}else{if(!e){var a=l-1;if(a<0){a=l+1}}else{var a=l+1;if(a>this.cont.childNodes.length-1){a=l-1}}while(this.cont.childNodes[l].childNodes.length>0){this.cont.childNodes[a].appendChild(this.cont.childNodes[l].childNodes[0])}}var n=[];for(var c=0;c<this.base.length;c++){if(this.cont.childNodes[l]!=this.base[c]){n.push(this.base[c])}}this.base=n;this.cont.removeChild(this.cont.childNodes[l]);this.b_index--;n=null}};dhtmlXForm.prototype.getColumnNode=function(e,c){var g=null;var a=null;if(e instanceof Array){a=e[1];e=e[0]}if(e!=null){var h=this._getParentForm(e,a);if(h!=null){if(h.item._list!=null&&h.item._list[0]!=null&&g==null){g=h.item._list[0].getColumnNode(null,c)}h.form=h.item=null;h=null}return g}if(c<0||c>this.cont.childNodes.length-1){return null}return this.cont.childNodes[c]};dhtmlXForm.prototype._removeItemsInColumn=function(g){var a=[];for(var e=0;e<g.childNodes.length;e++){var c=g.childNodes[e];if(c._idd!=null&&c._type!=null){a.push([c._idd,(c._type==""ra""?c._value:null)])}c=null}for(var e=0;e<a.length;e++){this.removeItem(a[e][0],a[e][1])}};dhtmlXForm.prototype._getParentForm=function(l,h){if(this.itemPull[this.idPrefix+l]!=null){return{form:this,item:this.itemPull[this.idPrefix+l]}}for(var c in this.itemPull){if(this.itemPull[c]._type==""ra""&&this.itemPull[c]._group==l&&this.itemPull[c]._value==h){return{form:this,item:this.itemPull[c]}}}var g=null;for(var c in this.itemPull){if(!g&&this.itemPull[c]._list!=null){for(var e=0;e<this.itemPull[c]._list.length;e++){if(!g){g=this.itemPull[c]._list[e]._getParentForm(l,h)}}}}return g};(function(){for(var c in dhtmlXForm.prototype.items){if(!dhtmlXForm.prototype.items[c]._getItemNode){dhtmlXForm.prototype.items[c]._getItemNode=function(a){return a}}}})();dhtmlXForm.prototype._getItemNode=function(c,a){if(a!=null){c=[c,a]}return this.doWithItem(c,""_getItemNode"")};dhtmlXForm.prototype.setRequired=function(n,l,h){if(typeof(h)==""undefined""){h=l}else{n=[n,l]}var e=this._getItemNode(n);if(!e){return}h=window.dhx4.s2b(h);e._required=(h==true);if(e._required){if(!e._validate){e._validate=[]}var c=false;for(var g=0;g<e._validate.length;g++){c=(e._validate[g]==""NotEmpty""||c)}if(!c){e._validate.push(""NotEmpty"")}var m=e.childNodes[e._ll?0:1].childNodes[0];if(!(m.lastChild&&m.lastChild.className&&m.lastChild.className.search(/required/)>=0)){var a=document.createElement(""SPAN"");a.className=""dhxform_item_required"";a.innerHTML=""*"";m.appendChild(a);a=m=null}}else{if(e._validate!=null){var c=e._validate;e._validate=[];for(var g=0;g<c.length;g++){if(c[g]!=""NotEmpty""){e._validate.push(c[g])}}if(e._validate.length==0){e._validate=null}}var m=e.childNodes[e._ll?0:1].childNodes[0];if(m.lastChild&&m.lastChild.className&&m.lastChild.className.search(/required/)>=0){m.removeChild(m.lastChild);m=null}}this._resetValidateCss(e);e=null};dhtmlXForm.prototype.setNote=function(h,e,a){if(typeof(a)==""undefined""){a=e}else{h=[h,e]}var c=this._getItemNode(h);if(!c){return}var g=this._getNoteNode(c);if(!g){if(!a.width){a.width=c.childNodes[c._ll?1:0].childNodes[0].offsetWidth}g=document.createElement(""DIV"");g.className=""dhxform_note"";if({ch:1,ra:1}[c._type]){c.childNodes[c._ll?1:0].insertBefore(g,c.childNodes[c._ll?1:0].lastChild)}else{c.childNodes[c._ll?1:0].appendChild(g)}}g.innerHTML=a.text;if(a.width!=null){g.style.width=a.width+""px"";g._w=a.width}g=null};dhtmlXForm.prototype.clearNote=function(g,c){if(typeof(c)!=""undefined""){g=[g,c]}var a=this._getItemNode(g);if(!a){return}var e=this._getNoteNode(a);if(e!=null){e.parentNode.removeChild(e);e=null}};dhtmlXForm.prototype._getNoteNode=function(a){var e=null;for(var c=0;c<a.childNodes[a._ll?1:0].childNodes.length;c++){if(String(a.childNodes[a._ll?1:0].childNodes[c].className).search(/dhxform_note/)>=0){e=a.childNodes[a._ll?1:0].childNodes[c]}}a=null;return e};dhtmlXForm.prototype.setValidation=function(l,g,h){if(typeof(note)==""undefined""){h=g}else{l=[l,g]}var c=this._getItemNode(l);if(!c){return}if(c._validate!=null){for(var e=0;e<c._validate.length;e++){c._validate[e]=null}}c._validate=[];if(typeof(h)==""function""||typeof(window[h])==""function""){c._validate=[h]}else{c._validate=String(h).split(this.separator)}if(c._required){var a=false;for(var e=0;e<c._validate.length;e++){a=(c._validate[e]==""NotEmpty""||a)}if(!a){c._validate.push(""NotEmpty"")}}c=null};dhtmlXForm.prototype.clearValidation=function(g,e){if(typeof(e)!=""undefined""){g=[g,e]}var a=this._getItemNode(g);if(!a){return}if(a._validate!=null){for(var c=0;c<a._validate.length;c++){a._validate[c]=null}}a._validate=a._required?[""NotEmpty""]:null;a=null};dhtmlXForm.prototype.reloadOptions=function(a,l){var c=this.getItemType(a);if(!{select:1,multiselect:1,combo:1}[c]){return}if(c==""select""||c==""multiselect""){var g=this.getOptions(a);while(g.length>0){g.remove(0)}g.length=0;g=null;if(typeof(l)==""string""){this.doWithItem(a,""doLoadOptsConnector"",l)}else{if(l instanceof Array){this.doWithItem(a,""doLoadOpts"",{options:l})}}}if(c==""combo""){var m=this.getCombo(a);m.clearAll();m.setComboValue("""");if(typeof(l)==""string""){this.doWithItem(a,""doLoadOptsConnector"",l)}else{if(l instanceof Array){var e=null;for(var h=0;h<l.length;h++){if(window.dhx4.s2b(l[h].selected)){e=l[h].value}}m.addOption(l);if(e!=null){this.setItemValue(a,e)}m=null}}}};dhtmlXForm.prototype.setTooltip=function(l,h,g){if(typeof(g)==""undefined""){g=h}else{l=[l,h]}var c=this._getItemNode(l);if(!c){return}var a=null;if(c.childNodes.length==1){a=c.childNodes[0]}else{for(var e=0;e<c.childNodes.length;e++){if(c.childNodes[e].className!=null&&c.childNodes[e].className.search(""dhxform_label"")>=0){a=c.childNodes[e]}}}if(a!=null){if(g==null||g.length==0){a.removeAttribute(""title"")}else{a.title=g}}a=null};function dhtmlXAccordion(h,m){var g=this;var e=window.dhx4.transDetect();this.conf={skin:(m||window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxacc"")||""dhx_skyblue""),css:""dhxacc"",icons_path:"""",multi_mode:false,last_opened:null,on_active_id:null,on_active_click:false,size_changed:true,def_height:90,total_count:0,hiden_count:0,cont_w:null};this.conf.tr={prop:e.transProp,ev:e.transEv,height_open:""height 0.2s cubic-bezier(0.25,0.1,0.25,1)"",height_close:""height 0.18s cubic-bezier(0.25,0.1,0.25,1)"",op_open:""opacity 0.16s ease-in"",op_close:""opacity 0.2s ease-out"",op_v_open:""1"",op_v_close:""0.4"",dnd_top:""top 0.16s""};this.ofs={m:{},s:{},def:{m:{left:0,right:0,first:0,between:8},s:{left:0,right:0,first:0,between:-1,last:0}},base:{s:{},m:{}},skin:{dhx_web:{s:{between:3},m:{between:3}},dhx_terrace:{m:{between:12,left:0,right:0}}}};if(navigator.userAgent.indexOf(""MSIE"")>=0||navigator.userAgent.indexOf(""Trident"")>=0){this.conf.tr.height_open=this.conf.tr.height_close}else{this.conf.tr.height_open=this.conf.tr.height_close}var l=null;if(typeof(h)==""object""&&!h.tagName){l={};for(var c in h){l[c]=h[c];h[c]=null}h=l.parent;l.parent=null}window.dhtmlXCellTop.apply(this,[h,h._ofs]);this._adjustCont();if(this.base._ofs!=null){for(var n in this.ofs.base){if(this.base._ofs[n]!=null){for(var c in this.base._ofs[n]){this.ofs.base[n][c]=this.base._ofs[n][c]}}}}this._applyOffsets=function(){for(var u in this.ofs.def){var r=this.ofs.def[u];var s=(this.ofs.skin[this.conf.skin]!=null&&this.ofs.skin[this.conf.skin][u]!=null?this.ofs.skin[this.conf.skin][u]:null);var q=(this.base._ofs!=null?this.base._ofs[u]:null);for(var o in r){if(s!=null&&s[o]!=null){this.ofs[u][o]=s[o]}else{if(q!=null&&q[o]!=null){this.ofs[u][o]=q[o]}else{this.ofs[u][o]=r[o]}}}}};this._applyOffsets();this.t={};this.addItem=function(w,v,q,o,u){if(w==null){w=""a""+window.dhx4.newId()}while(this.t[w]!=null){w=""a""+window.dhx4.newId()}var a=new dhtmlXAccordionCell(w,this);a.conf.skin=this.conf.skin;a.setText(v);if(u!=null){a.setIcon(u)}a.cell._accId=w;a.cell.childNodes[a.conf.idx.hdr].onselectstart=function(x){x=x||event;if(x.preventDefault){x.preventDefault()}else{x.returnValue=false}return false};a.cell.childNodes[a.conf.idx.hdr].onclick=function(y){y=y||event;if(y.preventDefault){y.preventDefault()}else{y.returnValue=false}if(g._dnd!=null&&g._dnd.ofs==true){return}var x=(y.target||y.srcElement);var A=null;while(x._accId!=this&&A==null){if(x._accId!=null){A=x._accId}else{x=x.parentNode}}if(A!=null){g._hdrClick(A)}};this.t[w]={cell:a};this.conf.total_count++;if(this.conf.multi_mode){if(typeof(q)==""undefined""){q=true}this.cont.appendChild(a.cell);a.conf.opened=(q==true);if(typeof(o)==""undefined""||o==null||o==""*""){if(o==""*""){a.conf.h_auto=true}o=this.conf.def_height}else{o=Math.max(parseInt(o),30)}a._setSize(this.ofs.m.left,0,this.conf.cont_w||this._getAvailItemWidth(),a.conf.opened?o:a._getHdrHeight());a.cell.style.marginTop=(a.cell==this.cont.firstChild?this.ofs.m.first:this.ofs.m.between)+""px"";if(q!=true){a.conf.size.h=o;a._adjustCell();a.cell.className+="" dhx_cell_closed""}this._adjustOpened();if(this._dnd!=null){this._dndAttachEvent(w)}}else{q=(this.conf.last_opened==null?true:window.dhx4.s2b(q));var s=this._updateCellsHeight();if(this.conf.last_opened!=null){if(q){this._closeItem(this.conf.last_opened,false)}else{var r=this.t[this.conf.last_opened].cell;r._setSize(r.conf.size.x,r.conf.size.y,r.conf.size.w,s);r=null}}this.cont.appendChild(a.cell);a.conf.opened=q;a.cell.style.marginTop=String(a.cell==this.cont.firstChild?this.ofs.s.first:this.ofs.s.between)+""px"";a._setSize(this.ofs.s.left,0,this.conf.cont_w||this._getAvailItemWidth(),q?s:a._getHdrHeight());if(q){this.conf.last_opened=w}else{a.conf.size.h=s;a._adjustCell();a.cell.className+="" dhx_cell_closed""}}a=null;return this.t[w].cell};this.removeItem=function(a){if(!this.t[a]){return}if(this.conf.last_opened==a){this.conf.last_opened=null}if(this.conf.on_active_id==a){this.conf.on_active_id=null}if(this._dnd!=null){this._dndClearCell(a)}this.conf.total_count--;if(!this.conf.multi_mode&&!this.t[a].cell.conf.visible){this.conf.hiden_count--}this.t[a].cell._unload();this.t[a].cell=null;this.t[a]=null;delete this.t[a];if(!this.conf.unloading){if(!this.conf.multi_mode){this._updateCellsMargin()}this.setSizes()}};this.cells=function(a){return this.t[a].cell};this.enableMultiMode=function(a,o){this.conf.multi_mode=true;if(!isNaN(o)){this.conf.def_height=o}if(a==""auto""||a==""scroll""){this.cont.style.overflowX=""hidden"";this.cont.style.overflowY=a}else{this.cont.style.overflow=""visible""}};this.forEachItem=function(q){for(var o in this.t){if(typeof(q)==""function""){q.apply(this,[this.t[o].cell])}else{if(typeof(q)==""string""&&typeof(window[q])==""function""){window[q].apply(this,[this.t[o].cell])}}}};this._openItem=function(o,a){if(typeof(a)==""undefined""){a=true}if(this.t[o].cell.conf.opened==false){if(this.conf.multi_mode){this.t[o].cell._open(a)}else{if(this.conf.tr.prop==false){if(this.conf.last_opened!=null){this.t[this.conf.last_opened].cell._close(false)}this.t[o].cell._open(false);this.conf.last_opened=o}else{this.conf.on_active_id=o;this.t[o].cell._open(a);if(this.conf.last_opened!=null){this.t[this.conf.last_opened].cell._close(a)}this.conf.last_opened=o}}}};this._closeItem=function(o,a){if(typeof(a)==""undefined""){a=true}if(this.t[o].cell.conf.opened==true){this.t[o].cell._close(a);this.conf.last_opened=null}};this._adjustOpened=function(){if(this.conf.multi_mode==true){if(this._openCache==null){var s=this._getDynData();for(var q in s){this.t[q].cell.conf.size.h=s[q];this.t[q].cell.cell.style.height=s[q]+""px""}}else{var u=false;for(var q in this._openCache){u=(u||this._openCache[q])}if(u==true){return}this._openCache=this._openId=null}var o=this._getAvailItemWidth();for(var q in this.t){var r=true;if(o==this.t[q].cell.conf.size.w&&(this._openMode==""close""||this.t[q].cell.conf.opened==false)){r=false}if(r){this.t[q].cell._setWidth(o)}}this._openMode=null}else{if(this.conf.last_opened!=null){var v=this.conf.last_opened;this.t[v].cell._setSize(this.t[v].cell.conf.size.x,this.t[v].cell.conf.size.y,this.t[v].cell.conf.size.w,this.t[v].cell.conf.size.h)}}};this._getDynData=function(D,C){if(typeof(D)==""undefined""||D==null){D={}}if(typeof(C)==""undefined""||C==null){C={}}var w={};var A=0;var v=0;var s=0;for(var o=0;o<this.cont.childNodes.length;o++){var r=this.cont.childNodes[o]._accId;var F=this.t[r].cell;if(F.conf.visible==true){var x=this.ofs.m[s==0?""first"":""between""];if(D[r]==true||C[r]==true||(F.conf.opened==true&&F.conf.h_auto==true)){if(C[r]==true){var y=F._getHdrHeight();w[r]=y;v+=y+x}else{if(F.conf.h_auto==true){w[r]=true;v+=x;A++}else{if(D[r]==true){w[r]=F.conf.size.h;v+=F.conf.size.h+x}}}}else{v+=F.cell.offsetHeight+x}s++}F=null}if(A>0){var u=this.cont.offsetHeight-v;var v=Math.floor(u/A);for(var E in w){if(w[E]==true){if(A>1){u-=v}else{v=u}w[E]=v;A--}}}return w};this.setSizes=function(){this._adjustCont();if(this.conf.multi_mode==true){this._adjustOpened()}else{this.conf.cont_w=null;var q=this._updateCellsHeight();for(var o in this.t){this.t[o].cell._setSize(this.ofs.s.left,0,this.conf.cont_w||this._getAvailItemWidth(),this.t[o].cell.conf.opened?q:this.t[o].cell._getHdrHeight());if(!this.t[o].cell.conf.opened){this.t[o].cell.conf.size.h=q;this.t[o].cell._adjustCell()}}this.conf.size_changed=true}this.callEvent(""_onSetSizes"",[])};this.setSkin=function(q){this._setBaseSkin(q);this.conf.skin=q;for(var o in this.t){this.t[o].cell.conf.cells_cont=null;this.t[o].cell.conf.skin=this.conf.skin}this._applyOffsets();this._updateCellsMargin();this.setSizes()};this.setIconsPath=function(a){this.conf.icons_path=a};this._getAvailItemWidth=function(){var o=this.ofs[(this.conf.multi_mode?""m"":""s"")];var a=Math.max(this.cont.clientWidth-o.left-o.right,10);this.conf.cont_w=a;o=null;return a};this._updateCellsHeight=function(){if(this.conf.multi_mode==true){return}var r=this.conf.total_count-this.conf.hiden_count;var s=this.cont.offsetHeight-this.ofs.s.last;if(r==0){return s}var v=false;for(var u=0;u<this.cont.childNodes.length;u++){if(v==false){var w=this.cont.childNodes[u]._accId;if(this.t[w].cell.conf.visible){s-=this.t[w].cell._getHdrHeight()*(r-1);v=true}}}s-=(r-1)*this.ofs.s.between+this.ofs.s.first;for(var o in this.t){if(this.t[o].cell.conf.size!=null){this.t[o].cell.conf.size.h=s;this.t[o].cell._adjustCell()}}return s};this._updateCellsMargin=function(){var a=0;for(var o=0;o<this.cont.childNodes.length;o++){var r=this.cont.childNodes[o]._accId;if(this.t[r].cell.conf.visible){this.t[r].cell.cell.style.marginTop=String(this.ofs[this.conf.multi_mode?""m"":""s""][a++==0?""first"":""between""])+""px""}}};this._hdrClick=function(o){if(!this.conf.multi_mode&&this.t[o].cell.conf.opened){return}var a=this.t[o].cell.conf.opened;if(this.callEvent(""onBeforeActive"",[o,(a?false:true)])!==true){return}this.conf.on_active_click=true;this[a?""_closeItem"":""_openItem""](o);if(this.conf.multi_mode&&this.conf.tr.prop==false){this._adjustOpened()}};this.unload=function(){this.conf.unloading=true;for(var o in this.t){this.removeItem(o)}this.t=null;if(typeof(this._unloadDND)==""function""){this._unloadDND()}if(this.dhxWins){this.dhxWins.unload();this.dhxWins=null}this._unloadTop();window.dhx4._enableDataLoading(this,null,null,null,""clear"");window.dhx4._eventable(this,""clear"");this.ofs=this.conf=null;for(var o in this){this[o]=null}g=null};this.setOffset=function(a){this.ofs.s.between=a;this.ofs.m.between=a;this._updateCellsMargin();this.setSizes()};this._initObj=function(o){if(o.skin!=null){this.setSkin(o.skin)}if(window.dhx4.s2b(o.multi_mode)){this.enableMultiMode()}if(o.icons_path!=null){this.setIconsPath(o.icons_path)}if(o.icon_path!=null){this.setIconsPath(o.icon_path)}if(o.items!=null){for(var a=0;a<o.items.length;a++){this.addItem(o.items[a].id,o.items[a].text,o.items[a].open,o.items[a].height,o.items[a].icon||o.items[a].img)}}if(window.dhx4.s2b(o.dnd)==true&&typeof(this.enableDND)==""function""){this.enableDND()}};this._xmlToObj=function(u){var r={items:[]};var a=u.getElementsByTagName(""accordion"")[0];if(a.getAttribute(""skin"")!=null){r.skin=a.getAttribute(""skin"")}if(a.getAttribute(""mode"")==""multi""){r.multi_mode=true}if(a.getAttribute(""multiMode"")!=null){r.multi_mode=window.dhx4.s2b(a.getAttribute(""multiMode""))}if(a.getAttribute(""iconsPath"")!=null){r.icons_path=a.getAttribute(""iconsPath"")}for(var s=0;s<a.childNodes.length;s++){var v=a.childNodes[s];if(typeof(v.tagName)!=""undefined""&&String(v.tagName).toLowerCase()==""cell""){var o={};if(v.getAttribute(""id"")!=null){o.id=v.getAttribute(""id"")}if(v.getAttribute(""icon"")!=null){o.icon=v.getAttribute(""icon"")}if(v.getAttribute(""height"")!=null){o.height=v.getAttribute(""height"")}if(v.getAttribute(""open"")!=null){o.open=window.dhx4.s2b(v.getAttribute(""open""))}o.text=v.firstChild.nodeValue;r.items.push(o)}v=null}return r};window.dhx4._enableDataLoading(this,""_initObj"",""_xmlToObj"",""accordion"",{struct:true});window.dhx4._eventable(this);this._callMainEvent=function(o,a){return this.callEvent(o,a)};this.attachEvent(""onActive"",function(a){if(this.t[a].cell.dataObj!=null&&this.t[a].cell.dataType==""editor""){this.t[a].cell.dataObj._prepareContent(true)}if(this.t[a].cell.conf.opened==true){this.t[a].cell._adjustProgress()}});if(typeof(window.dhtmlXWindows)==""function""){this.dhxWins=new dhtmlXWindows();this.dhxWins.setSkin(this.conf.skin)}if(l!=null){this._initObj(l);l=null}return this}dhtmlXAccordion.prototype=new dhtmlXCellTop();function dhtmlXAccordionCell(g,e){dhtmlXCellObject.apply(this,[g,""_acc""]);this.acc=e;this.conf.visible=true;this.conf.docked=true;this.attachEvent(""_onCellUnload"",function(){this._trDetachEv();this._unloadDocking();this.acc=null;this.cell._accObj=null;this.cell.childNodes[this.conf.idx.hdr].onselectstart=null;this.cell.childNodes[this.conf.idx.hdr].onclick=null;this._initHeader=null;this._getHdrHeight=null;this._setWidth=null;this._adjustCell=null;this._open=null;this._close=null;this._isOpened=null;this._trInitEv=null;this._trAttachEv=null;this._trDetachEv=null;this._trOnEnd=null;this._onActiveCall=null;this.setText=null;this.getText=null;this.setIcon=null;this.clearIcon=null;this.show=null;this.hide=null;this.isVisible=null;this.setHeight=null;this.moveOnTop=null});this.acc.attachEvent(""onBeforeDrag"",function(l){if(this.t[l].cell.dataObj!=null&&this.t[l].cell.dataType==""editor""){if(this.conf.editor_data==null){this.conf.editor_data={}}this.conf.editor_data[l]=this.t[l].cell.dataObj.getContent()}for(var h in this.t){this.t[h].cell._showCellCover()}return true});this.acc.attachEvent(""onDrop"",function(l){if(this.t[l].cell.dataObj!=null&&this.t[l].cell.dataType==""editor""){this.t[l].cell.dataObj._prepareContent(true);if(this.conf.editor_data!=null&&this.conf.editor_data[l]!=null){this.t[l].cell.dataObj.setContent(this.conf.editor_data[l]);this.conf.editor_data[l]=null}}for(var h in this.t){this.t[h].cell._hideCellCover()}});this.attachEvent(""_onContentLoaded"",function(){this.acc._callMainEvent(""onContentLoaded"",arguments)});this.attachEvent(""_onBeforeContentAttach"",function(a){if(a==""sidebar""&&this.conf.skin!=""dhx_skyblue""){this._hideBorders()}});this._initHeader();this.conf.tr={};for(var c in this.acc.conf.tr){this.conf.tr[c]=this.acc.conf.tr[c]}if(this.conf.tr.prop!=false){this.attachEvent(""_onIdxUpdated"",function(){this._cellSetOpacity((this.conf.opened?""open"":""close""),false)})}this.open=function(){this.acc._openItem(this._idd)};this.close=function(){this.acc._closeItem(this._idd)};this._setWidth=function(a){if(a!=this.conf.size.w){this.conf.size.w=a;this.cell.style.width=a+""px""}this._adjustCell()};this._adjustCell=function(){this._adjustCont();if(this.dataObj!=null&&typeof(this.dataObj.setSizes)==""function""){this.dataObj.setSizes()}};this._initDocking();return this}dhtmlXAccordionCell.prototype=new dhtmlXCellObject();dhtmlXAccordionCell.prototype._initHeader=function(){var a=document.createElement(""DIV"");a.className=""dhx_cell_hdr"";a.innerHTML=""<div class='dhx_cell_hdr_text'></div><div class='dhx_cell_hdr_arrow'></div>"";this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.cont]);a=null;this.conf.ofs_nodes.t._getHdrHeight=""func"";this.conf.hdr={visible:true};this.conf.idx_data.hdr=""dhx_cell_hdr"";this._updateIdx()};dhtmlXAccordionCell.prototype._getHdrHeight=function(){return this.cell.childNodes[this.conf.idx.hdr].offsetHeight};dhtmlXAccordionCell.prototype.showHeader=function(){if(this.conf.hdr.visible==true){return}this.conf.hdr.visible=true;this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr"";this._adjustCont(this._idd)};dhtmlXAccordionCell.prototype.hideHeader=function(){if(this.conf.hdr.visible!=true){return}this.conf.hdr.visible=false;this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr dhx_cell_hdr_hidden"";this._adjustCont(this._idd)};dhtmlXAccordionCell.prototype.isHeaderVisible=function(){return(this.conf.hdr.visible==true)};dhtmlXAccordionCell.prototype.setText=function(a){this.conf.text=a;this.cell.childNodes[this.conf.idx.hdr].firstChild.innerHTML=""<span>""+a+""</span>""};dhtmlXAccordionCell.prototype.getText=function(){return this.conf.text};dhtmlXAccordionCell.prototype.setIcon=function(e){var c=this.cell.childNodes[this.conf.idx.hdr];if(c.firstChild.className!=""dhx_cell_hdr_icon""){c.firstChild.className+="" dhx_cell_hdr_icon"";var a=document.createElement(""IMG"");a.className=""dhx_cell_hdr_icon"";c.insertBefore(a,c.firstChild);a=null}c.firstChild.src=this.acc.conf.icons_path+e;c=null};dhtmlXAccordionCell.prototype.clearIcon=function(){var a=this.cell.childNodes[this.conf.idx.hdr];if(a.firstChild.className==""dhx_cell_hdr_icon""){a.removeChild(a.firstChild);a.firstChild.className=String(a.firstChild.className).replace(/\s{1,}dhx_cell_hdr_icon/gi,"""")}a=null};dhtmlXAccordionCell.prototype._open=function(c){var h={};if(this.acc.conf.multi_mode){var g={};g[this._idd]=true;h=this.acc._getDynData(g);this.acc._openId=this._idd;this.acc._openCache={};this.acc._openMode=""open""}else{h[this._idd]=this.conf.size.h}for(var e in h){if(this.acc._openCache!=null){this.acc._openCache[e]=true}var l=this.acc.t[e].cell;l.cell.className=String(l.cell.className).replace(/\s{1,}dhx_cell_closed/gi,"""");l.conf.opened=true;l._trInitEv(""open"",c);l.conf.size.h=h[e];l.cell.style.height=l.conf.size.h+""px"";l=null}if(this.conf.tr.prop==false){this.acc._openId=this.acc._openCache=this.acc._openMode=null;this._onActiveCall(true)}};dhtmlXAccordionCell.prototype._close=function(c){var g={};if(this.acc.conf.multi_mode){var h={};h[this._idd]=true;g=this.acc._getDynData(null,h);this.acc._openId=this._idd;this.acc._openCache={};this.acc._openMode=""close""}else{g[this._idd]=this._getHdrHeight()}for(var e in g){var l=this.acc.t[e].cell;if(this.acc._openCache!=null){this.acc._openCache[e]=true}if(e==this._idd){l.cell.className+="" dhx_cell_closed"";l.conf.opened=false;l._trInitEv(""close"",c)}else{l.conf.size.h=g[e];l._adjustCell();l._trInitEv(""open"",c)}l.cell.style.height=g[e]+""px"";l=null}if(this.conf.tr.prop==false){this.acc._openId=this.acc._openCache=this.acc._openMode=null;this._onActiveCall(false)}};dhtmlXAccordionCell.prototype.isOpened=function(){return(this.conf.opened==true)};dhtmlXAccordionCell.prototype._trInitEv=function(c,a){if(this.conf.tr.prop==false){return}this._trAttachEv();if(!this.cell._accObj){this.cell._accObj=this.acc}if(a){this.cell.style[this.conf.tr.prop]=this.conf.tr[""height_""+c]}this._cellSetOpacity(c,a)};dhtmlXAccordionCell.prototype._trAttachEv=function(){if(!this.conf.tr.ev_attached){this.cell._trProp=this.conf.tr.prop;this.cell.addEventListener(this.conf.tr.ev,this._trOnEnd,false);this.conf.tr.ev_attached=true}};dhtmlXAccordionCell.prototype._trDetachEv=function(){if(this.conf.tr.ev_attached){this.cell.addEventListener(this.conf.tr.ev,this._trOnEnd,false);this.conf.tr.ev_attached=false}};dhtmlXAccordionCell.prototype._trOnEnd=function(a){if(a.stopPropagation){a.stopPropagation()}if(a.propertyName==""height""&&this._accObj!=null){this.style[this._trProp]="""";if(this._accObj.conf.multi_mode){if(this._accObj._openCache!=null){this._accObj._openCache[this._accId]=false}this._accObj._adjustOpened()}if(this._accObj.conf.on_active_click==true){if(this._accObj.conf.multi_mode){this._accObj._callMainEvent(""onActive"",[this._accId,this._accObj.t[this._accId].cell.conf.opened]);this._accObj.conf.on_active_click=false}else{this._accObj._callMainEvent(""onActive"",[this._accObj.conf.on_active_id,true]);this._accObj.conf.on_active_id=null;this._accObj.conf.on_active_click=false}}this._accObj=null}};dhtmlXAccordionCell.prototype._cellSetOpacity=function(g,c){for(var e in this.conf.idx){if({hdr:true,pr1:true,pr2:true,cover:true}[e]!=true){if(c){this.cell.childNodes[this.conf.idx[e]].style[this.conf.tr.prop]=this.conf.tr[""op_""+g]}this.cell.childNodes[this.conf.idx[e]].style.opacity=this.conf.tr[""op_v_""+g]}}};dhtmlXAccordionCell.prototype._onActiveCall=function(a){if(this.acc.conf.on_active_click==false){return}if(this.acc.conf.multi_mode==true){this.acc._callMainEvent(""onActive"",[this._idd,this.conf.opened]);this.acc.conf.on_active_click=false}else{if(a==true){this.acc._callMainEvent(""onActive"",[this._idd,true]);this.acc.conf.on_active_click=false}}};dhtmlXAccordionCell.prototype.show=function(){if(this.conf.visible){return}if(this.conf.docked==false){this.dock();return}this.cell.style.display="""";this.conf.visible=true;if(!this.acc.conf.multi_mode){this.acc.conf.hiden_count--;this.acc._updateCellsHeight();this.acc._updateCellsMargin()}if(this.acc.conf.size_changed){this.acc.setSizes();this.acc.conf.size_changed=false}else{this.acc._adjustOpened()}};dhtmlXAccordionCell.prototype.hide=function(){if(!this.conf.visible){return}if(!this.acc.conf.multi_mode&&this.conf.opened){this._close(false);this.acc.conf.last_opened=null}this.cell.style.display=""none"";this.conf.visible=false;if(!this.acc.conf.multi_mode){this.acc.conf.hiden_count++;this.acc._updateCellsHeight();this.acc._updateCellsMargin()}this.acc._adjustOpened()};dhtmlXAccordionCell.prototype.isVisible=function(){return(this.conf.visible==true)};dhtmlXAccordionCell.prototype.setHeight=function(a){if(!this.acc.conf.multi_mode){return}if(a==""*""){this.conf.h_auto=true}else{this.conf.h_auto=false;this.conf.size.h=a}if(this.conf.opened){if(a!=""*""){this.cell.style.height=a+""px""}this.acc._adjustOpened()}};dhtmlXAccordionCell.prototype.moveOnTop=function(){if(this.cell.parentNode.firstChild==this.cell){return}this.cell.parentNode.insertBefore(this.cell,this.cell.parentNode.firstChild);this.acc._updateCellsMargin()};dhtmlXAccordionCell.prototype._initDocking=function(){var a=this;this.dock=function(){if(this.acc.dhxWins==null||this.conf.docked==true){return}var c=this.acc.dhxWins.window(this._idd);c.close();this._attachFromCell(c);this.conf.docked=true;this.show();if(this.conf.dock_opened){this.open()}c=null;this.acc._callMainEvent(""onDock"",[this._idd])};this.undock=function(c,m,g,l){if(this.acc.dhxWins==null||this.conf.docked==false){return}this.conf.dock_opened=this.conf.opened;if(this.acc.dhxWins.window(this._idd)!=null){var e=this.acc.dhxWins.window(this._idd);e.show()}else{if(c==null){c=20}if(m==null){m=20}if(g==null){g=320}if(l==null){l=200}var e=this.acc.dhxWins.createWindow(this._idd,c,m,g,l);e.button(""close"").hide();e.addUserButton(""dock"",99,""Dock"");e.button(""dock"").show();e.button(""dock"").attachEvent(""onClick"",this._doOnDockClick);e.setText(this.getText());e.attachEvent(""onClose"",this._doOnDockWinClose)}this.conf.docked=false;this.hide();e._attachFromCell(this);e=null;this.acc._callMainEvent(""onUnDock"",[this._idd])};this._doOnDockClick=function(){a.dock()};this._doOnDockWinClose=function(c){c.hide();return false};this._unloadDocking=function(){a=null}};dhtmlXCellObject.prototype.attachAccordion=function(a){this.callEvent(""_onBeforeContentAttach"",[""acc""]);var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";this._attachObject(c);if(typeof(a)==""undefined""){a={}}if(typeof(a.skin)==""undefined""){a.skin=this.conf.skin}a.parent=c;if(typeof(window.dhtmlXAccordionCell)!=""undefined""&&(this instanceof window.dhtmlXAccordionCell)){c._ofs={s:{first:-1},m:{first:4}}}if(typeof(window.dhtmlXTabBarCell)!=""undefined""&&(this instanceof window.dhtmlXTabBarCell)){if(this.conf.skin==""dhx_skyblue""){c._ofs={t:-1,r:-1,b:-1,l:-1}}}if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){if(this.conf.skin==""dhx_web""){c._ofs={l:2}}else{c._ofs={l:-1}}}if(typeof(window.dhtmlXCarouselCell)!=""undefined""&&(this instanceof window.dhtmlXCarouselCell)){this._hideBorders()}this.dataType=""acc"";this.dataObj=new dhtmlXAccordion(a);a.parent=null;c=a=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj};dhtmlXAccordion.prototype.enableDND=function(){if(this.conf.multi_mode==false||this._dnd!=null){return}var e=this;this._dnd={tr_count:0,tr_items:{}};this._dndAttachEvent=function(g){var a=this.t[g].cell;if(a.conf.dnd_inited!=true){if(typeof(window.addEventListener)==""function""){a.cell.childNodes[a.conf.idx.hdr].addEventListener(""mousedown"",this._dndOnMouseDown,false)}else{a.cell.childNodes[a.conf.idx.hdr].attachEvent(""onmousedown"",this._dndOnMouseDown)}a.conf.dnd_inited=true}a=null};this._dndDetachEvent=function(g){var a=this.t[g].cell;if(a.conf.dnd_inited==true){if(typeof(window.addEventListener)==""function""){a.cell.childNodes[a.conf.idx.hdr].removeEventListener(""mousedown"",this._dndOnMouseDown,false)}else{a.cell.childNodes[a.conf.idx.hdr].detachEvent(""onmousedown"",this._dndOnMouseDown)}a.conf.dnd_inited=false}a=null};this._dndOnMouseDown=function(g){g=g||event;if(g.preventDefault){g.preventDefault()}var a=(g.target||g.srcElement);while(a!=null&&a.parentNode!=e.cont){a=a.parentNode}if(a!=null){e._dndDragStart(g,a)}a=null};this._dndDragStart=function(m,h){if(this._dnd.tr_waiting==true){return}var a=-1;for(var l=0;l<h.parentNode.childNodes.length;l++){if(h.parentNode.childNodes[l]==h){a=l}}if(this.callEvent(""onBeforeDrag"",[h._accId,a])!==true){return}if(typeof(window.addEventListener)==""function""){document.body.addEventListener(""mousemove"",this._dndOnMouseMove,false);document.body.addEventListener(""mouseup"",this._dndOnMouseUp,false)}else{document.body.attachEvent(""onmousemove"",this._dndOnMouseMove,false);document.body.attachEvent(""onmouseup"",this._dndOnMouseUp,false)}this._dnd.dragObj=h;this._dnd.dy=m.clientY;var g=0;for(var l=0;l<this._dnd.dragObj.parentNode.childNodes.length;l++){this._dnd.dragObj.parentNode.childNodes[l]._ind=l;if(this._dnd.dragObj.parentNode.childNodes[l]==this._dnd.dragObj){this._dnd.dragObj._k0=g;if(l>0){this._dnd.dragObj._k0+=this.ofs.m.between-this.ofs.m.first}g=0}else{g+=this._dnd.dragObj.parentNode.childNodes[l].offsetHeight+parseInt(this._dnd.dragObj.parentNode.childNodes[l].style.marginTop)}}this._dnd.dragObj._k1=g;this._dnd.h=this._dnd.dragObj.offsetHeight;this._dnd.ofs=false};this._dndDoDrag=function(u){if(!this._dnd.dragObj){return}if(this._dnd.tr_waiting==true){return}var m=u.clientY-this._dnd.dy;if(this._dnd.ofs==false&&Math.abs(m)>5){this._dnd.dragObj.className+="" acc_cell_dragged"";this._dnd.ofs=true}if(m<0){if(m<-this._dnd.dragObj._k0){m=-this._dnd.dragObj._k0}}else{if(m>this._dnd.dragObj._k1){m=this._dnd.dragObj._k1}}this._dnd.dragObj.style.top=m+""px"";var o=u.clientY-this._dnd.dy;var l=0;var g=0;for(var n=this._dnd.dragObj._ind+1;n<=this._dnd.dragObj.parentNode.lastChild._ind;n++){var a=this._dnd.dragObj.parentNode.childNodes[n].offsetHeight;if(o>l+a*2/3){g++}l+=a}var h=this._dnd.dragObj.nextSibling;var n=0;while(h!=null){if(++n<=g&&h!=null){if(!h._ontop){if(h._tm){window.clearTimeout(h._tm)}this._dndAnim(h,false,parseInt(h.style.top||0),-this._dnd.h-this.ofs.m.between);h._ontop=true}}else{if(h._ontop){if(h._tm){window.clearTimeout(h._tm)}this._dndAnim(h,true,parseInt(h.style.top||0),0);h._ontop=false}}h=h.nextSibling}var o=this._dnd.dy-u.clientY;var l=0;var g=0;for(var n=this._dnd.dragObj._ind-1;n>=this._dnd.dragObj.parentNode.firstChild._ind;n--){var a=this._dnd.dragObj.parentNode.childNodes[n].offsetHeight;if(o>l+a*2/3){g++}l+=a}var h=this._dnd.dragObj.previousSibling;var n=0;while(h!=null){if(++n<=g&&h!=null){if(!h._onbottom){if(h._tm){window.clearTimeout(h._tm)}this._dndAnim(h,true,parseInt(h.style.top||0),this._dnd.h+this.ofs.m.between);h._onbottom=true}}else{if(h._onbottom){if(h._tm){window.clearTimeout(h._tm)}this._dndAnim(h,false,parseInt(h.style.top),0);h._onbottom=false}}h=h.previousSibling}};this._dndDragStop=function(o,m){if(m){}else{if(this._dnd.tr_count>0){this._dnd.tr_waiting=true;return}}if(!this._dnd.dragObj){return}this._dnd.dragObj.className=String(this._dnd.dragObj.className).replace(/\s{0,}acc_cell_dragged/gi,"""");this._dnd.dragObj.style.top=""0px"";var n=false;for(var l=0;l<this._dnd.dragObj.parentNode.childNodes.length;l++){var h=this._dnd.dragObj.parentNode.childNodes[l];if(h!=this._dnd.dragObj){if(h._tm){window.clearTimeout(h._tm)}h.style.top=""0px"";if(h._ontop&&((h.nextSibling!=null&&h.nextSibling._ontop!=true)||!h.nextSibling)){n=(h.nextSibling||null)}if(h._onbottom&&((h.previousSibling!=null&&h.previousSibling._onbottom!=true)||!h.previousSibling)){n=h}}h=null}for(var l=0;l<this._dnd.dragObj.parentNode.childNodes.length;l++){this._dnd.dragObj.parentNode.childNodes[l]._ontop=null;this._dnd.dragObj.parentNode.childNodes[l]._onbottom=null}if(n!==false){if(n==null){this._dnd.dragObj.parentNode.appendChild(this._dnd.dragObj)}else{this._dnd.dragObj.parentNode.insertBefore(this._dnd.dragObj,n)}}var r=this._dnd.dragObj._accId;var g=this._dnd.dragObj._ind;var a=g;for(var l=0;l<this._dnd.dragObj.parentNode.childNodes.length;l++){if(this._dnd.dragObj.parentNode.childNodes[l]==this._dnd.dragObj){a=l}}this._dnd.dragObj=null;this._dnd.tr_waiting=false;this._updateCellsMargin();if(g!=a){this.setSizes();this.callEvent(""onDrop"",[r,g,a])}if(typeof(window.addEventListener)==""function""){document.body.removeEventListener(""mousemove"",this._dndOnMouseMove,false);document.body.removeEventListener(""mouseup"",this._dndOnMouseUp,false)}else{document.body.detachEvent(""onmousemove"",this._dndOnMouseMove,false);document.body.detachEvent(""onmouseup"",this._dndOnMouseUp,false)}};this._dndAnim=function(m,a,l,h){if(this.conf.tr.prop!=false){if(!m._dnd_ev){m._dnd_ev=true;m._dnd_tr_prop=this.conf.tr.prop;m.addEventListener(this.conf.tr.ev,this._dndOnTrEnd,false)}if(this._dnd.tr_items[m._accId]!=true){this._dnd.tr_items[m._accId]=true;this._dnd.tr_count++}m.style[this.conf.tr.prop]=this.conf.tr.dnd_top;m.style.top=h+""px"";return}var g=false;if(a){l+=5;if(l>=h){l=h;g=true}}else{l-=5;if(l<=h){l=h;g=true}}m.style.top=l+""px"";if(m._tm){window.clearTimeout(m._tm)}if(!g){m._tm=window.setTimeout(function(){e._dndAnim(m,a,l,h)},5)}else{m._tm=null}};this._dndOnTrEnd=function(a){if(a.stopPropagation){a.stopPropagation()}if(a.propertyName==""top""){if(e._dnd.tr_items[this._accId]==true){e._dnd.tr_count--;e._dnd.tr_items[this._accId]=false}this.style[this._dnd_tr_prop]="""";if(e._dnd.tr_count==0&&e._dnd.tr_waiting==true){e._dndDragStop(null,true)}}};this._dndOnMouseMove=function(a){e._dndDoDrag(a||event)};this._dndOnMouseUp=function(a){e._dndDragStop(a||event)};this._dndClearCell=function(a){if(this.t[a].cell.cell._dnd_ev){this.t[a].cell.cell.addEventListener(this.conf.tr.ev,this._dndOnTrEnd,false)}this._dndDetachEvent(a)};this._unloadDND=function(){for(var g in this){if(String(g).indexOf(""_dnd"")==0&&typeof(this[g])==""function""){this[g]=null}}this._dnd=null;e=null};for(var c in this.t){this._dndAttachEvent(c)}};function dhtmlXLayoutObject(e,o,w){var u=null;if(e!=null&&typeof(e)==""object""&&typeof(e.tagName)==""undefined""&&e._isCell!=true){u={};if(e.autosize!=null){u.autosize=e.autosize}if(e.cells!=null){u.cells=e.cells}if(e.pattern!=null){o=e.pattern}if(e.skin!=null){w=e.skin}if(e.offsets!=null){u.offsets=e.offsets}e=e.parent}this.cdata={};this.conf={skin:(w||window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxlayout"")||""dhx_skyblue""),css:""dhxlayout"",hh:20,autosize:""b"",nextCell:{a:""b"",b:""a""},inited:false,b_size:{w:-1,h:-1}};if(typeof(e)==""object""&&e._isCell==true){var n=(typeof(u)!=""undefined""&&u!=null?u:{});if(n.pattern==null&&o!=null){n.pattern=o}if(n.skin==null&&w!=null){n.skin=w}var l=e.attachLayout(n);return l}window.dhtmlXCellTop.apply(this,[e,(u==null?null:u.offsets)]);this.conf.sw=this._detectSW();var m=this;this._getLayout=function(){return this};this.mainInst=(e._layoutMainInst!=null?e._layoutMainInst:null);this._getMainInst=function(){if(this.mainInst!=null){return this.mainInst._getMainInst()}return this};this._init=function(A){var y=(typeof(A)==""string""?this.tplData[A]:A);this.conf.mode=y.mode;if(this.conf.mode==""c""){this.cdata.a=new dhtmlXLayoutCell(""a"",this)}else{this.cdata.a=new dhtmlXLayoutCell(""a"",this);this.cdata.b=new dhtmlXLayoutCell(""b"",this)}for(var x in this.cdata){this.cont.appendChild(this.cdata[x].cell);this.cdata[x].conf.init={w:0.5,h:0.5}}if(this.conf.mode!=""c""){var q=this._getMainInst();if(q.conf.sep_idx==null){q.conf.sep_idx=1}else{q.conf.sep_idx++}this.sep=new dhtmlXLayoutSepObject(this.conf.mode,q.conf.sep_idx);this.cont.appendChild(this.sep.sep);this.sep._getLayout=function(){return m._getLayout()};q=null}if(y.cells!=null){for(var x in y.cells){if(y.cells[x].width!=null){this.cdata[x].conf.init.w=y.cells[x].width}if(y.cells[x].height!=null){this.cdata[x].conf.init.h=y.cells[x].height}if(y.cells[x].name!=null){this.cdata[x].conf.name=y.cells[x].name;this.cdata[x].setText(y.cells[x].name)}if(y.cells[x].fsize!=null){this.cdata[x].conf.fsize=y.cells[x].fsize}}}this.setSizes();for(var x in this.cdata){this.cdata[x].conf.init={}}if(y.cells!=null){for(var x in y.cells){if(y.cells[x].layout!=null){this.cdata[x].dataNested=true;this.cdata[x]._layoutMainInst=this;this.cdata[x].attachLayout({pattern:y.cells[x].layout});this.cdata[x]._layoutMainInst=null}}}};this.setSizes=function(E,M,I,x){var F=(this.conf.inited==true&&this._getMainInst()==this&&this.checkEvent(""onResizeFinish"")==true?{}:false);this._adjustCont();var L=this.cont.offsetWidth;var C=this.cont.offsetHeight;if(this.conf.mode==""c""){var a=0;var N=0;var q=L;var K=C;this.cdata.a._setSize(a,N,q,K,E,I,x);this.callEvent(""_onSetSizes"",[]);if(F&&(!(this.conf.b_size.w==L&&this.conf.b_size.h==C))){this._callMainEvent(""onResizeFinish"",[])}this.conf.b_size={w:L,h:C};return}if(typeof(M)==""undefined""){var y=(this.conf.mode==""v""?""w"":""h"");M=this.conf.autosize;if(this.cdata.a.conf.collapsed){M=""b""}else{if(this.cdata.b.conf.collapsed){M=""a""}else{if(E==""a""||E==""b""){M=this.conf.nextCell[E]}}}}else{}if(this.conf.mode==""v""){if(M==""a""){if(this.cdata.b.conf.init.w!=null){var J=Math.round(L*this.cdata.b.conf.init.w-this.conf.sw/2)}else{var J=this.cdata.b.conf.size.w}var H=L-J;var D=0;var A=C;var a=0;var N=D;var q=H-a-this.conf.sw;var K=A}else{var a=0;var N=0;if(this.cdata.a.conf.init.w!=null){var q=Math.round(L*this.cdata.a.conf.init.w-this.conf.sw/2)-a}else{var q=this.cdata.a.conf.size.w}var K=C-N;var H=a+q+this.conf.sw;var D=N;var J=L-H;var A=K}this.cdata.a._setSize(a,N,q,K,E,I,x);this.cdata.b._setSize(H,D,J,A,E,I,x);this.sep._setSize(a+q,N,this.conf.sw,K)}else{if(M==""a""){if(this.cdata.b.conf.init.h!=null){var A=Math.round(C*this.cdata.b.conf.init.h-this.conf.sw/2)}else{var A=this.cdata.b.conf.size.h}var H=0;var D=C-A;var J=L-H;var a=H;var N=0;var q=J;var K=D-N-this.conf.sw}else{var a=0;var N=0;var q=L-a;if(this.cdata.a.conf.init.h!=null){var K=Math.round(C*this.cdata.a.conf.init.h-this.conf.sw/2)}else{var K=this.cdata.a.conf.size.h}var H=a;var D=N+K+this.conf.sw;var J=q;var A=C-D}this.cdata.a._setSize(a,N,q,K,E,I,x);this.cdata.b._setSize(H,D,J,A,E,I,x);this.sep._setSize(a,N+K,q,this.conf.sw)}this.callEvent(""_onSetSizes"",[]);if(F&&(!(this.conf.b_size.w==L&&this.conf.b_size.h==C))){this._callMainEvent(""onResizeFinish"",[])}this.conf.b_size={w:L,h:C}};this._getAvailWidth=function(){var A=[];for(var E=0;E<this.conf.as_cells.h.length;E++){var x=this.cells(this.conf.as_cells.h[E]);var C=x.layout;var y=C.conf.autosize;if(x.conf.collapsed){x=C.cdata[C.conf.nextCell[x._idd]];y=C.conf.nextCell[y]}A.push(Math.max(0,x.getWidth()-x._getMinWidth(y)));C=x=null}var D=(A.length>0?Math.min.apply(window,A):0);return this.cont.offsetWidth-D};this._getAvailHeight=function(){var C=[];for(var E=0;E<this.conf.as_cells.v.length;E++){var x=this.cells(this.conf.as_cells.v[E]);var A=x.layout;var y=A.conf.autosize;if(x.conf.collapsed){x=A.cdata[A.conf.nextCell[x._idd]];y=A.conf.nextCell[y]}C.push(Math.max(0,x.getHeight()-x._getHdrHeight()-x._getMinHeight(y)));A=x=null}var D=Math.min.apply(window,C);return this.cont.offsetHeight-D};this.setSkin=function(a){this._setBaseSkin(a);this.conf.skin=a};this.unload=function(){this.conf.unloading=true;this.mainInst=null;this.parentLayout=null;if(this.items!=null){for(var y=0;y<this.items.length;y++){this.items[y]=null}this.items=null}if(this.dhxWins!=null){this.dhxWins.unload();this.dhxWins=null}if(this.sep!=null){this.sep._unload();this.sep=null}for(var x in this.cdata){this.cdata[x]._unload();this.cdata[x]=null}this._unloadTop();window.dhx4._eventable(this,""clear"");for(var x in this){this[x]=null}m=null};this._getWindowMinDimension=function(y){var a=m._getAvailWidth()+7+7;var x=m._getAvailHeight()+7+31;var q={w:Math.max(a,200),h:Math.max(x,140)};y=null;return q};window.dhx4._eventable(this);this._callMainEvent=function(q,a){return this.callEvent(q,a)};this._init(o||""3E"");var r=this._availAutoSize[o];if(r!=null){this.conf.pattern=o;this.setAutoSize(r.h[r.h.length-1],r.v[r.v.length-1])}if(typeof(window.dhtmlXWindows)==""function""&&this.mainInst==null){var g={vp_overflow:(this.conf.fs_mode==true?false:""auto"")};this.dhxWins=new dhtmlXWindows(g);this.dhxWins.setSkin(this.conf.skin)}this.conf.inited=true;if(this==this._getMainInst()){var s=0;this.items=[];this.forEachItem(function(a){m.items.push(a);a.conf.index=s++})}if(this==this._getMainInst()&&u!=null){if(u.autosize!=null){this.setAutoSize.apply(this,u.autosize)}if(u.cells!=null){for(var c=0;c<u.cells.length;c++){var h=u.cells[c];var v=this.cells(h.id);if(h.width){v.setWidth(h.width)}if(h.height){v.setHeight(h.height)}if(h.text){v.setText(h.text)}if(h.collapsed_text){v.setCollapsedText(h.collapsed_text)}if(h.collapse){v.collapse()}if(h.fix_size){v.fixSize(h.fix_size[0],h.fix_size[1])}if(typeof(h.header)!=""undefined""&&window.dhx4.s2b(h.header)==false){v.hideHeader()}}}}u=null;return this}dhtmlXLayoutObject.prototype=new dhtmlXCellTop();dhtmlXLayoutObject.prototype.cells=function(g){for(var c in this.cdata){if(this.cdata[c].conf.name==g){return this.cdata[c]}if(this.cdata[c].dataType==""layout""&&this.cdata[c].dataNested==true&&this.cdata[c].dataObj!=null){var e=this.cdata[c].dataObj.cells(g);if(e!=null){return e}}}return null};dhtmlXLayoutObject.prototype.forEachItem=function(g,e){if(typeof(g)!=""function""){return}if(typeof(e)==""undefined""){e=this}for(var c in this.cdata){if(typeof(this.cdata[c].conf.name)!=""undefined""){g.apply(e,[this.cdata[c]])}if(this.cdata[c].dataType==""layout""&&this.cdata[c].dataNested==true&&this.cdata[c].dataObj!=null){this.cdata[c].dataObj.forEachItem(g,e)}}e=null};dhtmlXLayoutObject.prototype._forEachSep=function(g,e){if(typeof(g)!=""function""){return}if(typeof(e)==""undefined""){e=this}if(this.sep!=null){g.apply(e,[this.sep])}for(var c in this.cdata){if(this.cdata[c].dataType==""layout""&&this.cdata[c].dataNested==true&&this.cdata[c].dataObj!=null){this.cdata[c].dataObj._forEachSep(g,e)}}e=null};dhtmlXLayoutObject.prototype._detectSW=function(){if(this._confGlob.sw==null){this._confGlob.sw={}}if(this._confGlob.sw[this.conf.skin]==null){this._confGlob.sw[this.conf.skin]=window.dhx4.readFromCss(""dhxlayout_sep_sw_""+this.conf.skin)}return this._confGlob.sw[this.conf.skin]};dhtmlXLayoutObject.prototype._confGlob={};dhtmlXLayoutObject.prototype.listPatterns=function(){var e=[];for(var c in this.tplData){e.push(c)}return e};dhtmlXLayoutObject.prototype.listAutoSizes=function(){var g=(this.conf.as_cells!=null?(this.conf.as_cells.h).join("";""):"""");var e=(this.conf.as_cells!=null?(this.conf.as_cells.v).join("";""):"""");var c=this._availAutoSize[this.conf.pattern].h;var a=this._availAutoSize[this.conf.pattern].v;return[g,e,c,a]};dhtmlXLayoutObject.prototype._getCellsNames=function(g){var h={};if(this.cdata[g].conf.name!=null){h[this.cdata[g].conf.name]=true}if(this.cdata[g].dataType==""layout""&&this.cdata[g].dataObj!=null&&this.cdata[g].dataObj.mainInst==this){var c=this.cdata[g].dataObj._getCellsNames(""a"");var l=this.cdata[g].dataObj._getCellsNames(""b"");for(var e in c){h[e]=c[e]}for(var e in l){h[e]=l[e]}}return h};dhtmlXLayoutObject.prototype.setAutoSize=function(c,o,r){if(r!==true){var v=this.listAutoSizes();if(v[0]==c&&v[1]==o){return}var n=false;var l=false;for(var e=0;e<v[2].length;e++){n=n||v[2][e]==c}for(var e=0;e<v[3].length;e++){l=l||v[3][e]==o}if(!n||!l){return}}this.conf.as_cells={h:c.split("";""),v:o.split("";"")};var g=(this.conf.mode==""v""?""h"":""v"");for(var u in this.cdata){var h=this._getCellsNames(u);var w=false;for(var e=0;e<this.conf.as_cells[g].length;e++){w=w||h[this.conf.as_cells[g][e]]}if(w){this.conf.autosize=u}if(this.cdata[u].dataType==""layout""&&this.cdata[u].dataObj!=null){this.cdata[u].dataObj.setAutoSize(c,o,true)}}};dhtmlXLayoutObject.prototype.tplData={""1C"":{mode:""c"",cells:{a:{name:""a""}}},""2E"":{mode:""h"",cells:{a:{name:""a"",fsize:{v:1}},b:{name:""b"",fsize:{v:1}}}},""2U"":{mode:""v"",cells:{a:{name:""a"",fsize:{h:1}},b:{name:""b"",fsize:{h:1}}}},""3E"":{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{v:[1,2]}},b:{name:""c"",fsize:{v:2}}}}}}},""3W"":{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:[1,2]}},b:{name:""c"",fsize:{h:2}}}}}}},""3J"":{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""a"",fsize:{h:1,v:2}},b:{name:""c"",fsize:{h:1,v:2}}}}},b:{name:""b"",fsize:{h:1}}}},""3L"":{mode:""v"",cells:{a:{name:""a"",fsize:{h:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{h:1,v:2}},b:{name:""c"",fsize:{h:1,v:2}}}}}}},""3T"":{mode:""h"",cells:{a:{name:""a"",fsize:{v:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:2,v:1}},b:{name:""c"",fsize:{h:2,v:1}}}}}}},""3U"":{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""a"",fsize:{h:2,v:1}},b:{name:""b"",fsize:{h:2,v:1}}}}},b:{name:""c"",fsize:{v:1}}}},""4H"":{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{h:[1,2],v:3}},b:{name:""c"",fsize:{h:[1,2],v:3}}}}},b:{name:""d"",fsize:{h:2}}}}}}},""4I"":{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:3,v:[1,2]}},b:{name:""c"",fsize:{h:3,v:[1,2]}}}}},b:{name:""d"",fsize:{v:2}}}}}}},""4T"":{mode:""h"",cells:{a:{name:""a"",fsize:{v:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/3,fsize:{h:2,v:1}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:[2,3],v:1}},b:{name:""d"",fsize:{h:3,v:1}}}}}}}}}},""4U"":{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:2,v:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:[2,3],v:1}},b:{name:""c"",fsize:{h:3,v:1}}}}}}}},b:{name:""d"",fsize:{v:1}}}},""4E"":{mode:""h"",cells:{a:{name:""a"",height:1/4,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/3,fsize:{v:[1,2]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{v:[2,3]}},b:{name:""d"",fsize:{v:3}}}}}}}}}},""4W"":{mode:""v"",cells:{a:{name:""a"",width:1/4,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/3,fsize:{h:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:[2,3]}},b:{name:""d"",fsize:{h:3}}}}}}}}}},""4A"":{mode:""v"",cells:{a:{width:1/3,layout:{mode:""h"",cells:{a:{name:""a"",fsize:{h:1,v:2}},b:{name:""b"",fsize:{h:1,v:2}}}}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:[1,3]}},b:{name:""d"",fsize:{h:3}}}}}}},""4L"":{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:[1,2]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{h:2,v:3}},b:{name:""d"",fsize:{h:2,v:3}}}}}}}}}},""4J"":{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:3,v:2}},b:{name:""d"",fsize:{h:3,v:2}}}}}}}}}},""4F"":{mode:""h"",cells:{a:{height:1/3,layout:{mode:""v"",cells:{a:{name:""a"",fsize:{h:2,v:1}},b:{name:""b"",fsize:{h:2,v:1}}}}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{v:[1,3]}},b:{name:""d"",fsize:{v:3}}}}}}},""4G"":{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{h:1,v:[2,3]}},b:{name:""c"",fsize:{h:1,v:3}}}}}}}},b:{name:""d"",fsize:{h:1}}}},""4C"":{mode:""v"",cells:{a:{name:""a"",fsize:{h:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{h:1,v:[2,3]}},b:{name:""d"",fsize:{h:1,v:3}}}}}}}}}},""5H"":{mode:""v"",cells:{a:{width:1/3,name:""a"",fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/3,fsize:{h:[1,2],v:3}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{h:[1,2],v:[3,4]}},b:{name:""d"",fsize:{h:[1,2],v:4}}}}}}}},b:{name:""e"",fsize:{h:2}}}}}}},""5I"":{mode:""h"",cells:{a:{height:1/3,name:""a"",fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/3,fsize:{h:3,v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:[3,4],v:[1,2]}},b:{name:""d"",fsize:{h:4,v:[1,2]}}}}}}}},b:{name:""e"",fsize:{v:2}}}}}}},""5U"":{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""a"",width:1/4,fsize:{h:2,v:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/3,fsize:{h:[2,3],v:1}},b:{layout:{mode:""v"",cells:{a:{name:""c"",fsize:{h:[3,4],v:1}},b:{name:""d"",fsize:{h:4,v:1}}}}}}}}}}},b:{name:""e"",fsize:{v:1}}}},""5E"":{mode:""h"",cells:{a:{name:""a"",height:1/5,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/4,fsize:{v:[1,2]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/3,fsize:{v:[2,3]}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{v:[3,4]}},b:{name:""e"",fsize:{v:4}}}}}}}}}}}}},""5W"":{mode:""v"",cells:{a:{name:""a"",width:1/5,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/4,fsize:{h:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",width:1/3,fsize:{h:[2,3]}},b:{layout:{mode:""v"",cells:{a:{name:""d"",fsize:{h:[3,4]}},b:{name:""e"",fsize:{h:4}}}}}}}}}}}}},""5K"":{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{h:1,v:[2,3]}},b:{name:""c"",fsize:{h:1,v:3}}}}}}}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{h:1,v:4}},b:{name:""e"",fsize:{h:1,v:4}}}}}}},""5S"":{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""a"",fsize:{h:1,v:2}},b:{name:""b"",fsize:{h:1,v:2}}}}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/3,fsize:{h:1,v:3}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{h:1,v:[3,2]}},b:{name:""e"",fsize:{h:1,v:4}}}}}}}}}},""5G"":{mode:""v"",cells:{a:{width:1/3,layout:{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""b"",fsize:{h:1,v:[2,3]}},b:{name:""c"",fsize:{h:1,v:3}}}}}}}},b:{layout:{mode:""v"",cells:{a:{name:""d"",fsize:{h:[1,4]}},b:{name:""e"",fsize:{h:4}}}}}}},""5C"":{mode:""v"",cells:{a:{width:2/3,layout:{mode:""v"",cells:{a:{name:""a"",fsize:{h:2}},b:{name:""b"",fsize:{h:[2,1]}}}}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/3,fsize:{h:1,v:3}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{h:1,v:[3,4]}},b:{name:""e"",fsize:{h:1,v:4}}}}}}}}}},""6H"":{mode:""v"",cells:{a:{width:1/3,name:""a"",fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/4,fsize:{h:[1,2],v:3}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/3,fsize:{h:[1,2],v:[3,4]}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{h:[1,2],v:[4,5]}},b:{name:""e"",fsize:{h:[1,2],v:5}}}}}}}}}}},b:{name:""f"",fsize:{h:2}}}}}}},""6I"":{mode:""h"",cells:{a:{height:1/3,name:""a"",fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/4,fsize:{h:3,v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",width:1/3,fsize:{h:[3,4],v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""d"",fsize:{h:[4,5],v:[1,2]}},b:{name:""e"",fsize:{h:5,v:[1,2]}}}}}}}}}}},b:{name:""f"",fsize:{v:2}}}}}}},""6A"":{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""a"",height:1/5,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/4,fsize:{h:1,v:[2,3]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/3,fsize:{h:1,v:[3,4]}},b:{layout:{mode:""h"",cells:{a:{name:""d"",fsize:{h:1,v:[4,5]}},b:{name:""e"",fsize:{h:1,v:5}}}}}}}}}}}}}},b:{name:""f"",fsize:{h:1}}}},""6C"":{mode:""v"",cells:{a:{name:""a"",fsize:{h:1}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/5,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/4,fsize:{h:1,v:[2,3]}},b:{layout:{mode:""h"",cells:{a:{name:""d"",height:1/3,fsize:{h:1,v:[3,4]}},b:{layout:{mode:""h"",cells:{a:{name:""e"",fsize:{h:1,v:[4,5]}},b:{name:""f"",fsize:{h:1,v:5}}}}}}}}}}}}}}}},""6J"":{mode:""v"",cells:{a:{width:1/3,layout:{mode:""h"",cells:{a:{name:""a"",height:1/4,fsize:{h:1,v:2}},b:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/3,fsize:{h:1,v:[2,3]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",fsize:{h:1,v:[3,4]}},b:{name:""d"",fsize:{h:1,v:4}}}}}}}}}}},b:{layout:{mode:""v"",cells:{a:{name:""e"",fsize:{h:[1,5]}},b:{name:""f"",fsize:{h:5}}}}}}},""6E"":{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",fsize:{h:[1,2]}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/4,fsize:{h:2,v:3}},b:{layout:{mode:""h"",cells:{a:{name:""d"",height:1/3,fsize:{h:2,v:[3,4]}},b:{layout:{mode:""h"",cells:{a:{name:""e"",fsize:{h:2,v:[4,5]}},b:{name:""f"",fsize:{h:2,v:5}}}}}}}}}}}}}}}},""6W"":{mode:""v"",cells:{a:{name:""a"",width:1/6,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/5,fsize:{h:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",width:1/4,fsize:{h:[2,3]}},b:{layout:{mode:""v"",cells:{a:{name:""d"",width:1/3,fsize:{h:[3,4]}},b:{layout:{mode:""v"",cells:{a:{name:""e"",fsize:{h:[4,5]}},b:{name:""f"",fsize:{h:5}}}}}}}}}}}}}}}},""7H"":{mode:""v"",cells:{a:{name:""a"",width:1/3,fsize:{h:1}},b:{layout:{mode:""v"",cells:{a:{layout:{mode:""h"",cells:{a:{name:""b"",height:1/5,fsize:{h:[1,2],v:3}},b:{layout:{mode:""h"",cells:{a:{name:""c"",height:1/4,fsize:{h:[1,2],v:[3,4]}},b:{layout:{mode:""h"",cells:{a:{name:""d"",height:1/3,fsize:{h:[1,2],v:[4,5]}},b:{layout:{mode:""h"",cells:{a:{name:""e"",fsize:{h:[1,2],v:[5,6]}},b:{name:""f"",fsize:{h:[1,2],v:6}}}}}}}}}}}}}},b:{name:""g"",fsize:{h:2}}}}}}},""7I"":{mode:""h"",cells:{a:{name:""a"",height:1/3,fsize:{v:1}},b:{layout:{mode:""h"",cells:{a:{layout:{mode:""v"",cells:{a:{name:""b"",width:1/5,fsize:{h:3,v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""c"",width:1/4,fsize:{h:[3,4],v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""d"",width:1/3,fsize:{h:[4,5],v:[1,2]}},b:{layout:{mode:""v"",cells:{a:{name:""e"",fsize:{h:[5,6],v:[1,2]}},b:{name:""f"",fsize:{h:6,v:[1,2]}}}}}}}}}}}}}},b:{name:""g"",fsize:{v:2}}}}}}}};dhtmlXLayoutObject.prototype._availAutoSize={""1C"":{h:[""a""],v:[""a""]},""2E"":{h:[""a;b""],v:[""a"",""b""]},""2U"":{h:[""a"",""b""],v:[""a;b""]},""3E"":{h:[""a;b;c""],v:[""a"",""b"",""c""]},""3W"":{h:[""a"",""b"",""c""],v:[""a;b;c""]},""3J"":{h:[""a;c"",""b""],v:[""a;b"",""b;c""]},""3L"":{h:[""a"",""b;c""],v:[""a;b"",""a;c""]},""3T"":{h:[""a;b"",""a;c""],v:[""a"",""b;c""]},""3U"":{h:[""a;c"",""b;c""],v:[""a;b"",""c""]},""4H"":{h:[""a"",""b;c"",""d""],v:[""a;b;d"",""a;c;d""]},""4I"":{h:[""a;b;d"",""a;c;d""],v:[""a"",""b;c"",""d""]},""4T"":{h:[""a;b"",""a;c"",""a;d""],v:[""a"",""b;c;d""]},""4U"":{h:[""a;d"",""b;d"",""c;d""],v:[""a;b;c"",""d""]},""4E"":{h:[""a;b;c;d""],v:[""a"",""b"",""c"",""d""]},""4W"":{h:[""a"",""b"",""c"",""d""],v:[""a;b;c;d""]},""4A"":{h:[""a;b"",""c"",""d""],v:[""a;c;d"",""b;c;d""]},""4L"":{h:[""a"",""b"",""c;d""],v:[""a;b;c"",""a;b;d""]},""4J"":{h:[""a;b;c"",""a;b;d""],v:[""a"",""b"",""c;d""]},""4F"":{h:[""a;c;d"",""b;c;d""],v:[""a;b"",""c"",""d""]},""4G"":{h:[""a;b;c"",""d""],v:[""a;d"",""b;d"",""c;d""]},""4C"":{h:[""a"",""b;c;d""],v:[""a;b"",""a;c"",""a;d""]},""5H"":{h:[""a"",""b;c;d"",""e""],v:[""a;b;e"",""a;c;e"",""a;d;e""]},""5I"":{h:[""a;b;e"",""a;c;e"",""a;d;e""],v:[""a"",""b;c;d"",""e""]},""5U"":{h:[""a;e"",""b;e"",""c;e"",""d;e""],v:[""a;b;c;d"",""e""]},""5E"":{h:[""a;b;c;d;e""],v:[""a"",""b"",""c"",""d"",""e""]},""5W"":{h:[""a"",""b"",""c"",""d"",""e""],v:[""a;b;c;d;e""]},""5K"":{h:[""a;b;c"",""d;e""],v:[""a;d"",""b;d"",""c;d"",""a;e"",""b;e"",""c;e""]},""5S"":{h:[""a;b"",""c;d;e""],v:[""a;c"",""a;d"",""a;e"",""b;c"",""b;d"",""b;e""]},""5G"":{h:[""a;b;c"",""d"",""e""],v:[""a;d;e"",""b;d;e"",""c;d;e""]},""5C"":{h:[""a"",""b"",""c;d;e""],v:[""a;b;c"",""a;b;d"",""a;b;e""]},""6H"":{h:[""a"",""b;c;d;e"",""f""],v:[""a;b;f"",""a;c;f"",""a;d;f"",""a;e;f""]},""6I"":{h:[""a;b;f"",""a;c;f"",""a;d;f"",""a;e;f""],v:[""a"",""b;c;d;e"",""f""]},""6A"":{h:[""a;b;c;d;e"",""f""],v:[""a;f"",""b;f"",""c;f"",""d;f"",""e;f""]},""6C"":{h:[""a"",""b;c;d;e;f""],v:[""a;b"",""a;c"",""a;d"",""a;e"",""a;f""]},""6J"":{h:[""a;b;c;d"",""e"",""f""],v:[""a;e;f"",""b;e;f"",""c;e;f"",""d;e;f""]},""6E"":{h:[""a"",""b"",""c;d;e;f""],v:[""a;b;c"",""a;b;d"",""a;b;e"",""a;b;f""]},""6W"":{h:[""a"",""b"",""c"",""d"",""e"",""f""],v:[""a;b;c;d;e;f""]},""7H"":{h:[""a"",""b;c;d;e;f"",""g""],v:[""a;b;g"",""a;c;g"",""a;d;g"",""a;e;g"",""a;f;g""]},""7I"":{h:[""a;b;g"",""a;c;g"",""a;d;g"",""a;e;g"",""a;f;g""],v:[""a"",""b;c;d;e;f"",""g""]}};function dhtmlXLayoutSepObject(e,a){var c=this;this.conf={mode:e,idx:a,blocked:false,locked:false,btn_left:((window.dhx4.isIE6||window.dhx4.isIE7||window.dhx4.isIE8)&&typeof(window.addEventListener)==""undefined""?1:0)};if(window.dhx4.isIE&&navigator.userAgent.indexOf(""MSIE 7.0"")>=0&&navigator.userAgent.indexOf(""Trident"")>=0){this.conf.btn_left=1}this.sep=document.createElement(""DIV"");this.sep.className=""dhxlayout_sep"";if(window.dhx4.isIE==true){this.sep.onselectstart=function(){return false}}this.sep.className=""dhxlayout_sep dhxlayout_sep_resize_""+this.conf.mode;this._setSize=function(g,n,l,m){this.sep.style.left=g+""px"";this.sep.style.top=n+""px"";this.sep.style.width=Math.max(l,0)+""px"";this.sep.style.height=Math.max(m,0)+""px""};this._lockSep=function(g){this.conf.locked=(g==true);this._blockSep()};this._setWH=function(g){var h=this._getLayout();h.conf.sw=(g==null?h._detectSW():Math.max(parseInt(g)||-1,-1));h._getMainInst().setSizes();h=null};this._blockSep=function(){var g=this._getLayout();var h=g.cdata.a.conf.collapsed||g.cdata.b.conf.collapsed||this.conf.locked;g=null;if(this.conf.blocked==h){return}this.sep.className=""dhxlayout_sep""+(h?"""":"" dhxlayout_sep_resize_""+this.conf.mode);this.conf.blocked=h};this._beforeResize=function(h){if(this.conf.blocked){return}if(this.conf.resize!=null&&this.conf.resize.active==true){return}if(h.type==window.dhx4.dnd.evs.start){this.sep.className+="" dhxlayout_sep_resize_actv"";var m=(h.pageX||h.touches[0].pageX);var l=(h.pageY||h.touches[0].pageY)}else{if(h.button!==this.conf.btn_left){return}var m=h.clientX;var l=h.clientY}if(window.dhx4.dnd.p_en==true){window.dhx4.dnd._touchOff()}var g=this._getLayout();this.conf.resize={sx:m,sy:l,tx:h.layerX,ty:h.layerY,sep_x:parseInt(this.sep.style.left),sep_y:parseInt(this.sep.style.top),min_wa:g.cdata.a._getAvailWidth(""a""),min_wb:g.cdata.b._getAvailWidth(""b""),min_ha:g.cdata.a._getAvailHeight(""a""),min_hb:g.cdata.b._getAvailHeight(""b"")};this.conf.resize.nx=this.conf.resize.sep_x;this.conf.resize.ny=this.conf.resize.sep_y;if(typeof(window.addEventListener)==""function""){window.addEventListener(""mousemove"",this._doOnMouseMove,false);window.addEventListener(""mouseup"",this._doOnMouseUp,false);window.addEventListener(window.dhx4.dnd.evs.move,this._doOnMouseMove,false);window.addEventListener(window.dhx4.dnd.evs.end,this._doOnMouseUp,false)}else{document.body.attachEvent(""onmousemove"",this._doOnMouseMove);document.body.attachEvent(""onmouseup"",this._doOnMouseUp)}g=null};this._onResize=function(l){if(!this.conf.resize.active){this._initResizeArea();this.conf.resize.active=true}if(this.conf.mode==""v""){var g=(l.type==""mousemove""?l.clientX:(l.pageX||l.touches[0].pageX));var h=this.conf.resize.sx-g;this.conf.resize.nx=this.conf.resize.sep_x-h;if(this.conf.resize.nx>this.conf.resize.sep_x+this.conf.resize.min_wb){this.conf.resize.nx=this.conf.resize.sep_x+this.conf.resize.min_wb}else{if(this.conf.resize.nx<this.conf.resize.sep_x-this.conf.resize.min_wa){this.conf.resize.nx=this.conf.resize.sep_x-this.conf.resize.min_wa}}this.r_sep.style.left=this.conf.resize.nx+""px""}else{var m=(l.type==""mousemove""?l.clientY:(l.pageY||l.touches[0].pageY));var h=this.conf.resize.sy-m;this.conf.resize.ny=this.conf.resize.sep_y-h;if(this.conf.resize.ny>this.conf.resize.sep_y+this.conf.resize.min_hb){this.conf.resize.ny=this.conf.resize.sep_y+this.conf.resize.min_hb}else{if(this.conf.resize.ny<this.conf.resize.sep_y-this.conf.resize.min_ha){this.conf.resize.ny=this.conf.resize.sep_y-this.conf.resize.min_ha}}this.r_sep.style.top=this.conf.resize.ny+""px""}};this._afterResize=function(q){if(typeof(window.addEventListener)==""function""){window.removeEventListener(""mousemove"",this._doOnMouseMove,false);window.removeEventListener(""mouseup"",this._doOnMouseUp,false);window.removeEventListener(window.dhx4.dnd.evs.move,this._doOnMouseMove,false);window.removeEventListener(window.dhx4.dnd.evs.end,this._doOnMouseUp,false)}else{document.body.detachEvent(""onmousemove"",this._doOnMouseMove);document.body.detachEvent(""onmouseup"",this._doOnMouseUp)}if(!this.conf.resize.active){this.conf.resize=null;return}if(q.type==window.dhx4.dnd.evs.end){this.sep.className=this.sep.className.replace(/\s{0,}dhxlayout_sep_resize_actv/gi,"""")}else{if(q.button!==this.conf.btn_left){return}}var m=this._getLayout();var h=m._getMainInst();var n=(h.checkEvent(""onPanelResizeFinish"")==true?{}:false);if(n!==false){h.forEachItem(function(s){n[s.conf.name]={w:s.conf.size.w,h:s.conf.size.h};s=null})}var l=this.conf.resize.nx-this.conf.resize.sep_x;var g=this.conf.resize.ny-this.conf.resize.sep_y;m.cdata.a._setSize(m.cdata.a.conf.size.x,m.cdata.a.conf.size.y,m.cdata.a.conf.size.w+l,m.cdata.a.conf.size.h+g,""a"");m.cdata.b._setSize(m.cdata.b.conf.size.x+l,m.cdata.b.conf.size.y+g,m.cdata.b.conf.size.w-l,m.cdata.b.conf.size.h-g,""b"");this._setSize(parseInt(this.r_sep.style.left),parseInt(this.r_sep.style.top),parseInt(this.r_sep.style.width),parseInt(this.r_sep.style.height));if(window.dhx4.isIE){var r=this;window.setTimeout(function(){r._removeResizeArea();r=null},1)}else{this._removeResizeArea()}if(n!==false){var o=[];h.forEachItem(function(s){var u=n[s.conf.name];if(!(u.w==s.conf.size.w&&u.h==s.conf.size.h)){o.push(s.conf.name)}s=null});h._callMainEvent(""onPanelResizeFinish"",[o])}h=m=null;this.conf.resize.active=false;this.conf.resize=null;if(window.dhx4.dnd.p_en==true){window.dhx4.dnd._touchOn()}};this._initResizeArea=function(){if(this.r_sep==null){this.r_sep=document.createElement(""DIV"");this.r_sep.className=""dhxlayout_resize_sep"";this.r_sep.style.left=this.sep.style.left;this.r_sep.style.top=this.sep.style.top;this.r_sep.style.width=this.sep.style.width;this.r_sep.style.height=this.sep.style.height;this.sep.parentNode.appendChild(this.r_sep);if(window.dhx4.isIE){this.r_sep.onselectstart=function(){return false}}}if(this.r_area==null){this.r_area=document.createElement(""DIV"");this.r_area.className=""dhxlayout_resize_area"";this.sep.parentNode.appendChild(this.r_area);if(window.dhx4.isIE){this.r_area.onselectstart=function(){return false}}if(this.conf.mode==""v""){var g=parseInt(this.r_sep.style.left)-this.conf.resize.min_wa;var n=parseInt(this.r_sep.style.top);var l=this.conf.resize.min_wa+this.conf.resize.min_wb+parseInt(this.r_sep.style.width);var m=parseInt(this.r_sep.style.height)}else{var g=parseInt(this.r_sep.style.left);var n=parseInt(this.r_sep.style.top)-this.conf.resize.min_ha;var l=parseInt(this.r_sep.style.width);var m=this.conf.resize.min_ha+this.conf.resize.min_hb+parseInt(this.r_sep.style.height)}this.r_area.style.left=g+""px"";this.r_area.style.top=n+""px"";if(!dhtmlXLayoutObject.prototype._confGlob.reszieCover){dhtmlXLayoutObject.prototype._confGlob.reszieCover={};this.r_area.style.width=l+""px"";this.r_area.style.height=m+""px"";dhtmlXLayoutObject.prototype._confGlob.reszieCover.w=parseInt(this.r_area.style.width)-this.r_area.offsetWidth;dhtmlXLayoutObject.prototype._confGlob.reszieCover.h=parseInt(this.r_area.style.height)-this.r_area.offsetHeight}this.r_area.style.width=l+dhtmlXLayoutObject.prototype._confGlob.reszieCover.w+""px"";this.r_area.style.height=m+dhtmlXLayoutObject.prototype._confGlob.reszieCover.h+""px""}document.body.className+="" dhxlayout_resize_""+this.conf.mode};this._removeResizeArea=function(){this.r_sep.onselectstart=null;this.r_sep.parentNode.removeChild(this.r_sep);this.r_sep=null;this.r_area.onselectstart=null;this.r_area.parentNode.removeChild(this.r_area);this.r_area=null;document.body.className=String(document.body.className).replace(/\s{0,}dhxlayout_resize_[vh]/gi,"""")};this._doOnMouseDown=function(g){g=g||event;if(g.preventDefault){g.preventDefault()}else{g.cancelBubble=true}c._beforeResize(g)};this._doOnBodyMouseDown=function(g){g=g||event;if(c.conf.resize==null){return}if(c.conf.resize.active==true&&g.button!==c.conf.btn_left){if(g.preventDefault){g.preventDefault()}g.returnValue=false;g.cancelBubble=true;return false}};this._doOnMouseMove=function(g){g=g||event;if(g.preventDefault){g.preventDefault()}else{g.cancelBubble=true}c._onResize(g)};this._doOnMouseUp=function(g){g=g||event;if(g.type==""mouseup""&&g.button!==c.conf.btn_left){return}c._afterResize(g)};if(typeof(window.addEventListener)==""function""){this.sep.addEventListener(""mousedown"",this._doOnMouseDown,false);this.sep.addEventListener(window.dhx4.dnd.evs.start,this._doOnMouseDown,false);document.body.addEventListener(""mousedown"",this._doOnBodyMouseDown,false);document.body.addEventListener(""contextmenu"",this._doOnBodyMouseDown,false)}else{this.sep.attachEvent(""onmousedown"",this._doOnMouseDown);document.body.attachEvent(""onmousedown"",this._doOnBodyMouseDown);document.body.attachEvent(""oncontextmenu"",this._doOnBodyMouseDown)}this._unload=function(){if(typeof(window.addEventListener)==""function""){this.sep.removeEventListener(""mousedown"",this._doOnMouseDown,false);this.sep.removeEventListener(window.dhx4.dnd.evs.start,this._doOnMouseDown,false);document.body.removeEventListener(""mousedown"",this._doOnBodyMouseDown,false);document.body.removeEventListener(""contextmenu"",this._doOnBodyMouseDown,false)}else{this.sep.detachEvent(""onmousedown"",this._doOnMouseDown);document.body.detachEvent(""onmousedown"",this._doOnBodyMouseDown);document.body.detachEvent(""oncontextmenu"",this._doOnBodyMouseDown)}if(window.dhx4.isIE==true){this.sep.onselectstart=null}this.sep.parentNode.removeChild(this.sep);this.sep=null;for(var g in this){this[g]=null}c=null};return this}dhtmlXLayoutObject.prototype.setSeparatorSize=function(e,g){if(typeof(e)==""number""){var h=this.setSeparatorSize({index:e,current:-1},g);if(h.sep!=null){h.sep._setWH(g)}return}for(var c in this.cdata){if(this.cdata[c].dataType==""layout""&&this.cdata[c].dataNested==true&&this.cdata[c].dataObj!=null){e=this.cdata[c].dataObj.setSeparatorSize(e,g);if(e.sep!=null){return e}}if(c==""a""&&this.sep!=null){e.current++;if(e.index==e.current){return{sep:this.sep}}}}return e};window.dhtmlXLayoutCell=function(g,e){dhtmlXCellObject.apply(this,[g,""_layout""]);var c=this;this.layout=e;this.conf.skin=this.layout.conf.skin;this.conf.mode=this.layout.conf.mode;this.conf.collapsed=false;this.conf.fixed={w:false,h:false};this.conf.docked=true;this.conf.min_width=26;this.conf.min_height=26;this.attachEvent(""_onCellUnload"",function(){this.cell.childNodes[this.conf.idx.hdr].ondblclick=null;if(this.conf.mode!=""c""){this.cell.childNodes[this.conf.idx.hdr].lastChild.ondblclick=null}this._unloadDocking();this.layout=null;c=null});this._hdrInit();this.cell.childNodes[this.conf.idx.hdr].ondblclick=function(){var h=c.layout._getMainInst();h._callMainEvent(""onDblClick"",[c.conf.name]);h=null};this.attachEvent(""_onContentLoaded"",function(){var h=this.layout._getMainInst();h._callMainEvent(""onContentLoaded"",[this.conf.name]);h=null});if(this.conf.mode!=""c""){var a=document.createElement(""DIV"");a.className=""dhxlayout_arrow dhxlayout_arrow_""+this.conf.mode+this._idd;this.cell.childNodes[this.conf.idx.hdr].appendChild(a);a.onclick=function(h){if(c.conf.collapsed){c.expand()}else{c.collapse()}};a=null}this.attachEvent(""_onBeforeContentAttach"",function(h){if(h==""tabbar""||h==""layout""||h==""acc""){this._hideBorders()}if(h==""sidebar""&&this.conf.skin!=""dhx_skyblue""){this._hideBorders();this.showHeader()}});this._initDocking();return this};dhtmlXLayoutCell.prototype=new dhtmlXCellObject();dhtmlXLayoutCell.prototype.getId=function(){return this.conf.name};dhtmlXLayoutCell.prototype._initDocking=function(){var a=this;this.dock=function(){var e=this.layout._getMainInst();if(e.dhxWins==null||this.conf.docked){e=null;return}var c=e.dhxWins.window(this.conf.name);c.close();this._attachFromCell(c);this.conf.docked=true;if(!this.conf.dock_collapsed){this.expand()}e._callMainEvent(""onDock"",[this.conf.name]);e=c=null};this.undock=function(c,n,l,m){var g=this.layout._getMainInst();if(g.dhxWins==null||this.conf.docked==false){g=null;return}this.conf.dock_collapsed=this.conf.collapsed;if(!this.conf.collapsed){this.collapse()}if(g.dhxWins.window(this.conf.name)!=null){var e=g.dhxWins.window(this.conf.name);e.show()}else{if(c==null){c=20}if(n==null){n=20}if(l==null){l=320}if(m==null){m=200}var e=g.dhxWins.createWindow(this.conf.name,c,n,l,m);e.button(""close"").hide();e.addUserButton(""dock"",99,""Dock"");e.button(""dock"").show();e.button(""dock"").attachEvent(""onClick"",this._doOnDockClick);e.setText(this.getText());e.attachEvent(""onClose"",this._doOnDockWinClose)}this.conf.docked=false;e._attachFromCell(this);g._callMainEvent(""onUnDock"",[this.conf.name]);g=e=null};this._doOnDockClick=function(){a.dock()};this._doOnDockWinClose=function(c){c.hide();return false};this._unloadDocking=function(){a=null}};dhtmlXLayoutCell.prototype._hdrInit=function(){var c="""";if(window.dhx4.isIE){if(navigator.userAgent.indexOf(""MSIE 9.0"")!=-1){c="" dhx_cell_hdr_text_ie9""}else{if(window.dhx4.isIE8){c="" dhx_cell_hdr_text_ie8""}else{if(window.dhx4.isIE7){c="" dhx_cell_hdr_text_ie7""}else{if(window.dhx4.isIE6){c="" dhx_cell_hdr_text_ie6""}}}}}else{if(window.dhx4.isChrome||window.dhx4.isKHTML){c="" dhx_cell_hdr_text_chrome""}}var a=document.createElement(""DIV"");a.className=""dhx_cell_hdr"";a.innerHTML=""<div class='dhx_cell_hdr_text""+c+""'></div>"";this.cell.insertBefore(a,this.cell.childNodes[this.conf.idx.cont]);a=null;this.conf.ofs_nodes.t._getHdrHeight=""func"";this.conf.hdr={visible:true};this.conf.idx_data.hdr=""dhx_cell_hdr"";this._updateIdx();this.attachEvent(""_onSetSize"",this._hdrOnSetSize);this.attachEvent(""_onBorderChange"",this._hdrOnBorderChange);this.attachEvent(""_onViewSave"",this._hdrOnViewSave);this.attachEvent(""_onViewRestore"",this._hdrOnViewRestore)};dhtmlXLayoutCell.prototype.showHeader=function(a){if(this.conf.hdr.visible||this.conf.collapsed){return}if(this.conf.hdr.w_saved>this._getAvailWidth()||this.conf.hdr.h_saved>this._getAvailHeight()){return}this.conf.hdr.w_saved=this.conf.hdr.h_saved=null;this.conf.hdr.visible=true;this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr"";if(a!==true){this._adjustCont(this._idd)}};dhtmlXLayoutCell.prototype.hideHeader=function(a){if(!this.conf.hdr.visible||this.conf.collapsed){return}this.conf.hdr.w_saved=this._getMinWidth(this._idd);this.conf.hdr.h_saved=this._getMinHeight(this._idd);this.conf.hdr.visible=false;this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr dhx_cell_hdr_hidden"";this._hdrUpdBorder();this._mtbUpdBorder();if(a!==true){this._adjustCont(this._idd)}};dhtmlXLayoutCell.prototype.isHeaderVisible=function(){return(this.conf.hdr.visible==true)};dhtmlXLayoutCell.prototype.showArrow=function(){this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display=""""};dhtmlXLayoutCell.prototype.hideArrow=function(){this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display=""none""};dhtmlXLayoutCell.prototype.isArrowVisible=function(){return(this.cell.childNodes[this.conf.idx.hdr].childNodes[1].style.display=="""")};dhtmlXLayoutCell.prototype.setText=function(a){this.conf.hdr.text=a;this._hdrUpdText()};dhtmlXLayoutCell.prototype.getText=function(){return this.conf.hdr.text};dhtmlXLayoutCell.prototype.setCollapsedText=function(a){this.conf.hdr.text_collapsed=a;this._hdrUpdText()};dhtmlXLayoutCell.prototype.getCollapsedText=function(){return(this.conf.hdr.text_collapsed!=null?this.conf.hdr.text_collapsed:this.conf.hdr.text)};dhtmlXLayoutCell.prototype._hdrUpdText=function(){var a=(this.conf.collapsed==true&&this.conf.hdr.text_collapsed!=null?this.conf.hdr.text_collapsed:this.conf.hdr.text);this.cell.childNodes[this.conf.idx.hdr].firstChild.innerHTML=""<span>""+a+""</span>""};dhtmlXLayoutCell.prototype._hdrUpdBorder=function(){if(this.conf.borders==true){this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr""+(this.conf.hdr.visible?"""":"" dhx_cell_hdr_hidden"")}else{if(!this.conf.hdr.visible){this.cell.childNodes[this.conf.idx.hdr].className=""dhx_cell_hdr dhx_cell_hdr_hidden_no_borders""}}};dhtmlXLayoutCell.prototype._hdrOnSetSize=function(){if(this.conf.collapsed&&this.conf.mode==""v""){this._fitHdr()}};dhtmlXLayoutCell.prototype._hdrOnBorderChange=function(){this.hideHeader(true);this._hdrUpdBorder()};dhtmlXLayoutCell.prototype._hdrOnViewSave=function(a){this.views[a].hdr_vis=this.conf.hdr.visible};dhtmlXLayoutCell.prototype._hdrOnViewRestore=function(a){if(this.conf.hdr.visible!=this.views[a].hdr_vis){this[this.views[a].hdr_vis?""showHeader"":""hideHeader""](true)}this.views[a].hdr_vis=null;delete this.views[a].hdr_vis};dhtmlXLayoutCell.prototype._getHdrHeight=function(a){if(this.conf.collapsed&&this.conf.mode==""v""&&a!==true){return 27}return this.cell.childNodes[this.conf.idx.hdr].offsetHeight};dhtmlXLayoutCell.prototype._fitHdr=function(){if(this.conf.collapsed){if(typeof(dhtmlXLayoutObject.prototype._confGlob.hdrColH)==""undefined""){this.cell.childNodes[this.conf.idx.hdr].style.height=this.cell.offsetHeight+""px"";dhtmlXLayoutObject.prototype._confGlob.hdrColH=parseInt(this.cell.childNodes[this.conf.idx.hdr].style.height)-this._getHdrHeight(true)}this.cell.childNodes[this.conf.idx.hdr].style.height=this.cell.offsetHeight+dhtmlXLayoutObject.prototype._confGlob.hdrColH+""px""}else{this.cell.childNodes[this.conf.idx.hdr].style.height=null}};dhtmlXLayoutCell.prototype.expand=function(m){if(!this.conf.collapsed){return true}var e=this.layout;if(this.conf.mode==""v""){var l=(m?e.conf.hh:e.cdata[e.conf.nextCell[this._idd]]._getMinWidth(this._idd));var g=e.cont.offsetWidth-e.conf.sw;if(l+this.conf.size.w_avl>g){e=null;return false}}else{var h=(m?e.conf.hh:e.cdata[e.conf.nextCell[this._idd]]._getMinHeight(this._idd)+e.cdata[e.conf.nextCell[this._idd]]._getHdrHeight());var c=e.cont.offsetHeight-e.conf.sw;if(h+this.conf.size.h_avl>c){e=null;return false}}if(this.conf.docked==false){this.dock();return}this.cell.className=String(this.cell.className).replace(/\s{0,}dhxlayout_collapsed_[hv]/gi,"""");this.conf.collapsed=false;if(this.conf.mode==""v""){this.conf.size.w=Math.min(g-l,this.conf.size.w_saved);this.conf.size.w_saved=this.conf.size.w_avl=null}else{this.conf.size.h=Math.min(c-h,this.conf.size.h_saved);this.conf.size.h_saved=this.conf.size.h_avl=null}if(this.conf.mode==""v""){this._fitHdr()}e.setSizes(e.conf.nextCell[this._idd],e.conf.nextCell[this._idd],m==true,""expand"");e.sep._blockSep();e=null;this._hdrUpdText();var a=this.layout._getMainInst();a._callMainEvent(""onExpand"",[this.conf.name]);a=null;return true};dhtmlXLayoutCell.prototype.collapse=function(){if(this.conf.collapsed){return false}var c=this.layout;if(c.cdata[c.conf.nextCell[this._idd]].expand(true)==false){return false}if(this.conf.mode==""v""){this.conf.size.w_saved=this.conf.size.w;this.conf.size.w_avl=this._getMinWidth(this._idd)}else{this.conf.size.h_saved=this.conf.size.h;this.conf.size.h_avl=this._getMinHeight(this._idd)+this._getHdrHeight()}this.cell.className+="" dhxlayout_collapsed_""+this.conf.mode;this.conf.collapsed=true;if(this.conf.mode==""v""){this.conf.size.w=c.conf.hh}else{this.conf.size.h=this._getHdrHeight()}c.setSizes(c.conf.nextCell[this._idd],c.conf.nextCell[this._idd],false,""collapse"");c.sep._blockSep();c=null;this._hdrUpdText();var a=this.layout._getMainInst();a._callMainEvent(""onCollapse"",[this.conf.name]);a=null;return true};dhtmlXLayoutCell.prototype.isCollapsed=function(){return(this.conf.collapsed==true)};dhtmlXLayoutCell.prototype.setMinWidth=function(a){this.conf.min_width=parseInt(a)||0};dhtmlXLayoutCell.prototype.setMinHeight=function(a){this.conf.min_height=parseInt(a)||0};dhtmlXLayoutCell.prototype._getMinWidth=function(c){if(this.dataType==""layout""&&this.dataObj!=null){if(this.dataObj.conf.pattern==""1C""){return Math.max(this.conf.min_width,this.dataObj.cdata.a._getMinWidth(c))}else{if(this.dataObj.conf.mode==""v""){var a=c||this._idd;if(this.dataObj.cdata[a].conf.collapsed){a=this.dataObj.conf.nextCell[a]}return Math.max(this.conf.min_width,this.dataObj.cdata[a]._getMinWidth(c)+this.dataObj.cdata[this.dataObj.conf.nextCell[a]]._getWidth()+this.dataObj.conf.sw)}else{return Math.max(this.conf.min_width,this.dataObj.cdata.a._getMinWidth(c),this.dataObj.cdata.b._getMinWidth(c))}}}return Math.max(this.conf.min_width,1)};dhtmlXLayoutCell.prototype._getMinHeight=function(e){var c=0;if(this.conf.idx.menu!=null){c+=this.cell.childNodes[this.conf.idx.menu].offsetHeight}if(this.dataType==""layout""&&this.dataObj!=null){if(this.dataObj.conf.pattern==""1C""){return Math.max(this.conf.min_height,this.dataObj.cdata.a._getMinHeight(e))}else{if(this.dataObj.conf.mode==""h""){var a=e;if(this.dataObj.cdata[a].conf.collapsed){a=this.dataObj.conf.nextCell[a]}return Math.max(this.conf.min_height,this.dataObj.cdata[a]._getMinHeight(e)+this.dataObj.cdata[a]._getHdrHeight()+this.dataObj.cdata[this.dataObj.conf.nextCell[a]]._getHeight()+this.dataObj.conf.sw)}else{return Math.max(this.conf.min_height,this.dataObj.cdata.a._getMinHeight(e)+this.dataObj.cdata.a._getHdrHeight(),this.dataObj.cdata.b._getMinHeight(e)+this.dataObj.cdata.b._getHdrHeight())}}}return Math.max(this.conf.min_height,c)};dhtmlXLayoutCell.prototype._getAvailWidth=function(e){if(this.dataType==""layout""&&this.dataObj!=null){if(this.dataObj.conf.pattern==""1C""){return this.dataObj.cdata.a._getAvailWidth(e)}else{if(this.dataObj.conf.mode==""v""){var a=(this.dataObj.cdata.a.conf.collapsed==true);var c=(this.dataObj.cdata.b.conf.collapsed==true);if(e==""a""){return this.dataObj.cdata[c?""a"":""b""]._getAvailWidth(e)}else{return this.dataObj.cdata[a?""b"":""a""]._getAvailWidth(e)}}else{return Math.min(this.dataObj.cdata.a._getAvailWidth(e),this.dataObj.cdata.b._getAvailWidth(e))}}}return this.cell.offsetWidth-this._getMinWidth()};dhtmlXLayoutCell.prototype._getAvailHeight=function(g){if(this.dataType==""layout""&&this.dataObj!=null){if(this.dataObj.conf.pattern==""1C""){return this.dataObj.cdata.a._getAvailHeight(g)}else{if(this.dataObj.conf.mode==""h""){var c=(this.dataObj.cdata.a.conf.collapsed==true);var e=(this.dataObj.cdata.b.conf.collapsed==true);if(g==""a""){return this.dataObj.cdata[e?""a"":""b""]._getAvailHeight(g)}else{return this.dataObj.cdata[c?""b"":""a""]._getAvailHeight(g)}}else{return Math.min(this.dataObj.cdata.a._getAvailHeight(g),this.dataObj.cdata.b._getAvailHeight(g))}}}var a=this._getHdrHeight();if(this.conf.mode==""v""&&this.conf.collapsed){a=this.conf.hh}return this.cell.offsetHeight-a-this._getMinHeight()};dhtmlXLayoutCell.prototype.setWidth=function(g){if(this.conf.mode==""v""){if(this.conf.collapsed){return}var h=this.layout;var l=h.cdata[h.conf.nextCell[this._idd]];if(l.conf.collapsed){g=g+h.conf.sw+l._getWidth();m=h=l=null;return}var e=this._getMinWidth(this._idd);var n=h.cont.offsetWidth-l._getMinWidth(this._idd)-h.conf.sw;g=Math.max(e,Math.min(g,n));this.conf.size.w=g;h.setSizes(l._idd,l._idd);h=l=null}else{if(this.layout==null||this.layout.parentLayout==null){return}var m=this.layout.parentLayout;var h=this.layout;var l=h.cdata[h.conf.nextCell[this._idd]];for(var c in m.cdata){if(m.cdata[c].dataObj==h){m.cdata[c].setWidth(g)}}m=h=null}};dhtmlXLayoutCell.prototype.setHeight=function(n){if(this.conf.mode==""h""){if(this.conf.collapsed){return}var g=this.layout;var m=g.cdata[g.conf.nextCell[this._idd]];if(m.conf.collapsed){n=n+g.conf.sw+m._getHeight();var o=(this.layout!=null&&this.layout.parentLayout!=null?this.layout.parentLayout:null);if(o!=null){for(var c in o.cdata){if(o.cdata[c].dataObj==g){o.cdata[c].setHeight(n)}}}o=g=m=null;return}var l=this._getMinHeight(this._idd)+this._getHdrHeight();var e=g.cont.offsetHeight-m._getMinHeight(this._idd)-m._getHdrHeight()-g.conf.sw;n=Math.max(l,Math.min(n,e));this.conf.size.h=n;g.setSizes(m._idd,m._idd);g=m=null}else{if(this.layout==null||this.layout.parentLayout==null){return}var o=this.layout.parentLayout;var g=this.layout;var m=g.cdata[g.conf.nextCell[this._idd]];for(var c in o.cdata){if(o.cdata[c].dataObj==g){o.cdata[c].setHeight(n)}}o=g=null}};dhtmlXLayoutCell.prototype.getWidth=function(){return this.conf.size.w};dhtmlXLayoutCell.prototype.getHeight=function(){return this.conf.size.h};dhtmlXLayoutCell.prototype.fixSize=function(c,g){this.conf.fixed.w=window.dhx4.s2b(c);this.conf.fixed.h=window.dhx4.s2b(g);var a=this.layout._getMainInst();var e={};a.forEachItem(function(h){if(h.conf.fsize!=null){var o=h.getId();var n={h:(h.conf.fixed.w==true),v:(h.conf.fixed.h==true)};for(var l in n){if(n[l]==true&&h.conf.fsize[l]!=null){if(!(h.conf.fsize[l] instanceof Array)){h.conf.fsize[l]=[h.conf.fsize[l]]}for(var m=0;m<h.conf.fsize[l].length;m++){e[h.conf.fsize[l][m]]=true}}}}h=null});a._forEachSep(function(h){h._lockSep(e[h.conf.idx]==true);h=null});a=null};dhtmlXCellObject.prototype.attachLayout=function(a){this.callEvent(""_onBeforeContentAttach"",[""layout""]);var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";this._attachObject(c);if(typeof(this._layoutMainInst)!=""undefined""){c._layoutMainInst=this._layoutMainInst}if(typeof(window.dhtmlXLayoutCell)!=""undefined""&&this instanceof dhtmlXLayoutCell){c._isParentCell=true}if(typeof(window.dhtmlXAccordionCell)!=""undefined""&&(this instanceof window.dhtmlXAccordionCell)){c._ofs={t:-1,r:-1,l:-1,b:-1}}if(typeof(window.dhtmlXTabBarCell)!=""undefined""&&(this instanceof window.dhtmlXTabBarCell)){if(this.conf.skin==""dhx_skyblue""){c._ofs={t:-1,r:-1,b:-1,l:-1}}}if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){if(this.conf.skin==""dhx_web""){c._ofs={l:8}}if(this.conf.skin==""dhx_terrace""){c._ofs={l:11}}else{c._ofs={l:-1}}}if(typeof(window.dhtmlXCarouselCell)!=""undefined""&&(this instanceof window.dhtmlXCarouselCell)){this._hideBorders()}if(typeof(a)==""string""){a={pattern:a}}if(typeof(a.skin)==""undefined""){a.skin=this.conf.skin}a.parent=c;this.dataType=""layout"";this.dataObj=new dhtmlXLayoutObject(a);if(this instanceof dhtmlXLayoutCell){this.dataObj.parentLayout=this.layout}c._layoutMainInst=null;a.parent=null;c=a=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj};function dhtmlXTabBar(g,m){var h=this;this.conf={skin:(window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxtabbar"")||""dhx_skyblue""),css:""dhxtabbar"",lastActive:null,closeButton:false,align:""left"",tabsMode:(m==""bottom""?""bottom"":""top""),tabsContCss:"""",contZone:true,transSpeed:""0.15s"",arwMode:""always"",tabsOfs:1,tabsTop:0,url_demand:false,urls:{},autoload:{},tabsWidth:{dhx_terrace:[44,14],dhx_web:[35,9],dhx_skyblue:[35,9]}};var c=navigator.userAgent;if(c.indexOf(""Safari"")>=0&&(c.indexOf(""5.1.7"")>=0||(c.match(/7[\.\d]* mobile/gi)!=null&&c.match(/AppleWebKit/gi)!=null))){this.conf.tabsContCss="" safari_517_fix""}var l;if(g!=null&&typeof(g)==""object""&&typeof(g.tagName)==""undefined""){l=g.parent;if(typeof(g.skin)!=""undefined""){this.conf.skin=g.skin}if(typeof(g.mode)!=""undefined""){this.conf.tabsMode=(g.mode==""bottom""?""bottom"":""top"")}if(typeof(g.align)!=""undefined""){this.conf.align=(g.align==""right""?""right"":""left"")}if(typeof(g.close_button)!=""undefined""){this.conf.closeButton=window.dhx4.s2b(g.close_button)}if(typeof(g.content_zone)!=""undefined""){this.conf.contZone=window.dhx4.s2b(g.content_zone)}if(typeof(g.xml)!=""undefined""){this.conf.autoload.xml=g.xml}if(typeof(g.json)!=""undefined""){this.conf.autoload.xml=g.json}if(typeof(g.tabs)!=""undefined""){this.conf.autoload.tabs=g.tabs}if(typeof(g.onload)!=""undefined""){this.conf.autoload.tabs=g.tabs}if(typeof(g.arrows_mode)!=""undefined""){this.conf.autoload.arrows_mode=g.arrows_mode}}else{l=g}window.dhtmlXCellTop.apply(this,[l,g.offsets]);if(this.base._ofs!=null&&this.base._ofs.t!=null){this.conf.tabsTop=this.base._ofs.t}this.tabsMode=document.createElement(""DIV"");this.tabsMode.className=""dhxtabbar_tabs_""+this.conf.tabsMode;this.cont.appendChild(this.tabsMode);this.tabsArea=document.createElement(""DIV"");this.tabsArea.className=""dhxtabbar_tabs dhxtabbar_tabs_""+this.conf.tabsMode;this.tabsArea.innerHTML=""<div class='dhxtabbar_tabs_ar_left'><div class='dhxtabbar_arrow_img'></div></div><div class='dhxtabbar_tabs_base'><div class='dhxtabbar_tabs_cont_""+this.conf.align+this.conf.tabsContCss+""'><div class='dhxtabbar_tabs_line'></div></div></div><div class='dhxtabbar_tabs_ar_right'><div class='dhxtabbar_arrow_img'></div></div>"";this.tabsArea.style.top=(this.conf.tabsMode==""top""?this.conf.tabsTop+""px"":""auto"");this.tabsMode.appendChild(this.tabsArea);this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]=""0px"";this.tabsArea.childNodes[0].onclick=function(){if(h.conf.align==""left""){h._moveTabs(1)}else{h._moveTabs(-1)}};this.tabsArea.childNodes[2].onclick=function(){if(h.conf.align==""left""){h._moveTabs(-1)}else{h._moveTabs(1)}};this._onTabsAreaClick=function(a){return this._callMainEvent(""onTabClose"",[a])};this.tabsArea.onclick=function(n){n=n||event;var a=(n.target||n.srcElement);while(a!=null){if(typeof(a._tabCloseId)!=""undefined""){if(h._onTabsAreaClick(a._tabCloseId)!==true){return}h.t[a._tabCloseId].conf.remove=true;h._hideTab(a._tabCloseId);a=null}else{if(typeof(a._tabId)!=""undefined""){h._doOnClick(a._tabId);a=null}}if(a!=null){a=a.parentNode;if(a==this){a=null}}}};this.tabsArea.onselectstart=function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};this._doOnClick=function(a){this.callEvent(""onTabClick"",[a,this.conf.lastActive]);if(this.t[a].conf.enabled){this._setTabActive(a)}};this.t={};this.addTab=function(a,v,o,s,r,w){if(typeof(w)!=""boolean""){w=(this.conf.closeButton==true)}r=window.dhx4.s2b(r);var q=document.createElement(""DIV"");q.className=""dhxtabbar_tab"";q.innerHTML=""<div class='dhxtabbar_tab_text""+(w?"" dhxtabbar_tab_text_close"":"""")+""'>""+v+""</div>""+(w?""<div class='dhxtabbar_tab_close'></div>"":"""");q._tabId=a;if(w){q.childNodes[1]._tabCloseId=a}var n=this.tabsArea.childNodes[1].firstChild;if(s!=null&&s+1>0&&s+1<n.childNodes.length){n.insertBefore(q,n.childNodes[s+1])}else{n.appendChild(q)}var x=false;if(typeof(o)==""undefined""||o==null||o==""*""){o=this._getLabelWidth(v,w);x=true}else{o=parseInt(o)}q.style.width=o+""px"";var u=new dhtmlXTabBarCell(a,this);this.tabsMode.appendChild(u.cell);this.t[a]={tab:q,cell:u,conf:{text:v,visible:true,active:false,enabled:true,close:w,width:o,autowidth:x}};n=u=null;if(r){this._setTabActive(a)}else{this._adjustCell(a)}if(this.conf.initSeq!=true&&this.conf.arwMode==""auto""){this.setSizes()}};this.setSizes=function(){this._adjustCont();if(this.conf.tabsAreaOfs==null){this.tabsArea.style.width=this.cont.offsetWidth+""px"";this.conf.tabsAreaOfs=parseInt(this.tabsArea.style.width)-this.tabsArea.offsetWidth}this.tabsArea.style.width=this.cont.offsetWidth+this.conf.tabsAreaOfs+""px"";this._adjustCell(this.conf.lastActive);this._adjustTabs(true);this.callEvent(""_onSetSizes"",[])};this._adjustCell=function(q){if(!this.conf.contZone||q==null){return}var o=(this.conf.tabsMode==""top""?this.tabsArea.offsetHeight:0)+this.conf.tabsTop;var n=this.cont.offsetHeight-this.tabsArea.offsetHeight-this.conf.tabsTop;var a=this.t[q].cell.dataType;if(this.conf.skin==""dhx_skyblue""&&(a==""layout""||a==""tabbar""||a==""acc"")){if(this.conf.tabsMode==""top""){o=o-1}n=n+1}if(q!=this.conf.lastActive){o=-5000;this.t[q].cell.cell.style.visibility=""hidden"";this.t[q].cell.cell.style.zIndex=0}this.t[q].cell._setSize(0,o,this.cont.offsetWidth,n)};this.setTabsMode=function(a){this.conf.tabsMode=(a==""bottom""?""bottom"":""top"");this.tabsMode.className=""dhxtabbar_tabs_""+this.conf.tabsMode;this.tabsArea.className=""dhxtabbar_tabs dhxtabbar_tabs_""+this.conf.tabsMode;this.tabsArea.style.top=(this.conf.tabsMode==""top""?this.conf.tabsTop+""px"":""auto"");this.setSizes()};this._tabCss=function(s,q){var n=this.t[s].conf.active;var r=!this.t[s].conf.enabled;var o=!this.t[s].conf.visible;return""dhxtabbar_tab""+(o?"" dhxtabbar_tab_hidden"":(n||r?"" dhxtabbar_tab""+(n?""_actv"":"""")+(r?""_dis"":""""):""""))};this._getLabelWidth=function(o,n){if(this.tabsTextTest==null){this.tabsTextTest=document.createElement(""SPAN"");this.tabsTextTest.className=""dhxtabbar_tabs_text_test_""+this.conf.skin}document.body.appendChild(this.tabsTextTest);this.tabsTextTest.innerHTML=o;var a=this.tabsTextTest.offsetWidth;if(window.dhx4.isIE&&a==0){a=this.tabsTextTest.offsetWidth}a+=this.conf.tabsWidth[this.conf.skin][0];if(n==true){a+=this.conf.tabsWidth[this.conf.skin][1]}document.body.removeChild(this.tabsTextTest);return a};this._adjustTabs=function(r){if(this._checkArrows()==true||r==true){this.tabsArea.childNodes[1].style.left=this.tabsArea.childNodes[0].offsetWidth-1+""px"";this.tabsArea.childNodes[1].style.width=Math.max(0,this.tabsArea.offsetWidth-this.tabsArea.childNodes[0].offsetWidth-this.tabsArea.childNodes[2].offsetWidth)+1+""px""}var u=this.tabsArea.childNodes[1];if(u.offsetWidth<5){u=null;return}var a=parseInt(u.childNodes[0].style[this.conf.align]);var o=null;for(var s=0;s<u.childNodes[0].childNodes.length;s++){var v=u.childNodes[0].childNodes[s]._tabId;if(v!=null&&this.t[v].conf.visible){var n=this.t[v].tab.offsetWidth-this.conf.tabsOfs;if(this.t[v].conf.active){if(a<0||u.offsetWidth<n){o={d:1,id:v}}else{if(a+n>u.offsetWidth){o={d:-1,id:v}}}}a+=n}}if(o!=null){this._moveTabs(o.d,o.id)}else{if(u.offsetWidth>a+1){u.childNodes[0].style[this.conf.align]=Math.min(0,parseInt(u.childNodes[0].style[this.conf.align])+(u.offsetWidth-a))+""px""}}u=o=null};this._moveTabs=function(y,r){var o=this.tabsArea.childNodes[1].childNodes[0];var v=0;var A=[];var D=null;for(var a=0;a<o.childNodes.length;a++){var n=o.childNodes[a]._tabId;if(n!=null&&this.t[n].conf.visible){A.push({id:n,w:this.t[n].tab.offsetWidth-this.conf.tabsOfs,ind:v});if(n==r){D=v}v++}}var C=parseInt(this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]);var u=this.tabsArea.offsetWidth-this.tabsArea.childNodes[0].offsetWidth-this.tabsArea.childNodes[2].offsetWidth;var w=null;var s=null;for(var a=0;a<A.length;a++){A[a].x=C;if(w==null&&C>=0&&C+A[a].w>0){w=A[a]}if(C<u&&C+A[a].w<=u){s=A[a]}C+=A[a].w}if(D!=null){var E=A[D]}else{var E=null;if(y>0){if(w==null){if(A.length>0){E=A[A.length-1]}}else{if(w.ind>0&&A.length>=w.ind){E=A[w.ind-1]}}}else{if(s==null){if(A.length>0){E=A[0]}}else{if(A.length>s.ind){E=A[s.ind+1]}}}}if(E!=null){if(y>0){if(C<u){o.style[this.conf.align]=Math.min(0,parseInt(o.style[this.conf.align])+(u-C))+""px""}else{o.style[this.conf.align]=parseInt(o.style[this.conf.align])-E.x+""px""}}else{o.style[this.conf.align]=parseInt(o.style[this.conf.align])-E.x+u-E.w+""px""}}o=E=A=null};this._getNextVisible=function(n,a){return this._getNearVisible(n,a,""next"")};this._getPrevVisible=function(n,a){return this._getNearVisible(n,a,""previous"")};this._getFirstVisible=function(){return this._getNearVisible(null,false,""first"")};this._getNearVisible=function(s,o,r){if(r==""first""){var q=this.tabsArea.childNodes[1].childNodes[0].childNodes[1];r=""next""}else{if(s==null||this.t[s]==null){return(o?this._getFirstVisible():null)}var q=this.t[s].tab[r+""Sibling""]}var n=null;while(q!=null&&n==null){var a=q._tabId;if(a!=null&&n==null&&this.t[a].conf.visible){n=a}else{q=q[r+""Sibling""]}}q=null;return n};this._showTab=function(n,a){if(this.t[n]==null){return}if(this.t[n].conf.transActv==true){if(this.t[n].conf.transMode==""show""){return}}else{if(this.t[n].conf.visible==true){return}}if(this.conf.transProp!==false){this.t[n].conf.transActv=true;this.t[n].conf.transMode=""show"";this.t[n].conf.transProp=this.conf.transProp;this.t[n].conf.transActvId=(a?n:null);if(!this.t[n].conf.transEv){this.t[n].tab.addEventListener(this.conf.transEv,this._doOnTrEnd,false);this.t[n].conf.transEv=true}this.t[n].conf.visible=true;this.t[n].tab.className=this._tabCss(n);this.t[n].tab.style[this.conf.transProp]=this.conf.transValueWidth;this.t[n].tab.style.width=this.t[n].conf.width+""px"";if(this.t[n].tab.clientWidth>=this.t[n].conf.width){this.t[n].tab.style.visibility=""visible""}}else{this.t[n].conf.visible=true;this.t[n].tab.style.display="""";if(a||this.t[n].conf.active){this.t[n].conf.active=false;this._setTabActive(n)}else{this._adjustTabs()}}};this._hideTab=function(s,a){if(this.t[s]==null){return}if(this.t[s].conf.transActv==true){if(this.t[s].conf.transMode==""hide""){return}}else{if(this.t[s].conf.visible!=true){return}}var n=false;if(this.conf.lastActive==s){this.conf.lastActive=null;this.t[s].conf.active=false;this.t[s].tab.className=this._tabCss(s);n=true}var q=this._getPrevVisible(s);var o=this._getNextVisible(s);var r=(n&&a!==false?(a==true?null:a)||o||q:null);if(this.conf.transProp!==false){this.t[s].conf.transActv=true;this.t[s].conf.transMode=""hide"";this.t[s].conf.transProp=this.conf.transProp;this.t[s].conf.transActvId=r;this.t[s].conf.visible=false;if(!this.t[s].conf.transEv){this.t[s].tab.addEventListener(this.conf.transEv,this._doOnTrEnd,false);this.t[s].conf.transEv=true}this.t[s].tab.style.visibility=""hidden"";this.t[s].tab.className=h._tabCss(s);this.t[s].tab.style[this.conf.transProp]=this.conf.transValueWidth;this.t[s].tab.style.width=""0px""}else{this.t[s].tab.style.display=""none"";this.t[s].conf.visible=false;if(this.conf.contZone){this.t[s].cell.cell.style.visibility=""hidden"";this.t[s].cell.cell.style.top=""-5000px""}if(r!=null){this._setTabActive(r)}this._adjustTabs();if(this.t[s].conf.remove){this._removeTab(s)}}};this._isTabVisible=function(a){return(this.t[a].conf.visible==true)};this._doOnTrEnd=function(){var o=this._tabId;if(h.t[o]==null){return}var a=h.t[o];var n=a.conf.transActvId;if(a.conf.transMode==""hide""){if(a.conf.remove){h._removeTab(o)}else{a.tab.style[a.conf.transProp]="""";if(h.conf.contZone){a.cell.cell.style.visibility=""hidden"";a.cell.cell.style.top=""-5000px""}a.conf.transActv=false}}else{if(a.conf.transMode==""show""){a.tab.style[a.conf.transProp]="""";a.tab.style.visibility=""visible"";a.conf.transMode=null;a.conf.transActv=false}}if(n!=null){h._setTabActive(n)}else{h._adjustTabs()}a=null};this.enableTabCloseButton=function(a){this.conf.closeButton=window.dhx4.s2b(a)};this.unload=function(){this.conf.unloading=true;this.clearAll();this.t=null;if(this.tabsTextTest!=null){if(this.tabsTextTest.parentNode){this.tabsTextTest.parentNode.removeChild(this.tabsTextTest)}this.tabsTextTest=null}window.dhx4._enableDataLoading(this,null,null,null,""clear"");this.tabsArea.childNodes[0].onclick=null;this.tabsArea.childNodes[2].onclick=null;this.tabsArea.onclick=null;this.tabsArea.onselectstart=null;this.tabsArea.parentNode.removeChild(this.tabsArea);this.tabsArea=null;this.tabsMode.parentNode.removeChild(this.tabsMode);this.tabsMode=null;this._unloadTop();window.dhx4._eventable(this,""clear"");for(var n in this){this[n]=null}h=null};this.enableContentZone=function(a){this.conf.contZone=(a==true)};this.setSkin=function(o){this._setBaseSkin(o);this.conf.skin=o;if(this.tabsTextTest!=null){this.tabsTextTest.className=""dhxtabbar_tabs_text_test_""+this.conf.skin}for(var n in this.t){this.t[n].cell._resetSizeState();if(this.t[n].conf.autowidth==true){this.t[n].conf.width=this._getLabelWidth(this.t[n].conf.text,this.t[n].conf.close);if(this.t[n].conf.visible){this.t[n].tab.style.width=this.t[n].conf.width+""px""}}}this.conf.tabsAreaOfs=null;this._fixTabsOfs();this.setSizes()};this.setAlign=function(a){a=(a==""left""?""left"":""right"");if(a==this.conf.align){this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]=""0px"";return}if(this.conf.transProp!==false){this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=""""}this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]="""";this.conf.align=a;this.tabsArea.childNodes[1].childNodes[0].className=""dhxtabbar_tabs_cont_""+this.conf.align+this.conf.tabsContCss;this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]=""0px"";if(this.conf.transProp!==false){this.conf.transValuePos=this.conf.align+"" ""+this.conf.transSpeed;this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=this.conf.transValuePos}};this._initObj=function(r){this.conf.initSeq=true;this.clearAll();var a=false;if(r.settings!=null){if(r.settings.skin!=null){this.setSkin(r.settings.skin)}if(r.settings.closeButton!=null){this.enableTabCloseButton(window.dhx4.s2b(r.settings.closeButton))}if(r.settings.align!=null){this.setAlign(r.settings.align)}if(r.settings.hrefmode==""ajax""){a=true}if(r.settings.hrefmode==""ajax-html""){a=true;this.conf.url_demand=true}}if(r.tabs!=null){for(var o=0;o<r.tabs.length;o++){var n=r.tabs[o];if(typeof(n.id)==""undefined""){n.id=window.dhx4.newId()}if(!isNaN(parseInt(n.width))){n.width=parseInt(n.width)}else{n.width=null}this.addTab(n.id,n.text||n.label||"""",n.width,n.index,window.dhx4.s2b(n.selected)||window.dhx4.s2b(n.active),n.close);if(n.content!=null){this.cells(n.id).attachHTMLString(n.content)}else{if(n.href!=null){if(this.conf.url_demand==true){this.conf.urls[n.id]={href:n.href,ajax:a}}else{this.cells(n.id).attachURL(n.href,a)}}}if(typeof(n.enabled)!=""undefined""&&window.dhx4.s2b(n.enabled)==false){this.tabs(n.id).disable()}else{if(typeof(n.disabled)!=""undefined""&&window.dhx4.s2b(n.disabled)==true){this.tabs(n.id).disable()}}}}this.conf.initSeq=false;if(this.conf.arwMode==""auto""){this.setSizes()}if(this.conf.url_demand==true){this._loadURLOnDemand(this.conf.lastActive)}};this._xmlToObj=function(v){var u={settings:{},tabs:[]};var n=v.getElementsByTagName(""tabbar"")[0];if(n!=null){for(var x in {skin:1,align:1,closeButton:1,hrefmode:1}){if(n.getAttribute(x)!=null){u.settings[x]=n.getAttribute(x)}}var A=n.getElementsByTagName(""tab"");for(var o=0;o<A.length;o++){var s={text:(A[o].firstChild.nodeValue||"""")};for(var x in {id:1,width:1,close:1,selected:1,active:1,enabled:1,disabled:1,href:1}){if(A[o].getAttribute(x)!=null){s[x]=A[o].getAttribute(x)}}var C=A[o].getElementsByTagName(""content"")[0];if(C!=null){s.content="""";for(var y=0;y<C.childNodes.length;y++){s.content+=(C.childNodes[y].nodeValue||"""")}}u.tabs.push(s)}}return u};dhx4._enableDataLoading(this,""_initObj"",""_xmlToObj"",""tabbar"",{struct:true});var e=window.dhx4.transDetect();this.conf.transProp=e.transProp;this.conf.transEv=e.transEv;this.conf.transValueWidth=""width ""+this.conf.transSpeed;e=null;if(this.conf.transProp!==false){this.conf.transValuePos=this.conf.align+"" ""+this.conf.transSpeed;this.tabsArea.childNodes[1].childNodes[0].style[this.conf.transProp]=this.conf.transValuePos}this._callMainEvent=function(n,a){return this.callEvent(n,a)};window.dhx4._eventable(this);if(this.conf.autoload.json!=null){this.loadStruct(this.conf.autoload.json,this.conf.autoload.onload)}else{if(this.conf.autoload.xml!=null){this.loadStruct(this.conf.autoload.xml,this.conf.autoload.onload)}else{if(this.conf.autoload.tabs!=null){this.loadStruct({tabs:this.conf.autoload.tabs})}}}if(this.conf.autoload.arrows_mode!=null){this.setArrowsMode(this.conf.autoload.arrows_mode)}this._fixTabsOfs();this.setSizes();return this}dhtmlXTabBar.prototype=new dhtmlXCellTop();dhtmlXTabBar.prototype._fixTabsOfs=function(){this.conf.tabsOfs=(this.conf.skin==""dhx_web""?0:1)};dhtmlXTabBar.prototype.cells=dhtmlXTabBar.prototype.tabs=function(a){if(this.t[a]){return this.t[a].cell}return null};dhtmlXTabBar.prototype.getAllTabs=function(){var e=[];for(var c in this.t){e.push(c)}return e};dhtmlXTabBar.prototype._setTabActive=function(c,a){if(!this.t[c]||this.t[c].conf.active){return}if(typeof(a)==""undefined""){a=true}if(a==true&&this.callEvent(""onSelect"",[c,this.conf.lastActive])!==true){return}this.setTabInActive();this.t[c].conf.active=true;if(this.conf.contZone){this.t[c].cell.cell.style.visibility=""visible"";this.t[c].cell.cell.style.top=""0px"";this.t[c].cell.cell.style.zIndex=1}this.t[c].tab.className=this._tabCss(c);this.conf.lastActive=c;this.setSizes();if(this.conf.url_demand==true){this._loadURLOnDemand(c)}};dhtmlXTabBar.prototype.setTabInActive=function(){if(this.conf.lastActive&&this.t[this.conf.lastActive]){this.t[this.conf.lastActive].conf.active=false;if(this.conf.contZone){this.t[this.conf.lastActive].cell.cell.style.visibility=""hidden"";this.t[this.conf.lastActive].cell.cell.style.top=""-5000px"";this.t[this.conf.lastActive].cell.cell.style.zIndex=0}this.t[this.conf.lastActive].tab.className=this._tabCss(this.conf.lastActive);this.conf.lastActive=null}};dhtmlXTabBar.prototype._isTabActive=function(a){return(a==this.conf.lastActive&&this.conf.lastActive!=null)};dhtmlXTabBar.prototype.getActiveTab=function(){return this.conf.lastActive};dhtmlXTabBar.prototype.goToNextTab=function(){var a=this._getNextVisible(this.conf.lastActive,true);if(a!=null){this._setTabActive(a)}};dhtmlXTabBar.prototype.goToPrevTab=function(){var a=this._getPrevVisible(this.conf.lastActive,true);if(a!=null){this._setTabActive(a)}};dhtmlXTabBar.prototype._enableTab=function(c,a){if(!this.t[c]||this.t[c].conf.enabled){return}this.t[c].conf.enabled=true;this.t[c].tab.className=this._tabCss(c);if(a==true){this._setTabActive(c)}};dhtmlXTabBar.prototype._disableTab=function(c,a){if(!this.t[c]||!this.t[c].conf.enabled){return}this.t[c].conf.enabled=false;this.t[c].tab.className=this._tabCss(c);if(a!==false&&this.conf.lastActive==c){if(a==true){a=this._getNextVisible(c)||this._getPrevVisible(c)}this._setTabActive(a)}};dhtmlXTabBar.prototype._isTabEnabled=function(a){return(this.t[a]!=null&&this.t[a].conf.enabled==true)};dhtmlXTabBar.prototype._setTabText=function(g,e,c){if(!this.t[g]){return}var a=false;if(typeof(c)==""undefined""||c==null){c=this._getLabelWidth(e,this.t[g].conf.close);a=true}this.t[g].tab.style.width=c+""px"";this.t[g].tab.childNodes[0].innerHTML=e;this.t[g].conf.text=e;this.t[g].conf.width=c;this.t[g].conf.autowidth=a};dhtmlXTabBar.prototype._getTabText=function(a){if(!this.t[a]){return null}return this.t[a].conf.text};dhtmlXTabBar.prototype._removeTab=function(n,e,l){if(!this.t[n]){return}if(l!=true&&this.t[n].conf.remove!=true){this.t[n].conf.remove=true;this._hideTab(n,e);return}if(typeof(e)==""undefined""){e=true}var g=this._getNextVisible(n);var h=this._getPrevVisible(n);if(this.t[n].conf.transEv==true){this.t[n].tab.removeEventListener(this.conf.transEv,this._doOnTrEnd,false);this.t[n].conf.transEv=false}for(var c in this.t[n].conf){this.t[n].conf[c]=null}this.t[n].conf=null;delete this.t[n].conf;this.t[n].cell._unload();this.t[n].cell=null;this.t[n].tab.parentNode.removeChild(this.t[n].tab);this.t[n].tab=null;this.t[n]=null;delete this.t[n];if(this.conf.lastActive==n&&e!=false){this.conf.lastActive=null;var m=(e==true?(g||h||this._getFirstVisible()):e);if(m!=null){this._setTabActive(m)}}else{if(l!=true){this._adjustTabs()}}};dhtmlXTabBar.prototype.clearAll=function(){for(var c in this.t){this._removeTab(c,false,true)}this.tabsArea.childNodes[1].childNodes[0].style[this.conf.align]=""0px""};dhtmlXTabBar.prototype.moveTab=function(e,a){if(!this.t[e]||a<0){return}a+=1;var c=this.tabsArea.childNodes[1].firstChild;if(c.childNodes[a]!=this.t[e].tab){c.removeChild(this.t[e].tab);if(a>=c.childNodes.length){c.appendChild(this.t[e].tab)}else{c.insertBefore(this.t[e].tab,c.childNodes[a])}}c=null};dhtmlXTabBar.prototype._getIndex=function(g){var a=-1;var e=this.tabsArea.childNodes[1].firstChild;for(var c=1;c<e.childNodes.length;c++){if(e.childNodes[c]._tabId==g){a=c-1}}e=null;return a};dhtmlXTabBar.prototype.getNumberOfTabs=function(g){var e=0;for(var c in this.t){e+=(g!=true?1:(this.t[c].conf.visible==true?1:0))}return e};dhtmlXTabBar.prototype.forEachCell=dhtmlXTabBar.prototype.forEachTab=function(e){for(var c in this.t){e.apply(window,[this.t[c].cell])}};dhtmlXTabBar.prototype.enableAutoReSize=function(){this._initFSResize()};dhtmlXTabBar.prototype.setArrowsMode=function(a){a={auto:""auto"",always:""always""}[String(a)];if(a==null||a==this.conf.mode){return}this.conf.arwMode=a;if(a==""always""){this.tabsArea.childNodes[0].className=""dhxtabbar_tabs_ar_left"";this.tabsArea.childNodes[2].className=""dhxtabbar_tabs_ar_right""}this.setSizes()};dhtmlXTabBar.prototype._checkArrows=function(){var h=false;if(this.conf.arwMode==""auto""){var g=0;for(var e in this.t){g+=this.t[e].tab.offsetWidth}var c=this.tabsArea.childNodes[0];var l=this.tabsArea.childNodes[2];if(g>this.cont.offsetWidth){if(c.className.search(/dhxtabbar_tabs_ar_hidden/)>=0){c.className=c.className.replace(/\s{0,}dhxtabbar_tabs_ar_hidden/,"""");l.className=l.className.replace(/\s{0,}dhxtabbar_tabs_ar_hidden/,"""");h=true}}else{if(c.className.search(/dhxtabbar_tabs_ar_hidden/)<1){c.className+="" dhxtabbar_tabs_ar_hidden"";l.className+="" dhxtabbar_tabs_ar_hidden"";h=true}}c=l=null}return h};dhtmlXTabBar.prototype._loadURLOnDemand=function(a){if(a!=null&&this.conf.urls[a]!=null){this.cells(a).attachURL(this.conf.urls[a].href,this.conf.urls[a].ajax);this.conf.urls[a]=null}};window.dhtmlXTabBarCell=function(g,e){dhtmlXCellObject.apply(this,[g,""_tabbar""]);this.tabbar=e;this.conf.skin=this.tabbar.conf.skin;this.conf.tabbar_funcs={show:""_showTab"",hide:""_hideTab"",isVisible:""_isTabVisible"",enable:""_enableTab"",disable:""_disableTab"",isEnabled:""_isTabEnabled"",getIndex:""_getIndex"",getText:""_getTabText"",setText:""_setTabText"",setActive:""_setTabActive"",isActive:""_isTabActive"",close:""_removeTab""};this._tabbarCall=function(a){return function(){var h=[this._idd];for(var l=0;l<arguments.length;l++){h.push(arguments[l])}return this.tabbar[a].apply(this.tabbar,h)}};for(var c in this.conf.tabbar_funcs){if(typeof(this[c])!=""function""){this[c]=this._tabbarCall(this.conf.tabbar_funcs[c])}}this.attachEvent(""_onCellUnload"",function(){this.tabbar=null;for(var h in this.conf.tabbar_funcs){this[h]=null;this.conf.tabbar_funcs[h]=null}this.conf.tabbar_funcs=null});this.attachEvent(""_onContentLoaded"",function(){this.tabbar._callMainEvent(""onContentLoaded"",arguments);this.tabbar._callMainEvent(""onTabContentLoaded"",arguments)});this.attachEvent(""_onContentAttach"",function(){this.tabbar._adjustCell(this.tabbar.conf.lastActive)});this.attachEvent(""_onBeforeContentAttach"",function(a){if(a==""sidebar""&&this.conf.skin!=""dhx_skyblue""){this._hideBorders()}})};window.dhtmlXTabBarCell.prototype=new dhtmlXCellObject();dhtmlXCellObject.prototype.attachTabbar=function(a){this.callEvent(""_onBeforeContentAttach"",[""tabbar""]);if(typeof(a)==""string""){a={mode:a}}else{if(typeof(a)!=""object""||a==null){a={}}}var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";if(typeof(window.dhtmlXAccordionCell)!=""undefined""&&(this instanceof window.dhtmlXAccordionCell)){c._ofs={t:-1}}if(typeof(window.dhtmlXTabBarCell)!=""undefined""&&(this instanceof window.dhtmlXTabBarCell)){if(this.conf.skin==""dhx_skyblue""){c._ofs={t:-1,r:-1,b:-1,l:-1}}}if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){c._ofs={l:-1}}if(typeof(window.dhtmlXCarouselCell)!=""undefined""&&(this instanceof window.dhtmlXCarouselCell)){this._hideBorders()}this._attachObject(c);a.skin=this.conf.skin;a.parent=c;this.dataType=""tabbar"";this.dataObj=new dhtmlXTabBar(a);a.parent=c=null;a=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj};function dhtmlXTabBarInitFromHTML(){var z=document.getElementsByTagName(""div"");for(var i=0;i<z.length;i++){if(z[i].className.indexOf(""dhtmlxTabBar"")!=-1){var conf={settings:{},tabs:[]};var n=z[i];var id=n.id;n.className="""";var k=new Array();for(var j=0;j<n.childNodes.length;j++){if(n.childNodes[j].tagName&&n.childNodes[j].tagName!=""!""){k[k.length]=n.childNodes[j]}}var skin=n.getAttribute(""skin"");if(skin!=null){conf.settings.skin=skin}var w=new dhtmlXTabBar({parent:id,mode:n.getAttribute(""mode"")});window[id]=w;acs=n.getAttribute(""onbeforeinit"");if(acs){eval(acs)}align=n.getAttribute(""align"");if(align){conf.settings.align=align}var cont={};for(var j=0;j<k.length;j++){var m=k[j];var tab={id:m.id,text:m.getAttribute(""name""),width:m.getAttribute(""width""),selected:m.getAttribute(""selected""),active:m.getAttribute(""active""),close:m.getAttribute(""close"")};var href=m.getAttribute(""href"");if(href){cont[m.id]={href:href}}else{cont[m.id]={cont:m}}conf.tabs.push(tab)}w.loadStruct(conf);for(var a in cont){if(cont[a].href){w.cells(a).attachURL(cont[a].href);cont[a].href=null}else{w.cells(a).attachObject(cont[a].cont);if(cont[a].cont.style.display==""none""){cont[a].cont.style.display=""""}cont[a].cont=null}cont[a]=null}var selId=n.getAttribute(""select"");if(selId!=null){w.tabs(selId).setActive()}else{if(w.getActiveTab()==null){var v=w._getFirstVisible();if(v!=null){w.cells(v).setActive()}}}acs=n.getAttribute(""oninit"");if(acs){eval(acs)}}}if(typeof(window.addEventListener)==""function""){window.removeEventListener(""load"",dhtmlXTabBarInitFromHTML,false)}else{window.detachEvent(""onload"",dhtmlXTabBarInitFromHTML)}}if(typeof(window.addEventListener)==""function""){window.addEventListener(""load"",dhtmlXTabBarInitFromHTML,false)}else{window.attachEvent(""onload"",dhtmlXTabBarInitFromHTML)}function dhtmlXSideBar(c){var e=this;this.conf={skin:(c.skin||window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxsidebar"")||""dhx_skyblue""),css:""dhxsidebar"",width:c.width||200,scroll_size:12,scroll_mult:20,close_button:false,icons_path:c.icons_path||"""",selected:null,single_cell:(typeof(c.single_cell)==""undefined""?false:window.dhx4.s2b(c.single_cell)),cell:null};this.setTemplate(c.template);window.dhtmlXCellTop.apply(this,[c.parent,(c==null?null:c.offsets)]);window.dhx4._eventable(this);if(window.navigator.msPointerEnabled==true){this.conf.touch_ms=true;this.conf.touch_start=""MSPointerDown"",this.conf.touch_end=""MSPointerUp""}else{this.conf.touch_ms=false;this.conf.touch_start=""touchstart"",this.conf.touch_end=""touchend""}this.side=document.createElement(""DIV"");this.side.className=""dhxsidebar_side dhxsidebar_tpl_""+this.conf.tpl_name;this.side.innerHTML=""<div class='dhxsidebar_side_items'></div>"";this.cont.appendChild(this.side);window.setTimeout(function(){if(e!=null&&e.side!=null){e.side.firstChild.style.top=""0px""}},1);this.arw=document.createElement(""DIV"");this.arw.className=""dhxsidebar_arrows dhxsidebar_arrows_hidden"";this.arw.innerHTML=""<div class='dhxsidebar_arrow dhxsidebar_arrow_left'><div class='dhxsidebar_arrow_image'></div></div><div class='dhxsidebar_arrow dhxsidebar_arrow_right'><div class='dhxsidebar_arrow_image'></div></div>"";this.cont.appendChild(this.arw);this._doOnArwClick=function(h){h=h||event;if(h.type!=""click""&&h.preventDefault){h.preventDefault()}var g=h.target||h.srcElement;if(g.className.match(/dhxsidebar_arrow_image/)!=null){g=g.parentNode}if(g.className.match(/dhxsidebar_arrow_left/)!=null){e._scrollSide(-e.conf.scroll_size)}else{if(g.className.match(/dhxsidebar_arrow_right/)!=null){e._scrollSide(e.conf.scroll_size)}}g=null};if(typeof(window.addEventListener)==""function""){this.arw.addEventListener(this.conf.touch_start,this._doOnArwClick,false);this.arw.addEventListener(""click"",this._doOnArwClick,false)}else{this.arw.attachEvent(""onclick"",this._doOnArwClick)}this._doOnSideClick=function(l){l=l||event;var h=l.target||l.srcElement;var m=null;var g=false;if(l.type==""touchstart""||l.type==""pointerdown""||l.type==""MSPointerDown""){if(l.preventDefault){l.preventDefault()}if(this.className.match(/dhxsidebar_touch/gi)==null){if(l.type==""touchstart""||(l.type==""pointerdown""&&l.pointerType==""touch"")){this.className+="" dhxsidebar_touch""}}}while(h!=null&&m==null&&l.type!=""pointerdown""&&l.type!=""MSPointerDown""){if(typeof(h.className)!=""undefined""){if(h.className.match(/^dhxsidebar_item/)!=null&&typeof(h._idd)!=""undefined""){m=h._idd}else{if(h.className.match(/^dhxsidebar_bubble/)!=null){g=true;m=h.parentNode._idd}}}h=h.parentNode}if(m!=null){if(g==false||(g==true&&e.callEvent(""onBubbleClick"",[m,e.t[m].conf.bubble])==true)){e._setItemActive(m,true)}}h=null};if(typeof(window.addEventListener)==""function""){this.side.addEventListener(this.conf.touch_start,this._doOnSideClick,false);this.side.addEventListener(this.conf.touch_end,this._doOnSideClick,false);this.side.addEventListener(""mouseup"",this._doOnSideClick,false)}else{this.side.attachEvent(""onclick"",this._doOnSideClick)}this.side.onmouseover=function(){this.className=this.className.replace(/\s*dhxsidebar_touch/gi,"""")};this._doOnSideScroll=function(g){g=g||event;var h=(g.type==""mousewheel""?-g.wheelDelta:g.deltaY);e._scrollSide(h/Math.abs(h)*3)};this._scrollSide=function(g){var h=parseInt(this.side.firstChild.style.top||0)-g*this.conf.scroll_mult;if(h+this.side.firstChild.offsetHeight<this.side.clientHeight){h=this.side.clientHeight-this.side.firstChild.offsetHeight}if(h>0){h=0}this.side.firstChild.style.top=h+""px""};if(typeof(window.addEventListener)==""function""){this.side.addEventListener(""wheel"",this._doOnSideScroll,false)}else{this.side.attachEvent(""onmousewheel"",this._doOnSideScroll)}this.t={};this.s={};this._adjustCell=function(q,n){if(this.conf.single_cell!=true&&q==null){return}var g=this.conf.width;var l=this.cont.offsetWidth-g;var o=0;var m=this.cont.offsetHeight;if(this.conf.single_cell==true){if(n==true){this.conf.cell._setSize(g,o,l,m)}}else{if(q!=this.conf.selected){o=-5000;this.t[q].cell.cell.style.visibility=""hidden"";this.t[q].cell.cell.style.zIndex=0}this.t[q].cell._setSize(g,o,l,m)}};var a=window.dhx4.transDetect();this.conf.transProp=a.transProp;this.conf.transEv=a.transEv;this.conf.transValue=""all 0.1s"";this._doOnTrEnd=function(h){var m=this._idd;if(e.t[m]==null){return}var g=e.t[m];var l=g.conf.transActvId;if(g.conf.transMode==""hide""){if(g.conf.remove==true){e._removeItem(m)}else{g.item.style[g.conf.transProp]="""";if(e.conf.single_cell!=true){g.cell.cell.style.visibility=""hidden"";g.cell.cell.style.top=""-5000px""}g.conf.transActv=false}}else{if(g.conf.transMode==""show""){g.item.style[g.conf.transProp]="""";g.item.style.visibility=""visible"";g.conf.transMode=null;g.conf.transActv=false}}if(l!=null){e._setItemActive(l)}else{e._checkHeight()}g=null};this._initObj=function(g){this.clearAll();if(g.items!=null){this.addItem(g.items)}};this._xmlToObj=function(s){var h=[];var n=s.getElementsByTagName(""sidebar"");if(n!=null&&n[0]!=null){var l=n[0].getElementsByTagName(""item"");for(var o=0;o<l.length;o++){var m={};for(var g=0;g<l[o].attributes.length;g++){m[l[o].attributes[g].nodeName]=l[o].attributes[g].nodeValue}h.push(m)}}return{items:h}};dhx4._enableDataLoading(this,""_initObj"",""_xmlToObj"",""sidebar"",{struct:true});this.unload=function(){this.conf.unloading=true;if(typeof(window.addEventListener)==""function""){this.side.removeEventListener(""wheel"",this._doOnSideScroll,false)}else{this.side.detachEvent(""onmousewheel"",this._doOnSideScroll)}this.clearAll();this.s=this.t=null;if(typeof(window.addEventListener)==""function""){this.arw.removeEventListener(this.conf.touch_start,this._doOnArwClick,false);this.arw.removeEventListener(""click"",this._doOnArwClick,false)}else{this.arw.detachEvent(""onclick"",this._doOnArwClick)}this.arw.parentNode.removeChild(this.arw);this.arw=null;if(typeof(window.addEventListener)==""function""){this.side.removeEventListener(this.conf.touch_start,this._doOnSideClick,false);this.side.removeEventListener(this.conf.touch_end,this._doOnSideClick,false);this.side.removeEventListener(""click"",this._doOnSideClick,false)}else{this.side.detachEvent(""onclick"",this._doOnSideClick)}this.side.onmouseover=null;this.side.parentNode.removeChild(this.side);this.side=null;this._unloadTop();if(this.conf.single_cell==true){this.conf.cell._unload();this.conf.cell=null}window.dhx4._eventable(this,""clear"");window.dhx4._enableDataLoading(this,null,null,null,""clear"");for(var g in this){this[g]=null}e=null};if(this.conf.single_cell==true){this.conf.cell=new dhtmlXSideBarCell(""master"",this);this.cont.appendChild(this.conf.cell.cell);this._cells_native=this.cells;this.cells=function(g){this.conf.cell._idd=g;return this.conf.cell}}this.setSizes();if(c.items!=null){this._initObj(c)}else{if(c.json!=null){this.loadStruct(c.json,c.onload)}else{if(c.xml!=null){this.loadStruct(c.xml,c.onload)}}}return this}dhtmlXSideBar.prototype=new dhtmlXCellTop();dhtmlXSideBar.prototype._addItem=function(c){var g=(typeof(c.id)!=""undefined""?c.id:window.dhx4.newId());if(c.type==""separator""){var e=document.createElement(""DIV"");e.className=""dhxsidebar_sep"";this.side.firstChild.appendChild(e);this.s[g]={sep:e};e=null;return}c.icons_path=this.conf.icons_path;var e=document.createElement(""DIV"");e.className=""dhxsidebar_item"";e.innerHTML=window.dhx4.template(this.conf.tpl_str,c);e._idd=g;this.side.firstChild.appendChild(e);e.ondragstart=function(){return false};if(this.conf.single_cell==true){var a=this.conf.cell}else{var a=new dhtmlXSideBarCell(g,this);this.cont.appendChild(a.cell)}this.t[g]={item:e,cell:a,init:c,conf:{selected:false,visible:true,close:close}};if(typeof(c.bubble)!=""undefined""){this._setItemBubble(g,c.bubble)}a=e=null;if(window.dhx4.s2b(c.selected)==true){this._setItemActive(g)}else{this._adjustCell(g)}this._checkHeight()};dhtmlXSideBar.prototype.addItem=function(a){if(!(a instanceof Array)){a=[a]}for(var c=0;c<a.length;c++){this._addItem(a[c])}};dhtmlXSideBar.prototype.items=dhtmlXSideBar.prototype.cells=function(a){if(this.conf.single_cell==true){return this.conf.cell}if(this.t[a]!=null){return this.t[a].cell}return null};dhtmlXSideBar.prototype.forEachCell=dhtmlXSideBar.prototype.forEachItem=function(e){if(this.conf.single_cell==true){if(typeof(e)==""function""){e.apply(window,[this.conf.cell])}else{if(typeof(e)==""string""&&typeof(window[e])==""function""){window[e].apply(window,[this.conf.cell])}}return}for(var c in this.t){if(typeof(e)==""function""){e.apply(window,[this.t[c].cell])}else{if(typeof(e)==""string""&&typeof(window[e])==""function""){window[e].apply(window,[this.t[c].cell])}}}};dhtmlXSideBar.prototype.getAllItems=function(){var e=[];for(var c in this.t){e.push(c)}return e};dhtmlXSideBar.prototype.getNumberOfItems=function(){return this.getAllItems().length};dhtmlXSideBar.prototype.clearAll=function(){for(var c in this.t){this._removeItem(c,false,true)}for(var c in this.s){this.removeSep(c)}};dhtmlXSideBar.prototype.setSizes=function(){this._adjustCont();this._adjustSide();this._checkHeight();this._adjustCell(this.conf.selected,true);this.callEvent(""_onSetSizes"",[])};dhtmlXSideBar.prototype.setSideWidth=function(a){this.conf.width=a;this.setSizes()};dhtmlXSideBar.prototype._adjustSide=function(){if(this.conf.side_ofs==null){this.conf.side_ofs={};this.side.style.width=this.conf.width+""px"";this.side.style.height=this.cont.offsetHeight+""px"";this.conf.side_ofs.w=this.side.offsetWidth-parseInt(this.side.style.width);this.conf.side_ofs.h=this.side.offsetHeight-parseInt(this.side.style.height)}this.side.style.width=this.conf.width-this.conf.side_ofs.w+""px"";this.side.style.height=this.cont.offsetHeight-this.arw.offsetHeight-this.conf.side_ofs.h+""px"";this.arw.style.width=this.side.style.width;this._scrollSide(0)};dhtmlXSideBar.prototype._checkHeight=function(){var a=(this.arw.className.match(/dhxsidebar_arrows_hidden/)!=null);if(this.conf.side_hfix==null){this.conf.side_hfix=this.side.offsetHeight-this.side.clientHeight}if(this.side.firstChild.offsetHeight>this.cont.clientHeight-this.conf.side_hfix){if(a==true){this.arw.className=""dhxsidebar_arrows"";this._adjustSide()}}else{if(a==false){this.arw.className=""dhxsidebar_arrows dhxsidebar_arrows_hidden"";this.side.firstChild.style.top=""0px"";this._adjustSide()}}};dhtmlXSideBar.prototype.removeSep=function(c){if(this.s[c]==null){return}this.side.firstChild.removeChild(this.s[c].sep);this.s[c].sep=null;this.s[c]=null;try{delete this.s[c]}catch(a){}};dhtmlXSideBar.prototype._setItemActive=function(e,c){if(this.conf.selected==e){return}if(typeof(c)==""undefined""){c=false}if(c==true&&this.callEvent(""onBeforeSelect"",[e,this.conf.selected])!==true){return}var a=null;if(this.conf.selected!=null){a=this.conf.selected;this._setItemInactive(this.conf.selected)}if(this.t[e]!=null){this.conf.selected=e;this.t[e].selected=true;this.t[e].item.className+="" dhxsidebar_item_selected"";if(this.conf.single_cell!=true){this.t[e].cell.cell.style.visibility=""visible"";this.t[e].cell.cell.style.top=""0px"";this.t[e].cell.cell.style.zIndex=1}}else{this.conf.selected=null}this._adjustCell(e);if(c==true){this.callEvent(""onSelect"",[e,a])}};dhtmlXSideBar.prototype._setItemInactive=function(a){if(this.t[a]==null){return}this.t[a].selected=false;this.t[a].item.className=this.t[a].item.className.replace(/\s{0,}dhxsidebar_item_selected/gi,"""");if(this.conf.single_cell!=true){this.t[a].cell.cell.style.visibility=""hidden"";this.t[a].cell.cell.style.top=""-5000px"";this.t[a].cell.cell.style.zIndex=0}};dhtmlXSideBar.prototype._isItemActive=function(a){return(this.conf.selected==a)};dhtmlXSideBar.prototype._getNextVisible=function(c,a){return this._getNearVisible(c,a,""next"")};dhtmlXSideBar.prototype._getPrevVisible=function(c,a){return this._getNearVisible(c,a,""previous"")};dhtmlXSideBar.prototype._getFirstVisible=function(){return this._getNearVisible(null,false,""first"")};dhtmlXSideBar.prototype._getNearVisible=function(l,c,h){if(h==""first""){var e=this.side.firstChild.firstChild;h=""next""}else{if(l==null||this.t[l]==null){return(c?this._getFirstVisible():null)}var e=this.t[l].item[h+""Sibling""]}var g=null;while(e!=null&&g==null){var a=e._idd;if(a!=null&&g==null&&this.t[a].conf.visible){g=a}else{e=e[h+""Sibling""]}}e=null;return g};dhtmlXSideBar.prototype.goToNextItem=function(a){var c=this._getNextVisible(this.conf.selected,true);if(c!=null){this._setItemActive(c,a)}};dhtmlXSideBar.prototype.goToPrevItem=function(a){var c=this._getPrevVisible(this.conf.selected,true);if(c!=null){this._setItemActive(c,a)}};dhtmlXSideBar.prototype.getActiveItem=function(){return this.conf.selected};dhtmlXSideBar.prototype.setTemplate=function(g,c){this.conf.tpl_name=(g!=null&&this.templates[g]!=null?g:""details"");this.conf.tpl_str=this.templates[this.conf.tpl_name];if(c!=null){this.conf.icons_path=c}for(var e in this.t){this.t[e].init.icons_path=this.conf.icons_path;this.t[e].item.innerHTML=window.dhx4.template(this.conf.tpl_str,this.t[e].init)}if(this.side!=null){this.side.className=""dhxsidebar_side dhxsidebar_tpl_""+this.conf.tpl_name}if(this._scrollSide!=null){this._scrollSide(0);this._checkHeight()}};dhtmlXSideBar.prototype.templates={details:""<img class='dhxsidebar_item_icon' src='#icons_path##icon#' border='0'><div class='dhxsidebar_item_text'>#text#</div>"",tiles:""<img class='dhxsidebar_item_icon' src='#icons_path##icon#' border='0'><div class='dhxsidebar_item_text'>#text#</div>"",icons:""<img class='dhxsidebar_item_icon' src='#icons_path##icon#' border='0'>"",icons_text:""<div class='dhxsidebar_item_icon'><img class='dhxsidebar_item_icon' src='#icons_path##icon#' border='0'></div><div class='dhxsidebar_item_text'>#text#</div>"",text:""<div class='dhxsidebar_item_text'>#text#</div>""};dhtmlXSideBar.prototype.tpl_bubble=""<div class='dhxsidebar_bubble'>#value#</div>"";window.dhtmlXSideBarCell=function(g,e){dhtmlXCellObject.apply(this,[g,""_sidebar""]);this.sidebar=e;this.conf.skin=this.sidebar.conf.skin;this.conf.sidebar_funcs={show:""_showItem"",hide:""_hideItem"",isVisible:""_isItemVisible"",setActive:""_setItemActive"",isActive:""_isItemActive"",setText:""_setItemText"",getText:""_getItemText"",remove:""_removeItem"",setBubble:""_setItemBubble"",getBubble:""_getItemBubble"",clearBubble:""_clearItemBubble""};this._sidebarCall=function(a){return function(){var h=[this._idd];for(var l=0;l<arguments.length;l++){h.push(arguments[l])}return this.sidebar[a].apply(this.sidebar,h)}};for(var c in this.conf.sidebar_funcs){if(typeof(this[c])!=""function""){this[c]=this._sidebarCall(this.conf.sidebar_funcs[c])}}this.attachEvent(""_onCellUnload"",function(){this.sidebar=null;for(var h in this.conf.sidebar_funcs){this[h]=this.conf.sidebar_funcs[h]=null}this.conf.sidebar_funcs=null});this.attachEvent(""_onContentLoaded"",function(){this.sidebar.callEvent(""onContentLoaded"",arguments)});this.attachEvent(""_onBeforeContentAttach"",function(a){if(a==""tabbar""||a==""layout""||a==""acc""){this._hideBorders()}if(a==""sidebar""&&this.conf.skin!=""dhx_skyblue""){this._hideBorders()}if((this.conf.skin==""dhx_web""||this.conf.skin==""dhx_terrace"")&&(a==""menu""||a==""toolbar""||a==""ribbon"")){if(this.cell.className.match(/dhx_cell_cont_no_top/gi)==null){this.cell.className+="" dhx_cell_cont_no_top""}}})};dhtmlXSideBarCell.prototype=new dhtmlXCellObject();dhtmlXSideBar.prototype._setItemText=function(g,e){if(this.t[g]!=null){for(var c in e){this.t[g].init[c]=e[c]}this.t[g].init.icons_path=this.conf.icons_path;this.t[g].item.innerHTML=window.dhx4.template(this.conf.tpl_str,this.t[g].init);if(this.t[g].conf.bubble!=null){this.t[g].item.innerHTML+=window.dhx4.template(this.tpl_bubble,{value:this.t[g].conf.bubble})}}};dhtmlXSideBar.prototype._getItemText=function(g){var e={};if(this.t[g]!=null){for(var c in this.t[g].init){e[c]=this.t[g].init[c]}}return e};dhtmlXSideBar.prototype._removeItem=function(o,n,l){if(this.t[o]==null){return}if(l!=true&&this.t[o].conf.remove!=true){this.t[o].conf.remove=true;this._hideItem(o,n);return}if(typeof(n)==""undefined""){n=true}var g=this._getNextVisible(o);var h=this._getPrevVisible(o);if(this.t[o].conf.transEv==true){this.t[o].item.removeEventListener(this.conf.transEv,this._doOnTrEnd);this.t[o].conf.transEv=false}if(this.conf.single_cell!=true){this.t[o].cell._unload();this.t[o].cell=null}this.t[o].item.parentNode.removeChild(this.t[o].item);this.t[o].item=null;for(var c in this.t[o]){this.t[o][c]=null}this.t[o]=null;try{delete this.t[o]}catch(m){}if(this.conf.selected==o&&n!=false){this.conf.selected=null;var n=(n==true?(g||h||this._getFirstVisible()):n);if(n!=null){this._setItemActive(n)}}else{if(l!=true){this._checkHeight()}}};dhtmlXSideBar.prototype._showItem=function(c,a){if(this.t[c]==null||this.t[c].conf.visible==true||this.t[c].conf.transActv==true){return}if(this.conf.transProp!==false){this.t[c].conf.transActv=true;this.t[c].conf.transMode=""show"";this.t[c].conf.transProp=this.conf.transProp;this.t[c].conf.transActvId=(a?c:null);if(this.t[c].conf.transEv!=true){this.t[c].item.addEventListener(this.conf.transEv,this._doOnTrEnd);this.t[c].conf.transEv=true}this.t[c].conf.visible=true;this.t[c].item.style[this.conf.transProp]=this.conf.transValue;this.t[c].item.className=""dhxsidebar_item""}else{this.t[c].conf.visible=true;this.t[c].item.style.display="""";if(a==true){this._setItemActive(c)}else{this._checkHeight()}}};dhtmlXSideBar.prototype._hideItem=function(h,g){if(this.t[h]==null||this.t[h].conf.visible!=true||this.t[h].conf.transActv==true){return}var e=false;if(this.conf.selected==h){this.conf.selected=null;this.t[h].conf.active=false;this.t[h].item.className=""dhxsidebar_item"";e=true}var c=this._getPrevVisible(h);var a=this._getNextVisible(h);var g=(e&&g!==false?(g==true?null:g)||a||c:null);if(this.conf.transProp!==false){this.t[h].conf.transActv=true;this.t[h].conf.transMode=""hide"";this.t[h].conf.transProp=this.conf.transProp;this.t[h].conf.transActvId=g;this.t[h].conf.visible=false;if(this.t[h].conf.transEv!=true){this.t[h].item.addEventListener(this.conf.transEv,this._doOnTrEnd);this.t[h].conf.transEv=true}this.t[h].item.style[this.conf.transProp]=this.conf.transValue;this.t[h].item.className=""dhxsidebar_item dhxsidebar_item_hidden""}else{this.t[h].item.style.display=""none"";this.t[h].conf.visible=false;if(this.conf.single_cell!=true){this.t[h].cell.cell.style.visibility=""hidden"";this.t[h].cell.cell.style.top=""-5000px""}if(g!=null){this._setItemActive(g)}this._checkHeight();if(this.t[h].conf.remove==true){this._removeItem(h)}}};dhtmlXSideBar.prototype._isItemVisible=function(a){return(this.t[a].conf.visible==true)};dhtmlXSideBar.prototype._setItemBubble=function(c,a){if(this.t[c]==null){return}this.t[c].item.innerHTML=window.dhx4.template(this.conf.tpl_str,this.t[c].init)+window.dhx4.template(this.tpl_bubble,{value:String(a)});this.t[c].conf.bubble=a};dhtmlXSideBar.prototype._getItemBubble=function(a){if(this.t[a]==null){return null}return(typeof(this.t[a].conf.bubble)==""undefuned""?null:this.t[a].conf.bubble)};dhtmlXSideBar.prototype._clearItemBubble=function(a){if(this.t[a]==null){return}this.t[a].item.innerHTML=window.dhx4.template(this.conf.tpl_str,this.t[a].init);this.t[a].conf.bubble=null};dhtmlXCellObject.prototype.attachSidebar=function(a){this.callEvent(""_onBeforeContentAttach"",[""sidebar""]);if(a==null){a={}}var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";if(typeof(window.dhtmlXWindowsCell)!=""undefined""&&(this instanceof window.dhtmlXWindowsCell)){}else{if(this.conf.skin==""dhx_skyblue""){c._ofs={t:-1,r:-1,b:-1,l:-1}}if(this.conf.skin==""dhx_web""){if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){c._ofs={l:8}}if(typeof(window.dhtmlXLayoutCell)!=""undefined""&&(this instanceof window.dhtmlXLayoutCell)){c._ofs={t:2}}if(typeof(window.dhtmlXTabBarCell)!=""undefined""&&(this instanceof window.dhtmlXTabBarCell)){c._ofs={t:8}}if(typeof(window.dhtmlXAccordionCell)!=""undefined""&&(this instanceof window.dhtmlXAccordionCell)){c._ofs={t:2}}}if(this.conf.skin==""dhx_terrace""){if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){c._ofs={l:-1}}if(typeof(window.dhtmlXLayoutCell)!=""undefined""&&(this instanceof window.dhtmlXLayoutCell)){c._ofs={t:-1}}if(typeof(window.dhtmlXTabBarCell)!=""undefined""&&(this instanceof window.dhtmlXTabBarCell)){c._ofs={t:-1}}if(typeof(window.dhtmlXAccordionCell)!=""undefined""&&(this instanceof window.dhtmlXAccordionCell)){c._ofs={t:-1,r:-1,b:-1,l:-1}}}}this._attachObject(c);a.skin=this.conf.skin;a.parent=c;this.dataType=""sidebar"";this.dataObj=new dhtmlXSideBar(a);a.parent=c=null;a=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj};function dhtmlXCarousel(g,l,n){if(typeof(g)==""string""||(typeof(g)==""object""&&typeof(g.tagName)!=""undefined"")){g={parent:(typeof(g)==""string""?document.getElementById(g):g),effect:l,skin:n,delete_conf:true}}else{if(typeof(g)==""undefined""||g==null){g={}}}this.conf={skin:(g.skin||window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxcarousel"")||""dhx_skyblue""),css:""dhxcarousel"",items_count:0,selected:-1,item_width:Number(g.item_width)||""auto"",item_height:Number(g.item_height)||""auto"",ofs_item:Number(g.offset_item)||1,ofs_left:Number(g.offset_left)||0,ofs_top:Number(g.offset_top)||0,buttons:(typeof(g.buttons)==""undefined""?true:window.dhx4.s2b(g.buttons)),drops:false,keys:(typeof(g.keys)==""undefined""?true:window.dhx4.s2b(g.keys)),key_data:{left:37,right:39},arw:[""&#9668;"",""&#9658;""]};this.conf.autowidth=(this.conf.item_width==""auto"");this.conf.autoheight=(this.conf.item_height==""auto"");var e=window.dhx4.transDetect();this.conf.transProp=e.transProp;this.conf.transEv=e.transEv;this.conf.anim_type=(g.effect||""slide"");if(this.ef[this.conf.anim_type]==true){var h=this[""_""+this.conf.anim_type+""_init""]();if(h===false){this.conf.anim_type=""slide"";h=this[""_""+this.conf.anim_type+""_init""]()}if(typeof(h)==""object""){for(var c in h){if(typeof(this.conf[c])==""undefined""){this.conf[c]=h[c]}}}}this.conf.anim_f=this[""_""+this.conf.anim_type+""_f""]();var m=this;window.dhtmlXCellTop.apply(this,[g.parent,g.offsets]);this.area=document.createElement(""DIV"");this.area.className=""dhxcarousel_area"";this.cont.appendChild(this.area);if(typeof(window.addEventListener)==""function""){this._doOnTouchStart=function(a){if(window.dhx4.dnd._mTouch(a)==true){return}if(m.conf.animating==true){return}if(a.preventDefault){a.preventDefault()}m.area.className+="" dhxcarousel_area_dnd"";m.conf.touch_conf={t:new Date().getTime(),dx:null,dy:null};if(a.type.match(/^touch/)!=null){m.conf.touch_conf.id=a.touches[0].identifier;m.conf.touch_conf.x=a.touches[0].clientX;m.conf.touch_conf.y=a.touches[0].clientY}else{m.area.style.touchAction=m.area.style.msTouchAction=""none"";m.conf.touch_conf.x=a.clientX;m.conf.touch_conf.y=a.clientY}window.addEventListener(window.dhx4.dnd.evs.move,m._doOnTouchMove,false);window.addEventListener(window.dhx4.dnd.evs.end,m._doOnTouchEnd,false)};this._doOnTouchMove=function(a){};this._doOnTouchEnd=function(s){if(s.type.match(/^touch/)!=null){var o=0;for(var r=0;r<s.changedTouches.length;r++){if(s.changedTouches[r].identifier==m.conf.touch_conf.id){o=m.conf.touch_conf.x-s.changedTouches[r].clientX}}}else{var o=m.conf.touch_conf.x-s.clientX}window.removeEventListener(window.dhx4.dnd.evs.move,m._doOnTouchMove,false);window.removeEventListener(window.dhx4.dnd.evs.end,m._doOnTouchEnd,false);m.area.className=m.area.className.replace(/\s*dhxcarousel_area_dnd$/,"""");if(o==0||new Date().getTime()-m.conf.touch_conf.t>400){return}var a=o/Math.abs(o);m._animateStart(a)};this.area.addEventListener(window.dhx4.dnd.evs.start,this._doOnTouchStart,false)}this.cdata={};this.ind={};this.addCell=function(s,r){this.conf.items_count++;if(this.conf.selected==-1){this.conf.selected=0}this.setSizes();this._checkControls();if(typeof(r)==""undefined""||r==null){r=this.conf.items_count-1}else{if(r<0){r=0}else{if(r>this.conf.items_count-1){r=this.conf.items_count-1}}}for(var q in this.cdata){if(this.cdata[q].index>=r){this.cdata[q].index++;this.ind[this.cdata[q].index]=q;this._adjustCell(q)}}if(s==null){s=String(window.dhx4.newId())}while(this.cdata[s]!=null){s=String(window.dhx4.newId())}var o=new dhtmlXCarouselCell(s,this);if(this.area.childNodes[r]!=null){this.area.insertBefore(o.cell,this.area.childNodes[r])}else{this.area.appendChild(o.cell)}this.cdata[s]={index:r,cell:o};this.ind[r]=s;this._adjustCell(s);this._addBar();this._setBarIndex(this.conf.selected);o=null;this[this.conf.anim_f.cell_added](s);return s};this._removeCell=function(u){var r=this.cdata[u].index;this.cdata[u].cell._unload();this.cdata[u].index=this.cdata[u].cell=null;this.cdata[u]=null;delete this.cdata[u];delete this.ind[r];this.conf.items_count--;if(this.conf.unloading==true){return}this.ind={};var o=0;for(var q in this.cdata){if(this.cdata[q].index>r){this.cdata[q].index--}this.ind[this.cdata[q].index]=q}var s=false;if(this.conf.selected>r){this.conf.selected--}else{if(this.conf.selected==r){this.conf.selected=Math.min(this.conf.selected,this.conf.items_count-1);s=true}else{}}this._removeBar(false);this._setBarIndex(this.conf.selected);if(s==true){if(this.conf.selected>=0){this[this.conf.anim_f.update_selected](this.ind[this.conf.selected])}}this.setSizes();this._checkControls()};this.setSizes=function(){this._adjustCont();var u={};this.area.style.height=this.cont.offsetHeight-this.controls.offsetHeight+""px"";this.conf.width=(this.conf.autowidth?this.cont.offsetWidth-this.conf.ofs_left*2:this.conf.item_width);this.conf.height=(this.conf.autoheight?this.area.offsetHeight-this.conf.ofs_top*2:this.conf.item_height);this.conf.top=Math.max(0,(this.conf.autoheight?this.conf.ofs_top:Math.floor((this.area.offsetHeight-this.conf.height)/2)));this.area.style.width=this[this.conf.anim_f.detect_aw]()*(this.conf.width+this.conf.ofs_item)+this.conf.ofs_item+""px"";this.area.style.left=Math.round(this.cont.offsetWidth/2-this.conf.width/2-this.conf.ofs_item)+""px"";for(var q in this.cdata){var r={};for(var o in this.cdata[q].cell.conf.size){r[o]=this.cdata[q].cell.conf.size[o]}if(this.conf.autowidth==true){r.w=this.conf.width;r.x=this[this.conf.anim_f.detect_x](q)}if(this.conf.autoheight==true){r.h=this.conf.height}u[q]=r}this.area.style.left=Math.round(this.cont.offsetWidth/2-this.conf.width/2-this.conf.ofs_item)-(this.conf.width+this.conf.ofs_item)*this.conf.selected+""px"";this._adjustControls();if(this.conf.autoheight!=true){this.conf.top=Math.max(0,Math.floor(this.area.offsetHeight-this.conf.height)/2);for(var q in u){u[q].y=this.conf.top}}for(var q in u){this.cdata[q].cell._setSize(u[q].x,u[q].y,u[q].w,u[q].h)}this.callEvent(""_onSetSizes"",[])};this._adjustCell=function(a){this.cdata[a].cell._setSize(this[this.conf.anim_f.detect_x](a),this.conf.top,this.conf.width,this.conf.height)};this._animateStart=function(o,a){if((this.conf.selected<=0&&o<0)||(this.conf.selected>=this.conf.items_count-1&&o>0)){return}if(this.conf.animating==true){return}this.conf.animating=true;this[this.conf.anim_f.prepare](o,a)};this._animateTransEnd=function(a){m[m.conf.anim_f.end](a||event,this)};this._animateEnd=function(a){this.conf.selected=this.conf.selected+a;this._checkControls();this._setBarIndex(this.conf.selected);this.callEvent(""onSelect"",[this.ind[this.conf.selected]]);this.conf.animating=false};this._initControls();this.setCellSize=function(a,o){this.conf.item_width=(a==null?""auto"":a);this.conf.item_height=(o==null?""auto"":o);this.setSizes()};this.setOffset=function(q,o,a){if(q!=null){this.conf.ofs_left=q}if(o!=null){this.conf.ofs_top=o}if(a!=null){this.conf.ofs_item=a}this.setSizes()};this.enableHotKeys=function(a){this.conf.keys=window.dhx4.s2b(a)};this.goFirst=function(){if(this.conf.selected==0){return}this._animateStart(-this.conf.selected)};this.goLast=function(){if(this.conf.selected==this.conf.items_count-1){return}this._animateStart(this.conf.items_count-1-this.conf.selected)};this.goNext=function(){this._animateStart(1)};this.goPrev=function(){this._animateStart(-1)};this.getActiveIndex=function(){return this.conf.selected};this.getActiveId=function(){return this.ind[this.conf.selected]};this.getActiveCell=function(){var a=this.getActiveId();if(a!=null){return this.cdata[a].cell}return null};this.unload=function(){this.conf.unloading=true;if(typeof(window.addEventListener)==""function""){window.removeEventListener(""keydown"",this._doOnWinKeyDown,false);this.area.removeEventListener(window.dhx4.dnd.evs.start,this._doOnTouchStart,false)}else{document.body.detachEvent(""onkeydown"",this._doOnWinKeyDown)}for(var o in this.cdata){this._removeCell(o)}this.cdata[o]=null;this.area.parentNode.removeChild(this.area);this.area=null;this._unloadControls();this._unloadTop();window.dhx4._eventable(this,""clear"");for(var o in this){this[o]=null}m=null};window.dhx4._eventable(this);this._callMainEvent=function(o,a){this.callEvent(o,a)};this.conf.ev_coverclick=this.attachEvent(""_cellCoverClick"",function(a){var o=a-this.conf.selected;if(Math.abs(o)==1){this._animateStart(o)}});this._doOnWinKeyDown=function(q){q=q||event;if(m.conf.keys==true){if(q.ctrlKey==true&&q.shiftKey!=true&&q.altKey!=true){var o=q.keyCode;var a=m.conf.key_data;if(o==a.left||o==a.right){if(q.preventDefault){q.preventDefault()}else{q.returnValue=false}m._animateStart(o==a.left?-1:1)}}}};if(typeof(window.addEventListener)==""function""){window.addEventListener(""keydown"",this._doOnWinKeyDown,false)}else{document.body.attachEvent(""onkeydown"",this._doOnWinKeyDown)}if(g.delete_conf==true){for(var c in g){g[c]=null}g=null}return this}dhtmlXCarousel.prototype=new dhtmlXCellTop();dhtmlXCarousel.prototype.ef={};dhtmlXCarousel.prototype.cells=function(a){return this.cdata[a].cell};dhtmlXCarousel.prototype.forEachCell=function(e){for(var c in this.cdata){if(typeof(e)==""function""){e.apply(window,[this.cdata[c].cell])}else{if(typeof(e)==""string""&&typeof(window[e])==""function""){window[e].apply(window,[this.cdata[c].cell])}}}};dhtmlXCarousel.prototype._initControls=function(){var a=this;this.controls=document.createElement(""DIV"");this.controls.className=""dhx_carousel_controls"";this.controls.innerHTML=""<div class='dhx_carousel_bars'></div><div class='dhx_carousel_btn dhx_carousel_btn_prev'>""+this.conf.arw[0]+""</div><div class='dhx_carousel_btn dhx_carousel_btn_next'>""+this.conf.arw[1]+""</div>"";this.cont.appendChild(this.controls);this._doOnControlClick=function(l){if(a.conf.clear_click==true){a.conf.clear_click=false;return}l=l||event;if(window.dhx4.dnd.evs.start!=null&&l.type!=""click""&&a.conf.clear_click!=true){if(window.dhx4.dnd._mTouch(l)==true){return}a.conf.clear_click=true}var c=l.target||l.srcElement;var h=null;if(c.className!=null){if(c.className.match(/btn_prev/)!=null){h=-1}else{if(c.className.match(/btn_next/)!=null){h=1}else{if(c.className.match(/dhx_carousel_onebar/)!=null&&c.className.match(/dhx_carousel_baractv/)==null){for(var g=0;g<c.parentNode.childNodes.length;g++){if(c.parentNode.childNodes[g]==c){h=g-a.conf.selected}}}}}}if(h!=null){a._animateStart(h)}c=null};if(typeof(window.addEventListener)==""function""){this.controls.addEventListener(""click"",this._doOnControlClick,false);if(window.dhx4.dnd.evs.start!=null){this.controls.addEventListener(window.dhx4.dnd.evs.start,this._doOnControlClick,false)}}else{this.controls.attachEvent(""onclick"",this._doOnControlClick);if(window.dhx4.isIE6||window.dhx4.isIE7||window.dhx4.isIE8){this.controls.onselectstart=function(c){c=c||event;if(c.preventDefault){c.preventDefault()}c.returnValue=false;return false}}}this.showControls=function(){this.controls.style.display="""";this.setSizes()};this.hideControls=function(){this.controls.style.display=""none"";this.setSizes()};this._checkControls=function(){this.controls.childNodes[1].className=""dhx_carousel_btn dhx_carousel_btn_prev""+(this.conf.selected<=0?""_dis"":"""");this.controls.childNodes[2].className=""dhx_carousel_btn dhx_carousel_btn_next""+(this.conf.selected>=this.conf.items_count-1||this.conf.items_count==0?""_dis"":"""")};this._adjustControls=function(){this.controls.firstChild.style.left=Math.round(this.cont.offsetWidth/2-this.controls.firstChild.offsetWidth/2)+""px""};this._addBar=function(){var c=document.createElement(""DIV"");c.className=""dhx_carousel_onebar"";c.innerHTML=""<div class='dhx_carousel_barcore'>&nbsp;</div>"";this.controls.firstChild.appendChild(c);c=null;this._adjustControls()};this._removeBar=function(e){var c=this.controls.firstChild.lastChild;if(c!=null){c.parentNode.removeChild(c);c=null;if(e!==false){this._adjustControls()}}};this._setBarIndex=function(c){for(var e=0;e<this.controls.firstChild.childNodes.length;e++){this.controls.firstChild.childNodes[e].className=""dhx_carousel_onebar""+(e==c?"" dhx_carousel_baractv"":"""")}};this._unloadControls=function(){if(typeof(window.addEventListener)==""function""){this.controls.removeEventListener(""click"",this._doOnControlClick,false);if(window.dhx4.dnd.evs.start!=null){this.controls.removeEventListener(window.dhx4.dnd.evs.start,this._doOnControlClick,false)}}else{this.controls.detachEvent(""onclick"",this._doOnControlClick);if(window.dhx4.isIE6||window.dhx4.isIE7||window.dhx4.isIE8){this.controls.onselectstart=null}}while(this.controls.firstChild.childNodes.length>0){this._removeBar(false)}this.cont.removeChild(this.controls);this.controls=null;a=null};if(this.conf.buttons!=true){this.hideControls()}this._checkControls()};window.dhtmlXCarouselCell=function(e,c){dhtmlXCellObject.apply(this,[e,""_carousel""]);var a=this;this.carousel=c;this.conf.skin=this.carousel.conf.skin;this.attachEvent(""_onCellUnload"",function(){this.carousel=null;a=null});this.attachEvent(""_onContentLoaded"",function(){this.carousel._callMainEvent(""onContentLoaded"",[this._idd])});this._showCover=function(){if(this.conf.cover==true){return}this._showCellCover();var g=this.cell.childNodes[this.conf.idx.cover];g.onclick=function(){a.carousel._callMainEvent(""_cellCoverClick"",[a._idd])};g=null};this._hideCover=function(){if(this.conf.cover!=true){return}this.cell.childNodes[this.conf.idx.cover].onclick=null;this._hideCellCover()};return this};dhtmlXCarouselCell.prototype=new dhtmlXCellObject();dhtmlXCarouselCell.prototype.getId=function(){return this._idd};dhtmlXCarouselCell.prototype.getIndex=function(){return this.carousel.cdata[this._idd].index};dhtmlXCarouselCell.prototype.setActive=function(){var a=this.getIndex()-this.carousel.conf.selected;if(a!=0){this.carousel._animateStart(a)}};dhtmlXCarouselCell.prototype.remove=function(){this.carousel._removeCell(this._idd)};dhtmlXCellObject.prototype.attachCarousel=function(a){this.callEvent(""_onBeforeContentAttach"",[""carousel""]);var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";this._attachObject(c);if(typeof(window.dhtmlXSideBarCell)!=""undefined""&&(this instanceof window.dhtmlXSideBarCell)){if(this.conf.skin==""dhx_terrace""){c._ofs={t:-1,r:-1,b:-1,l:-1}}}if(typeof(a)==""undefined""||a==null){a={}}if(typeof(a.skin)==""undefined""){a.skin=this.conf.skin}a.parent=c;this.dataType=""carousel"";this.dataObj=new dhtmlXCarousel(a);a.parent=null;c=a=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj};dhtmlXCarousel.prototype.ef.slide=true;dhtmlXCarousel.prototype.ef.slide_conf={anim_step:25,anim_timeout:10,anim_slide:""left 0.3s""};dhtmlXCarousel.prototype.ef.slide_f={prepare:""_slide_prepare"",start:""_slide_start"",end:""_slide_end"",update_selected:""_slide_update_selected"",detect_x:""_slide_detect_x"",detect_aw:""_slide_detect_area_width"",cell_added:""_slide_cell_added""};dhtmlXCarousel.prototype._slide_init=function(){return this.ef.slide_conf};dhtmlXCarousel.prototype._slide_f=function(){return this.ef.slide_f};dhtmlXCarousel.prototype._slide_prepare=function(c,a){var g=this.conf.anim_step;var h=this.conf.width+this.conf.ofs_item;if(a==false){g=h+1}this.area._init=parseInt(this.area.style.left);var e=this.ind[this.conf.selected+c];this._slide_update_selected(e);if(this.conf.transProp!==false&&a!=false){if(this.conf.transEvInit!=true){this.area.addEventListener(this.conf.transEv,this._animateTransEnd,false);this.conf.transEvInit=true}this.conf.current_dir=c;this.area.style[this.conf.transProp]=this.conf.anim_slide;this.area.style.left=this.area._init+h*(-c)+""px""}else{this._slide_start(g,0,h,c)}};dhtmlXCarousel.prototype._slide_start=function(h,a,l,c){var g=false;a+=h;if(a>=l){a=l;g=true}this.area.style.left=this.area._init+a*(-c)+""px"";if(g!=true){var e=this;window.setTimeout(function(){e._slide_start(h,a,l,c);e=null},this.conf.anim_timeout)}else{this.cdata[this.ind[this.conf.selected]].cell._showCover();this._animateEnd(c)}};dhtmlXCarousel.prototype._slide_end=function(c,a){if(c.type==this.conf.transEv&&a==this.area){this.area.style[this.conf.transProp]="""";if(this.conf.transEvInit==true){this.area.removeEventListener(this.conf.transEv,this._animateTransEnd,false);this.conf.transEvInit=false}this.cdata[this.ind[this.conf.selected]].cell._showCover();this._animateEnd(this.conf.current_dir)}};dhtmlXCarousel.prototype._slide_update_selected=function(a){this.cdata[a].cell._hideCover()};dhtmlXCarousel.prototype._slide_detect_x=function(e){var c=this.cdata[e].index;var a=c*(this.conf.width+this.conf.ofs_item)+this.conf.ofs_item;return a};dhtmlXCarousel.prototype._slide_cell_added=function(a){if(this.conf.selected!=this.cdata[a].index){this.cdata[a].cell._showCover()}if(this.cdata[a].index<=this.conf.selected&&this.conf.items_count>1){this._animateStart(1,false)}};dhtmlXCarousel.prototype._slide_detect_area_width=function(){return this.conf.items_count};dhtmlXCarousel.prototype.ef.flip=true;dhtmlXCarousel.prototype.ef.flip_conf={anim_flip:""transform 0.3s ease-out"",anim_flip_ang:-87,anim_flip_trstyle:""transform""};dhtmlXCarousel.prototype.ef.flip_f={prepare:""_flip_prepare"",start:""_flip_start"",end:""_flip_end"",update_selected:""_flip_update_selected"",detect_x:""_flip_detect_x"",detect_aw:""_flip_detect_area_width"",cell_added:""_flip_cell_added""};dhtmlXCarousel.prototype._flip_init=function(){var a=(this.conf.transProp==false?false:this.ef.flip_conf);if(a!==false&&window.dhx4.isKHTML==true&&a.anim_flip.match(""webkit"")==null){a.anim_flip=a.anim_flip.replace(/transform/,""-webkit-transform"");a.anim_flip_trstyle=""webkitTransform""}return a};dhtmlXCarousel.prototype._flip_f=function(){return this.ef.flip_f};dhtmlXCarousel.prototype._flip_prepare=function(a){this.conf.flip_data={fromIndex:this.conf.selected,toIndex:this.conf.selected+a,mode:0,dir:a};this._flip_start()};dhtmlXCarousel.prototype._flip_start=function(){var a=this.cdata[this.ind[this.conf.flip_data.mode==0?this.conf.flip_data.fromIndex:this.conf.flip_data.toIndex]].cell;if(this.area.className.match(/dhxcarousel_area_flip/)==null){this.area.className+="" dhxcarousel_area_flip""}if(a.conf.tr_ev!=true){a.cell.addEventListener(this.conf.transEv,this._animateTransEnd,false);a.conf.tr_ev=true}if(this.conf.flip_data.mode==0){a.cell.style[this.conf.anim_flip_trstyle]=""rotateY(""+String(this.conf.flip_data.dir>0?this.conf.anim_flip_ang:-this.conf.anim_flip_ang)+""deg)""}else{a.cell.style.visibility=""visible"";a.cell.style[this.conf.anim_flip_trstyle]=""rotateY(0deg)""}a.cell.style[this.conf.transProp]=this.conf.anim_flip;a=null};dhtmlXCarousel.prototype._flip_end=function(n,m){if(n.type==this.conf.transEv){var a=this.cdata[this.ind[this.conf.flip_data.mode==0?this.conf.flip_data.fromIndex:this.conf.flip_data.toIndex]].cell;if(m==a.cell){a.cell.removeEventListener(this.conf.transEv,this._animateTransEnd,false);a.conf.tr_ev=false;if(this.conf.flip_data.mode==0){a.cell.style[this.conf.transProp]="""";a.cell.style.visibility=""hidden"";this.conf.flip_data.mode=1;this._flip_start()}else{var g=this.conf.flip_data.dir;var h=Math.min(this.conf.flip_data.fromIndex,this.conf.flip_data.toIndex)+1;var c=Math.max(this.conf.flip_data.fromIndex,this.conf.flip_data.toIndex)-1;for(var l=h;l<=c;l++){this.cdata[this.ind[l]].cell.cell.style[this.conf.anim_flip_trstyle]=""rotateY(""+String(this.conf.anim_flip_ang*g/Math.abs(g))+""deg)""}if(this.area.className.match(/dhxcarousel_area_flip/)!=null){this.area.className=String(this.area.className).replace(/\s{0,}dhxcarousel_area_flip/gi,"""")}this.conf.flip_data=null;a.cell.style[this.conf.transProp]="""";this._animateEnd(g)}}a=null}};dhtmlXCarousel.prototype._flip_update_selected=function(a){};dhtmlXCarousel.prototype._flip_detect_x=function(e){var c=0;var a=c*(this.conf.width+this.conf.ofs_item)+this.conf.ofs_item;return a};dhtmlXCarousel.prototype._flip_cell_added=function(a){if(this.conf.selected!=this.cdata[a].index){this.cdata[a].cell.cell.style[this.conf.anim_flip_trstyle]=""rotateY(""+String(this.cdata[a].index<this.conf.selected?this.conf.anim_flip_ang:-this.conf.anim_flip_ang)+""deg)"";this.cdata[a].cell.cell.style.visibility=""hidden""}else{this.cdata[a].cell.cell.style[this.conf.anim_flip_trstyle]=""rotateY(0deg)""}};dhtmlXCarousel.prototype._flip_detect_area_width=function(){return 1};dhtmlXCarousel.prototype.ef.cards=true;dhtmlXCarousel.prototype.ef.cards_conf={anim_cards:""left 0.3s""};dhtmlXCarousel.prototype.ef.cards_f={prepare:""_cards_prepare"",start:""_cards_start"",end:""_cards_end"",update_selected:""_cards_update_selected"",detect_x:""_cards_detect_x"",detect_aw:""_cards_detect_area_width"",cell_added:""_cards_cell_added""};dhtmlXCarousel.prototype._cards_init=function(){return(this.conf.transProp==false?false:this.ef.cards_conf)};dhtmlXCarousel.prototype._cards_f=function(){return this.ef.cards_f};dhtmlXCarousel.prototype._cards_prepare=function(e,c){if(e>0){var g=this.ind[this.conf.selected+e];var a=this.cdata[g].cell;this._cards_update_selected(g);if(a.conf.transEvInit!=true){a.cell.addEventListener(this.conf.transEv,this._animateTransEnd,false);a.conf.transEvInit=true}this.conf.current_id=g;this.conf.current_dir=e;a.cell.style[this.conf.transProp]=this.conf.anim_cards;a.cell.style.left=this._cards_detect_x(g,0)+""px"";a=null}else{this._cards_adjust_middle(this.conf.selected+e+1,this.conf.selected-1,1);var g=this.ind[this.conf.selected];var a=this.cdata[g].cell;a._hideCover();if(a.conf.transEvInit!=true){a.cell.addEventListener(this.conf.transEv,this._animateTransEnd,false);a.conf.transEvInit=true}this.conf.current_id=g;this.conf.current_dir=e;this.cdata[this.ind[this.conf.selected+e]].cell._hideCover();a.cell.style[this.conf.transProp]=this.conf.anim_cards;a.cell.style.left=this._cards_detect_x(g,1)+""px"";a=null}};dhtmlXCarousel.prototype._cards_start=function(e,a,g,c){};dhtmlXCarousel.prototype._cards_end=function(g,c){if(g.type==this.conf.transEv&&this.conf.current_id!=null&&c==this.cdata[this.conf.current_id].cell.cell){var a=this.cdata[this.conf.current_id].cell;a.cell.style[this.conf.transProp]="""";if(a.conf.transEvInit!=true){a.cell.removeEventListener(this.conf.transEv,this._animateTransEnd,false);a.conf.transEvInit=false}this.conf.current_id=null;if(this.conf.current_dir>0){this._cards_adjust_middle(this.conf.selected+1,this.conf.selected+this.conf.current_dir-1,0)}this.cdata[this.ind[this.conf.selected]].cell._showCover();this._animateEnd(this.conf.current_dir)}};dhtmlXCarousel.prototype._cards_update_selected=function(a){this.cdata[a].cell._hideCover()};dhtmlXCarousel.prototype._cards_adjust_middle=function(e,h,c){for(var g=e;g<=h;g++){var l=this.ind[g];var a=this.cdata[l].cell;a.conf.size.x=this._cards_detect_x(l,c);a.cell.style.left=a.conf.size.x+""px"";a=null}};dhtmlXCarousel.prototype._cards_detect_x=function(e,c){if(typeof(c)==""undefined""||c==null){c=(this.cdata[e].index<=this.conf.selected?0:1)}var a=c*(this.conf.width+this.conf.ofs_left+this.conf.ofs_item)+this.conf.ofs_item;return a};dhtmlXCarousel.prototype._cards_cell_added=function(a){this.cdata[a].cell.conf.size.x=this._cards_detect_x(a);this.cdata[a].cell.cell.style.left=this.cdata[a].cell.conf.size.x+""px"";if(this.conf.selected!=this.cdata[a].index){this.cdata[a].cell._showCover()}};dhtmlXCarousel.prototype._cards_detect_area_width=function(){return 2};function dhtmlXWindows(n){var l=this;var g={};if(typeof(n)!=""undefined""){for(var e in n){g[e]=n[e]}}n=null;this.conf={skin:window.dhx4.skin||(typeof(dhtmlx)!=""undefined""?dhtmlx.skin:null)||window.dhx4.skinDetect(""dhxwins"")||""dhx_skyblue"",vp_pos_ofs:20,vp_custom:false,vp_of_auto:(g.vp_overflow==""auto""),vp_of_id:window.dhx4.newId(),ofs_w:null,ofs_h:null,button_last:null,dblclick_tm:300,dblclick_last:null,dblclick_id:null,dblclick_mode:""minmax"",dblclick_active:false,dblclick_ev:(navigator.userAgent.indexOf(""MSIE 6.0"")>=0||navigator.userAgent.indexOf(""MSIE 7.0"")>=0||navigator.userAgent.indexOf(""MSIE 8.0"")>=0),fr_cover:(navigator.userAgent.indexOf(""MSIE 6.0"")>=0)};var c=window.dhx4.transDetect();this.conf.tr={prop:c.transProp,ev:c.transEv,height_open:""height 0.2s cubic-bezier(0.25,0.1,0.25,1)"",height_close:""height 0.18s cubic-bezier(0.25,0.1,0.25,1)"",op_open:""opacity 0.16s ease-in"",op_close:""opacity 0.2s ease-out"",op_v_open:""1"",op_v_close:""0.4""};if(!g.viewport){this.attachViewportTo(document.body)}else{if(g.viewport.object!=null){this.attachViewportTo(g.viewport.object)}else{if(g.viewport.left!=null&&g.viewport.top!=null&&g.viewport.width!=null&&g.viewport.height!=null){this.setViewport(g.viewport.left,g.viewport.top,g.viewport.width,g.viewport.height,g.viewport.parent)}else{this.attachViewportTo(document.body)}}}this.w={};this.createWindow=function(q,F,D,s,I){var o={};if(arguments.length==1&&typeof(q)==""object""){o=q}else{o.id=q;o.left=F;o.top=D;o.width=s;o.height=I;if(typeof(o.id)==""undefined""||o.id==null){o.id=window.dhx4.newId()}while(this.w[o.id]!=null){o.id=window.dhx4.newId()}}if(o.left==null){o.left=0}if(o.top==null){o.top=0}o.move=(o.move!=null&&window.dhx4.s2b(o.move)==false?false:(o.deny_move!=null&&window.dhx4.s2b(o.deny_move)==true?false:true));o.park=(o.park!=null&&window.dhx4.s2b(o.park)==false?false:(o.deny_park!=null&&window.dhx4.s2b(o.deny_park)==true?false:true));o.resize=(o.resize!=null&&window.dhx4.s2b(o.resize)==false?false:(o.deny_resize!=null&&window.dhx4.s2b(o.deny_resize)==true?false:true));o.keep_in_viewport=(o.keep_in_viewport!=null&&window.dhx4.s2b(o.keep_in_viewport));o.modal=(o.modal!=null&&window.dhx4.s2b(o.modal));o.center=(o.center!=null&&window.dhx4.s2b(o.center));o.text=(o.text!=null?o.text:(o.caption!=null?o.caption:""dhtmlxWindow""));o.header=(!(o.header!=null&&window.dhx4.s2b(o.header)==false));var J=document.createElement(""DIV"");J.className=""dhxwin_active"";this.vp.appendChild(J);J._isWindow=true;J._idd=o.id;var w=document.createElement(""DIV"");w.className=""dhxwin_hdr"";w.style.zIndex=0;w.innerHTML=""<div class='dhxwin_icon'></div><div class='dhxwin_text'><div class='dhxwin_text_inside'>""+o.text+""</div></div><div class='dhxwin_btns'></div>"";J.appendChild(w);w.onselectstart=function(a){a=a||event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false};w.oncontextmenu=function(a){a=a||event;a.cancelBubble=true;return false};w._isWinHdr=true;w.firstChild._isWinIcon=true;var u=document.createElement(""DIV"");u.className=""dhxwin_brd"";J.appendChild(u);var C=document.createElement(""DIV"");C.className=""dhxwin_fr_cover"";C.innerHTML=""<iframe class='dhxwin_fr_cover_inner' frameborder='0' border='0'></iframe><div class='dhxwin_fr_cover_inner'></div>"";J.appendChild(C);this.w[o.id]={win:J,hdr:w,brd:u,fr_cover:C,b:{},conf:{z_id:window.dhx4.newId(),actv:false,modal:false,maxed:false,parked:false,sticked:false,visible:true,header:true,text:o.text,keep_in_vp:o.keep_in_viewport,allow_move:o.move,allow_park:o.park,allow_resize:o.resize,max_w:null,max_h:null,min_w:80,min_h:80}};var v={help:{title:""Help"",visible:false},stick:{title:""Stick"",visible:false},park:{title:""Park"",visible:true},minmax:{title:""Min/Max"",visible:true},close:{title:""Close"",visible:true}};for(var E in v){var A=new dhtmlXWindowsButton(this,o.id,E,v[E].title,false);if(v[E].visible==false){A.hide()}w.lastChild.appendChild(A.button);this.w[o.id].b[E]=A;A=null}this._winAdjustTitle(o.id);this.w[o.id].win.style.zIndex=window.dhx4.zim.reserve(this.w[o.id].conf.z_id);var H=new dhtmlXWindowsCell(o.id,this);this.w[o.id].win.insertBefore(H.cell,C);this.w[o.id].cell=H;if(typeof(window.addEventListener)==""function""){this.w[o.id].win.addEventListener(""mousedown"",this._winOnMouseDown,false);this.w[o.id].win.addEventListener(""mouseup"",this._winOnMouseDown,false);if(this.conf.dblclick_ev){this.w[o.id].win.addEventListener(""dblclick"",this._winOnMouseDown,false)}if(this.conf.dnd_enabled==true&&window.dhx4.dnd.evs.start!=null){this.w[o.id].win.addEventListener(window.dhx4.dnd.evs.start,this._winOnMouseDown,false);if(window.dhx4.dnd.p_en!=true){this.w[o.id].win.addEventListener(window.dhx4.dnd.evs.start,this._winOnMouseDown,false);this.w[o.id].win.addEventListener(window.dhx4.dnd.evs.end,this._winOnMouseDown,false)}}}else{this.w[o.id].win.attachEvent(""onmousedown"",this._winOnMouseDown);this.w[o.id].win.attachEvent(""onmouseup"",this._winOnMouseDown);if(this.conf.dblclick_ev){this.w[o.id].win.attachEvent(""ondblclick"",this._winOnMouseDown)}}this._winInitFRM(o.id);this._winSetPosition(o.id,o.left,o.top);this._winSetSize(o.id,o.width,o.height);this._winMakeActive(o.id);if(o.center==true){this.w[o.id].cell.center()}if(o.modal==true){this.w[o.id].cell.setModal(true)}if(o.header==false){this.w[o.id].cell.hideHeader()}f=J=w=u=C=H=null;return this.w[o.id].cell};this._winOnMouseDown=function(q){q=q||event;var a=q.target||q.srcElement;var o={press_type:q.type};if(q.type==""MSPointerDown""||q.type==""pointerdown""){l.conf.ev_skip=true}else{if(l.conf.ev_skip==true){l.conf.ev_skip=false;a=null;return}}while(a!=null&&a._isWindow!=true){if(typeof(a.className)!=""undefined""&&o.mode==null){if(typeof(a._buttonName)!=""undefined""){o.mode=""button"";o.button_name=a._buttonName}else{if(a._isWinHdr==true){o.mode=""hdr""}else{if(a._isWinIcon==true){o.mode=""icon""}}}}a=a.parentNode}if(o.mode==null){o.mode=""win""}o.id=(a!=null&&a._isWindow==true?a._idd:null);a=null;if(o.id!=null&&l.w[o.id]!=null){l.callEvent(""_winMouseDown"",[q,o])}};this._winOnParkTrans=function(o){if(o.stopPropagation){o.stopPropagation()}var a=l.w[this._idd];if(o.propertyName==""opacity""){l._winCellClearOpacity(this._idd)}if(o.propertyName==""height""&&a.conf.tr_mode==""park""){if(a.conf.tr_mode==""park""){a.win.style[l.conf.tr.prop]="""";if(!a.conf.parked){l._winAdjustCell(this._idd);l._callMainEvent(""onParkDown"",this._idd);if(a.conf.keep_in_vp){l._winAdjustPosition(this._idd,a.conf.x,a.conf.y)}}else{a.hdr.style.zIndex=3;l._callMainEvent(""onParkUp"",this._idd)}}}a=null};this.unload=function(){this.conf.unloading=true;if(this._dndInitModule){this._dndUnloadModule()}for(var o in this.w){this._winClose(o)}this.w=null;if(this.cm!=null&&typeof(this._unloadContextMenu)==""function""){this._unloadContextMenu()}window.dhx4._eventable(this,""clear"");this.attachViewportTo(null);for(var o in this.conf){this.conf[o]=null;delete this.conf[o]}for(var o in this){this[o]=null}l=o=null};window.dhx4._eventable(this);this.attachEvent(""_winMouseDown"",this._winMouseDownHandler);if(this._dndInitModule){this._dndInitModule()}if(g.wins!=null){for(var m=0;m<g.wins.length;m++){var h=g.wins[m];this.createWindow(h)}}g=null;return this}dhtmlXWindows.prototype.forEachWindow=function(e){for(var c in this.w){e.apply(window,[this.w[c].cell])}};dhtmlXWindows.prototype.window=function(a){if(this.w[a]!=null){return this.w[a].cell}return null};dhtmlXWindows.prototype.isWindow=function(a){return(this.w[a]!=null)};dhtmlXWindows.prototype.findByText=function(g){var e=[];for(var c in this.w){if((this.w[c].cell.getText()).indexOf(String(g))>=0){e.push(this.w[c])}}return e};dhtmlXWindows.prototype.setSkin=function(e){if(e==this.conf.skin){return}if(this.vp!=null){this.vp.className=String(this.vp.className).replace(""dhxwins_vp_""+this.conf.skin,"" dhxwins_vp_""+e)}for(var c in this.w){this.w[c].cell._resetSizeState();this._winAdjustCell(c);this._winAdjustTitle(c)}this.conf.skin=e};dhtmlXWindows.prototype.getBottommostWindow=function(){return this._getTopBottomWin(false)};dhtmlXWindows.prototype.getTopmostWindow=function(){return this._getTopBottomWin(true)};dhtmlXWindows.prototype._getTopBottomWin=function(h){var g=null;for(var c in this.w){if(this.w[c].conf.visible){var e=false;if(g!=null){e=g.z>this.w[c].win.style.zIndex;if(h){e=!e}}if(g==null||e){g={win:this.w[c].cell,z:this.w[c].win.style.zIndex}}}}return(g?g.win:null)};dhtmlXWindows.prototype._winMakeActive=function(e,h){if(e!=null&&h!==true&&this.w[e].conf.actv==true){return}var u=[];var n={};for(var c=0;c<this._zOrder.length;c++){var m=this._zOrder[c].name;var g=this._zOrder[c].value;var v=[];for(var r in this.w){var s=this.w[r];if(n[r]==null&&s.conf[m]===g&&s.conf.visible==true){if(e!=r){window.dhx4.zim.clear(s.conf.z_id);v.push([r,Number(s.win.style.zIndex)]);n[r]=true}}s=null}v.sort(function(w,q){return(w[1]<q[1]?1:-1)});if(e!=null&&this.w[e].conf[m]===g&&n[e]==null){window.dhx4.zim.clear(this.w[e].conf.z_id);var l=[[e,Number(this.w[e].win.style.zIndex)]];v=l.concat(v);n[e]=true}u=u.concat(v)}for(var c=u.length-1;c>=0;c--){var r=u[c][0];var s=this.w[r];s.win.style.zIndex=window.dhx4.zim.reserve(s.conf.z_id);if(s.conf.modal&&this.mcover!=null){for(var o in this.mcover){this.mcover[o].style.zIndex=s.win.style.zIndex}}this._winAdjustFRMZIndex(r);if(e==null&&c==0){e=r}s.conf.actv=(e==r);s.win.className=(s.conf.actv?""dhxwin_active"":""dhxwin_inactive"");s=null}if(e!=null&&this.conf.last_active!=e){this._callMainEvent(""onFocus"",e)}this.conf.last_active=e};dhtmlXWindows.prototype._zOrder=[{name:""modal"",value:true},{name:""sticked"",value:true},{name:""sticked"",value:false}];dhtmlXWindows.prototype._vpPull={};dhtmlXWindows.prototype._vpOf={};dhtmlXWindows.prototype._vpPullAdd=function(){if(this.vp==null){return}var e=null;for(var c in this._vpPull){if(this._vpPull[c].vp==this.vp){this._vpPull[c].count++;e=c}}if(e==null){this._vpPull[window.dhx4.newId()]={vp:this.vp,count:1}}if(this.vp==document.body&&this.conf.vp_of_auto==true){this._vpOfInit()}this._vpOfUpd()};dhtmlXWindows.prototype._vpPullRemove=function(){if(this.vp==null){return 0}var e=0;for(var c in this._vpPull){if(this._vpPull[c].vp==this.vp){e=--this._vpPull[c].count;if(e==0){this._vpPull[c].vp=null;this._vpPull[c].count=null;delete this._vpPull[c]}}}this._vpOfClear();return e};dhtmlXWindows.prototype._vpOfInit=function(){this._vpOf[this.conf.vp_of_id]=true};dhtmlXWindows.prototype._vpOfClear=function(){this._vpOf[this.conf.vp_of_id]=false;delete this._vpOf[this.conf.vp_of_id];this._vpOfUpd()};dhtmlXWindows.prototype._vpOfUpd=function(){var e=false;for(var c in this._vpOf){e=e||this._vpOf[c]}if(e==true){if(document.body.className.match(/dhxwins_vp_auto/)==null){document.body.className+="" dhxwins_vp_auto""}}else{if(document.body.className.match(/dhxwins_vp_auto/)!=null){document.body.className=String().replace(/\s{0,}dhxwins_vp_auto/gi,"""")}}};dhtmlXWindows.prototype.attachViewportTo=function(h){var e=this._vpPullRemove();if(this.conf.vp_custom){while(this.vp.childNodes.length>0){this.vp.removeChild(this.vp.lastChild)}this.vp.parentNode.removeChild(this.vp);this.vp=null}else{if(this.vp!=null&&e==0){this.vp.className=String(this.vp.className).replace(new RegExp(""\\s{1,}dhxwins_vp_""+this.conf.skin),"""")}}if(h==null){this.vp=null}else{this.vp=(typeof(h)==""string""?document.getElementById(h):h);var g=""dhxwins_vp_""+this.conf.skin;if(this.vp.className.indexOf(g)<0){this.vp.className+="" ""+g}h=null;for(var c in this.w){this.vp.appendChild(this.w[c].win)}this.conf.vp_custom=false}if(this.vp==document.body){document.body.style.position=""static""}this._vpPullAdd()};dhtmlXWindows.prototype.setViewport=function(c,l,g,a,h){var e=document.createElement(""DIV"");e.style.position=""absolute"";e.style.left=c+""px"";e.style.top=l+""px"";e.style.width=g+""px"";e.style.height=a+""px"";if(typeof(h)==""undefined""||h==null){h=document.body}else{if(typeof(h)==""string""){h=document.getElementById(h)}}h.appendChild(e);this.attachViewportTo(e);this.conf.vp_custom=true;h=e=null};dhtmlXWindows.prototype._winSetPosition=function(g,a,e){var c=this.w[g];if(c.conf.maxed){c.conf.lastMX+=(a-c.conf.x);c.conf.lastMY+=(e-c.conf.y)}c.conf.x=a;c.conf.y=e;c.win.style.left=c.conf.x+""px"";c.win.style.top=c.conf.y+""px"";this._winAdjustFRMPosition(g);c=null};dhtmlXWindows.prototype._winAdjustPosition=function(m,c,l){var e=this.w[m];if(typeof(c)==""undefined""){c=e.conf.x}if(typeof(l)==""undefined""){l=e.conf.y}var a=(e.conf.keep_in_vp?0:-e.conf.w+this.conf.vp_pos_ofs);var h=(e.conf.keep_in_vp?this.vp.clientWidth-e.conf.w:this.vp.clientWidth-this.conf.vp_pos_ofs);if(c<a){c=a}else{if(c>h){c=h}}var g=(e.conf.keep_in_vp?this.vp.clientHeight-e.conf.h:this.vp.clientHeight-this.conf.vp_pos_ofs);if(l<0){l=0}else{if(l>g){l=g}}if(c!=e.conf.x||l!=e.conf.y){this._winSetPosition(m,c,l)}e=null};dhtmlXWindows.prototype._winSetSize=function(n,l,e,m,c){var g=this.w[n];var a=(l!=null?l:g.conf.w);var h=(e!=null?e:g.conf.h);if(this.conf.ofs_w==null){g.win.style.width=a+""px"";g.win.style.height=h+""px"";this.conf.ofs_w=g.win.offsetWidth-a;this.conf.ofs_h=g.win.offsetHeight-h}if(g.conf.min_w!=null&&a<g.conf.min_w){a=g.conf.min_w}if(g.conf.max_w!=null&&a>g.conf.max_w){a=g.conf.max_w}if(!g.conf.parked&&g.conf.min_h!=null&&h<g.conf.min_h){h=g.conf.min_h}if(g.conf.max_h!=null&&h>g.conf.max_h){h=g.conf.max_h}if(g.conf.keep_in_vp){if(a>this.vp.clientWidth){a=this.vp.clientWidth}if(h>this.vp.clientHeight){h=this.vp.clientHeight}}g.win.style.width=a-this.conf.ofs_w+""px"";g.win.style.height=h-this.conf.ofs_h+""px"";g.conf.w=a;g.conf.h=h;this._winAdjustFRMSize(n);if(c){this._winAdjustPosition(n,g.conf.x,g.conf.y)}if(!g.conf.parked&&m!=true){this._winAdjustCell(n)}g=null};dhtmlXWindows.prototype._winMinmax=function(h,e){if(typeof(e)!=""undefined""&&this.w[h].conf.maxed==e){return}if(this.w[h].conf.allow_resize==false){return}var c=this.w[h];if(c.conf.parked){this._winPark(h,false)}if(c.conf.maxed){this._winSetSize(h,c.conf.lastMW,c.conf.lastMH);this._winAdjustPosition(h,c.conf.lastMX,c.conf.lastMY);c.conf.maxed=false}else{var a=0;var g=0;if(c.conf.max_w!=null){a=c.conf.x+Math.round(c.conf.w-c.conf.max_w)/2}if(c.conf.max_h!=null){g=Math.max(c.conf.y+Math.round(c.conf.h-c.conf.max_h)/2,0)}c.conf.lastMX=c.conf.x;c.conf.lastMY=c.conf.y;c.conf.lastMW=c.conf.w;c.conf.lastMH=c.conf.h;this._winSetSize(h,this.vp.clientWidth,this.vp.clientHeight);this._winAdjustPosition(h,a,g);c.conf.maxed=true}c.b.minmax.setCss(c.conf.maxed?""minmaxed"":""minmax"");if(c.conf.maxed){this._callMainEvent(""onMaximize"",h)}else{this._callMainEvent(""onMinimize"",h)}c=null};dhtmlXWindows.prototype._winShow=function(c,a){if(this.w[c].conf.visible==true){return}this.w[c].win.style.display="""";this.w[c].conf.visible=true;if(a==true||this.conf.last_active==null){this._winMakeActive(c,true)}this._callMainEvent(""onShow"",c)};dhtmlXWindows.prototype._winHide=function(c,a){if(this.w[c].conf.visible==false){return}this.w[c].win.style.display=""none"";this.w[c].conf.visible=false;if(this.w[c].conf.actv){this.w[c].conf.actv=false;this.w[c].win.className=""dhxwin_inactive"";this._winMakeActive(null,true)}this._callMainEvent(""onHide"",c)};dhtmlXWindows.prototype._winPark=function(e,a){if(this.w[e].conf.allow_park==false){return}if(this.w[e].conf.header==false){return}var c=this.w[e];if(a==true&&this.conf.tr.prop!==false){c.win.style[this.conf.tr.prop]=this.conf.tr[c.conf.parked?""height_open"":""height_close""];if(!c.conf.tr_ev){c.win.addEventListener(this.conf.tr.ev,this._winOnParkTrans,false);c.conf.tr_ev=true}}if(c.conf.parked){c.hdr.className=String(c.hdr.className).replace(/\s{1,}dhxwin_hdr_parked/gi,"""");c.hdr.style.zIndex=0;c.conf.parked=false;c.conf.tr_mode=""park"";this._winCellSetOpacity(e,""open"",a);this._winSetSize(e,c.conf.w,c.conf.lastPH,(a==true&&this.conf.tr.prop!==false));if(!(a==true&&this.conf.tr.prop!==false)){this._callMainEvent(""onParkDown"",e);if(c.conf.keep_in_vp){this._winAdjustPosition(e,c.conf.x,c.conf.y)}}if(window.dhx4.isIE8==true&&this.conf.tr.prop==false&&c.cell.cell.className.match(/dhxwin_parked/)!=null){c.cell.cell.className=c.cell.cell.className.replace(/\s{0,}dhxwin_parked/gi,"""")}}else{c.conf.lastPH=c.conf.h;c.hdr.className+="" dhxwin_hdr_parked"";if(a==false||this.conf.tr.prop==false){c.hdr.style.zIndex=3}c.conf.parked=true;c.conf.tr_mode=""park"";this._winCellSetOpacity(e,""close"",a);this._winSetSize(e,c.conf.w,c.hdr.offsetHeight+this.conf.ofs_h,(a==true&&this.conf.tr.prop!==false));if(!(a==true&&this.conf.tr.prop!==false)){this._callMainEvent(""onParkUp"",e)}if(window.dhx4.isIE8==true&&this.conf.tr.prop==false&&c.cell.cell.className.match(/dhxwin_parked/)==null){c.cell.cell.className+="" dhxwin_parked""}}c=null};dhtmlXWindows.prototype._winCellSetOpacity=function(m,l,e,h){var c=this.w[m].cell;for(var g in c.conf.idx){if({pr1:true,pr2:true}[g]!=true){if(e==true&&this.conf.tr.prop!=false){c.cell.childNodes[c.conf.idx[g]].style[this.conf.tr.prop]=this.conf.tr[""op_""+l]}c.cell.childNodes[c.conf.idx[g]].style.opacity=this.conf.tr[""op_v_""+l]}}c=null};dhtmlXWindows.prototype._winCellClearOpacity=function(g){var c=this.w[g].cell;for(var e in c.conf.idx){if({pr1:true,pr2:true}[e]!=true){if(this.conf.tr.prop!=false){c.cell.childNodes[c.conf.idx[e]].style[this.conf.tr.prop]=""""}}}c=null};dhtmlXWindows.prototype._winStick=function(c,a){if(typeof(a)!=""undefined""&&this.w[c].conf.sticked==a){return}this.w[c].conf.sticked=!this.w[c].conf.sticked;this.w[c].b.stick.setCss(this.w[c].conf.sticked?""sticked"":""stick"");this._winMakeActive(this.conf.last_active,true);if(this.w[c].conf.sticked){this._callMainEvent(""onStick"",c)}else{this._callMainEvent(""onUnStick"",c)}};dhtmlXWindows.prototype._winClose=function(g){if(this._callMainEvent(""onClose"",g)!==true&&this.conf.unloading!=true){return}var e=this.w[g];if(e.conf.fs_mode){e.cell.setToFullScreen(false)}if(e.conf.modal){this._winSetModal(g,false)}window.dhx4.zim.clear(e.conf.z_id);if(this.cm!=null&&this.cm.icon[g]!=null){this._detachContextMenu(""icon"",g,null)}if(typeof(window.addEventListener)==""function""){e.win.removeEventListener(""mousedown"",this._winOnMouseDown,false);e.win.removeEventListener(""mouseup"",this._winOnMouseDown,false);if(this.conf.dblclick_ev){e.win.removeEventListener(""dblclick"",this._winOnMouseDown,false)}if(this.conf.dnd_enabled==true&&window.dhx4.dnd.evs.start!=null){e.win.removeEventListener(window.dhx4.dnd.evs.start,this._winOnMouseDown,false);if(window.dhx4.dnd.p_en!=true){e.win.removeEventListener(window.dhx4.dnd.evs.start,this._winOnMouseDown,false);e.win.removeEventListener(window.dhx4.dnd.evs.end,this._winOnMouseDown,false)}}}else{e.win.detachEvent(""onmousedown"",this._winOnMouseDown);e.win.detachEvent(""onmouseup"",this._winOnMouseDown);if(this.conf.dblclick_ev){e.win.attachEvent(""ondblclick"",this._winOnMouseDown)}}for(var c in e.b){this._winRemoveButton(g,c,true)}e.b=null;e.cell._unload();e.cell=null;e.brd.parentNode.removeChild(e.brd);e.brd=null;if(e.fr_cover!=null){e.fr_cover.parentNode.removeChild(e.fr_cover);e.fr_cover=null}if(e.fr_m_cover!=null){e.fr_m_cover.parentNode.removeChild(e.fr_m_cover);e.fr_m_cover=null}e.hdr._isWinHdr=true;e.hdr.firstChild._isWinIcon=true;e.hdr.onselectstart=null;e.hdr.parentNode.removeChild(e.hdr);e.hdr=null;for(var c in e.conf){e.conf[c]=null;delete e.conf[c]}e.conf=null;e.win._idd=null;e.win._isWindow=null;e.win.parentNode.removeChild(e.win);e.win=null;e=null;this.w[g]=null;delete this.w[g];if(!this.conf.unloading){this._winMakeActive(null,true)}};dhtmlXWindows.prototype._winSetModal=function(m,g,l){if(this.w[m].conf.modal==g){return}if(typeof(l)==""undefined""){l=true}var e=this.w[m];if(g==true&&e.conf.modal==false){if(this.conf.last_modal!=null){this._winSetModal(this.conf.last_modal,false,false)}if(this.mcover==null){var h=document.createElement(""DIV"");h.className=""dhxwins_mcover"";this.vp.insertBefore(h,e.fr_m_cover||e.win);this.mcover={d:h};if(this.conf.fr_cover){this.mcover.f=document.createElement(""IFRAME"");this.mcover.f.className=""dhxwins_mcover"";this.mcover.f.border=0;this.mcover.f.frameBorder=0;this.vp.insertBefore(this.mcover.f,h)}h=null}else{if(this.mcover.d.nextSibling!=(e.fr_m_cover||e.win)){this.vp.insertBefore(this.mcover.d,e.fr_m_cover||e.win);if(this.mcover.f!=null){this.vp.insertBefore(this.mcover.f,this.mcover.d)}}}e.conf.modal=true;this.conf.last_modal=m;this._winMakeActive(m,true)}else{if(g==false&&e.conf.modal==true){e.conf.modal=false;this.conf.last_modal=null;if(l&&this.mcover!=null){for(var c in this.mcover){this.vp.removeChild(this.mcover[c]);this.mcover[c]=null}this.mcover=null}}}e=null};dhtmlXWindows.prototype._winMouseDownHandler=function(g,c){var a=g.target||g.srcElement;if(g.button>=2){return}if(c.mode==""button""){if(c.press_type==""mousedown""){this.conf.button_last=c.button_name}else{if((c.press_type==""mouseup""&&c.button_name==this.conf.button_last)||c.press_type==""MSPointerDown""||c.press_type==""pointerdown""){this.conf.button_last=null;if(this._winButtonClick(c.id,c.button_name,g)!==true){return}}}}if((c.press_type==""mousedown""||c.press_type==""dblclick"")&&c.mode==""hdr""){this.conf.dblclick_active=false;if(this.conf.dblclick_ev==true){if(c.press_type==""dblclick""){this.conf.dblclick_active=true}}else{if(this.conf.dblclick_last==null){this.conf.dblclick_last=new Date().getTime();this.dblclick_id=c.id}else{var a=new Date().getTime();if(this.conf.dblclick_last+this.conf.dblclick_tm>a&&this.dblclick_id==c.id){this.conf.dblclick_active=true;this.conf.dblclick_last=null;this.dblclick_id=null}else{this.conf.dblclick_last=a;this.dblclick_id=c.id}}}if(this.conf.dblclick_active){this._winDoHeaderDblClick(c.id);return}}if(c.press_type==""mousedown""||(c.press_type==window.dhx4.dnd.evs.start)){this._winMakeActive(c.id)}if(c.press_type==""touchend""){}};dhtmlXWindows.prototype._winDoHeaderDblClick=function(a){if(this.conf.dblclick_mode==""minmax""){this._winMinmax(a);return}if(this.conf.dblclick_mode==""park""){this._winPark(a,true);return}if(typeof(this.conf.dblclick_mode)==""function""){this.conf.dblclick_mode.apply(window,[a]);return}if(typeof(window[this.conf.dblclick_mode])==""function""){window[this.conf.dblclick_mode].apply(window,[a]);return}};dhtmlXWindows.prototype._winAdjustCell=function(c){var q=this.w[c];var o=1;var n=(q.conf.header?q.hdr.offsetHeight:1);var g=q.win.clientWidth-2;var r=q.win.clientHeight-n-1;q.brd.style.left=o+""px"";q.brd.style.top=n+""px"";if(q.conf.brd==null){q.brd.style.width=g+""px"";q.brd.style.height=r+""px"";q.conf.brd={w:g-q.brd.offsetWidth,h:r-q.brd.offsetHeight}}q.brd.style.width=g+q.conf.brd.w+""px"";q.brd.style.height=r+q.conf.brd.h+""px"";var e=5;var a=1+e;var m=(q.conf.header?n:n+e);var h=q.brd.clientWidth;var l=q.brd.clientHeight;q.cell._setSize(a,m,h,l);q.fr_cover.style.left=a+""px"";q.fr_cover.style.top=m+""px"";q.fr_cover.style.width=h+""px"";q.fr_cover.style.height=l+""px"";q=null};dhtmlXWindows.prototype._winAdjustTitle=function(g){var a=this.w[g].hdr.childNodes[0];var e=this.w[g].hdr.childNodes[1];var c=this.w[g].hdr.childNodes[2];e.style.paddingLeft=a.offsetWidth+12+""px"";e.style.paddingRight=c.offsetWidth+10+""px"";e=c=a=null};dhtmlXWindows.prototype._callMainEvent=function(c,g){var a=this.w[g];if(a.cell.checkEvent(c)){var e=a.cell._callMainEvent(c,[a.cell])}else{var e=this.callEvent(c,[a.cell])}a=null;return e};dhtmlXWindows.prototype._winInitFRM=function(e){if(this.conf.fr_cover!=true){return}var a=this.w[e];var c=document.createElement(""IFRAME"");c.className=""dhxwin_main_fr_cover"";c.border=0;c.frameBorder=0;c.style.zIndex=a.win.style.zIndex;a.win.parentNode.insertBefore(c,a.win);a.fr_m_cover=c;c=null};dhtmlXWindows.prototype._winAdjustFRMSize=function(c){var a=this.w[c];if(a.fr_m_cover!=null){a.fr_m_cover.style.width=a.conf.w+""px"";a.fr_m_cover.style.height=a.conf.h+""px""}a=null};dhtmlXWindows.prototype._winAdjustFRMPosition=function(c){var a=this.w[c];if(a.fr_m_cover!=null){a.fr_m_cover.style.left=a.win.style.left;a.fr_m_cover.style.top=a.win.style.top}a=null};dhtmlXWindows.prototype._winAdjustFRMZIndex=function(c){var a=this.w[c];if(a.fr_m_cover!=null){a.fr_m_cover.style.zIndex=a.win.style.zIndex}a=null};function dhtmlXWindowsCell(h,g){dhtmlXCellObject.apply(this,[h,""_wins""]);this.wins=g;this.cell._winId=h;this.conf.skin=this.wins.conf.skin;this.attachEvent(""_onCellUnload"",function(){if(this._unloadResize){this._unloadResize()}window.dhx4._eventable(this.cell,""clear"");this.cell._winId=null;this.wins=null;this.setText=null;this.getText=null;this.allowMove=null;this.denyMove=null;this.isMovable=null;this.allowResize=null;this.denyResize=null;this.isResizable=null;this.maximize=null;this.minimize=null;this.isMaximized=null;this.setPosition=null;this.getPosition=null;this.adjustPosition=null;this.park=null;this.isParked=null;this.allowPark=null;this.denyPark=null;this.isParkable=null;this.show=null;this.hide=null;this.isHidden=null;this.stick=null;this.unstick=null;this.isSticked=null;this.setDimension=null;this.getDimension=null;this.setMinDimension=null;this.getMinDimension=null;this.setMaxDimension=null;this.getMaxDimension=null;this.keepInViewport=null;this.center=null;this.centerOnScreen=null;this.bringToTop=null;this.bringToBottom=null;this.isOnTop=null;this.isOnBottom=null;this.showHeader=null;this.hideHeader=null;this.setModal=null;this.isModal=null;this.close=null;this._adjustByCont=null;this.button=null;this.addUserButton=null;this.removeUserButton=null;e=null});this.attachEvent(""_onContentLoaded"",function(){this.wins._callMainEvent(""onContentLoaded"",this._idd)});this.attachEvent(""_onContentMouseDown"",function(l,a){this.wins.callEvent(""_winMouseDown"",[a,{id:l,mode:""win""}])});this._callMainEvent=function(l,a){return this.callEvent(l,a)};this.conf.tr={};for(var c in this.wins.conf.tr){this.conf.tr[c]=this.wins.conf.tr[c]}if(this.conf.tr.prop!=false){}if(this._initResize){this._initResize()}window.dhx4._eventable(this.cell);var e=this;this.cell.attachEvent(""_setCellSize"",function(a,n){var l=e.wins.w[this._winId].conf.w-e.conf.size.w;var m=e.wins.w[this._winId].conf.h-e.conf.size.h;e.setDimension(a+l,n+m)});return this}dhtmlXWindowsCell.prototype=new dhtmlXCellObject();dhtmlXWindowsCell.prototype.setText=function(a){this.wins.w[this._idd].conf.text=a;this.wins.w[this._idd].hdr.childNodes[1].firstChild.innerHTML=a};dhtmlXWindowsCell.prototype.getText=function(){return this.wins.w[this._idd].conf.text};dhtmlXWindowsCell.prototype.allowMove=function(){this.wins.w[this._idd].conf.allow_move=true};dhtmlXWindowsCell.prototype.denyMove=function(){this.wins.w[this._idd].conf.allow_move=false};dhtmlXWindowsCell.prototype.isMovable=function(){return(this.wins.w[this._idd].conf.allow_move==true)};dhtmlXWindowsCell.prototype.allowResize=function(){this.wins.w[this._idd].conf.allow_resize=true;this.wins.w[this._idd].b.minmax.enable()};dhtmlXWindowsCell.prototype.denyResize=function(){this.wins.w[this._idd].conf.allow_resize=false;this.wins.w[this._idd].b.minmax.disable()};dhtmlXWindowsCell.prototype.isResizable=function(){return(this.wins.w[this._idd].conf.allow_resize==true)};dhtmlXWindowsCell.prototype.maximize=function(){this.wins._winMinmax(this._idd,true)};dhtmlXWindowsCell.prototype.minimize=function(){this.wins._winMinmax(this._idd,false)};dhtmlXWindowsCell.prototype.isMaximized=function(){return(this.wins.w[this._idd].conf.maxed==true)};dhtmlXWindowsCell.prototype.setPosition=function(a,c){this.wins._winSetPosition(this._idd,a,c)};dhtmlXWindowsCell.prototype.getPosition=function(){var a=this.wins.w[this._idd];var c=[a.conf.x,a.conf.y];a=null;return c};dhtmlXWindowsCell.prototype.adjustPosition=function(){this.wins._winAdjustPosition(this._idd)};dhtmlXWindowsCell.prototype.park=function(){this.wins._winPark(this._idd,true)};dhtmlXWindowsCell.prototype.isParked=function(){return(this.wins.w[this._idd].conf.parked==true)};dhtmlXWindowsCell.prototype.allowPark=function(){this.wins.w[this._idd].conf.allow_park=true;this.wins.w[this._idd].b.park.enable()};dhtmlXWindowsCell.prototype.denyPark=function(){this.wins.w[this._idd].conf.allow_park=false;this.wins.w[this._idd].b.park.disable()};dhtmlXWindowsCell.prototype.isParkable=function(){return(this.wins.w[this._idd].conf.allow_park==true)};dhtmlXWindowsCell.prototype.show=function(a){this.wins._winShow(this._idd,window.dhx4.s2b(a))};dhtmlXWindowsCell.prototype.hide=function(){this.wins._winHide(this._idd)};dhtmlXWindowsCell.prototype.isHidden=function(){return(this.wins.w[this._idd].conf.visible!=true)};dhtmlXWindowsCell.prototype.stick=function(){this.wins._winStick(this._idd,true)};dhtmlXWindowsCell.prototype.unstick=function(){this.wins._winStick(this._idd,false)};dhtmlXWindowsCell.prototype.isSticked=function(){return(this.wins.w[this._idd].conf.sticked==true)};dhtmlXWindowsCell.prototype.setDimension=function(e,a){var c=this.wins.w[this._idd];if(c.conf.parked){this.wins._winPark(this._idd,false)}if(c.conf.maxed){if(e!=null){c.conf.lastMW=e}if(a!=null){c.conf.lastMH=a}this.wins._winMinmax(this._idd)}else{this.wins._winSetSize(this._idd,e,a,false,true)}c=null};dhtmlXWindowsCell.prototype.getDimension=function(){var a=this.wins.w[this._idd];var c=[a.conf.w,a.conf.h];a=null;return c};dhtmlXWindowsCell.prototype.setMinDimension=function(e,a){var c=this.wins.w[this._idd];c.conf.min_w=e;c.conf.min_h=a;this.wins._winSetSize(this._idd,c.conf.w,c.conf.h);c=null};dhtmlXWindowsCell.prototype.getMinDimension=function(){var a=this.wins.w[this._idd];var c=[a.conf.min_w,a.conf.min_h];a=null;return c};dhtmlXWindowsCell.prototype.setMaxDimension=function(e,a){var c=this.wins.w[this._idd];c.conf.max_w=e;c.conf.max_h=a;this.wins._winSetSize(this._idd,c.conf.w,c.conf.h);c=null};dhtmlXWindowsCell.prototype.getMaxDimension=function(){var a=this.wins.w[this._idd];var c=[a.conf.max_w,a.conf.max_h];a=null;return c};dhtmlXWindowsCell.prototype.keepInViewport=function(a){this.wins.w[this._idd].conf.keep_in_vp=window.dhx4.s2b(a)};dhtmlXWindowsCell.prototype.center=function(){var e=this.wins.vp;var c=this.wins.w[this._idd];var a=Math.round((e.clientWidth-c.conf.w)/2);var g=Math.round((e.clientHeight-c.conf.h)/2);this.wins._winSetPosition(this._idd,a,g);e=c=null};dhtmlXWindowsCell.prototype.centerOnScreen=function(){var c=this.wins.w[this._idd];var l=window.dhx4.screenDim();var h=window.dhx4.absLeft(this.wins.vp);var g=window.dhx4.absTop(this.wins.vp);var e=this.wins.vp.parentNode;while(e!=null){if(e.scrollLeft){h=h-e.scrollLeft}if(e.scrollTop){g=g-e.scrollTop}e=e.parentNode}var a=Math.round((l.right-l.left-c.conf.w)/2);var m=Math.round((l.bottom-l.top-c.conf.h)/2);this.wins._winAdjustPosition(this._idd,a-h,m-g);d=c=null};dhtmlXWindowsCell.prototype.bringToTop=function(){this.wins._winMakeActive(this._idd,true)};dhtmlXWindowsCell.prototype.bringToBottom=function(){var a=(this.wins.w[this._idd].conf.actv?null:this.wins.conf.last_active);window.dhx4.zim.clear(this.wins.w[this._idd].conf.z_id);this.wins.w[this._idd].win.style.zIndex=0;this.wins._winMakeActive(a,true)};dhtmlXWindowsCell.prototype.isOnTop=function(){return(this.wins.w[this._idd].conf.actv==true)};dhtmlXWindowsCell.prototype.isOnBottom=function(){var e={id:null,z:+Infinity};for(var c in this.wins.w){if(this.wins.w[c].conf.visible&&this.wins.w[c].win.style.zIndex<e.z){e.id=c;e.z=this.wins.w[c].win.style.zIndex}}return(e.id==this._idd)};dhtmlXWindowsCell.prototype.showHeader=function(){var a=this.wins.w[this._idd];if(a.conf.header==false){a.hdr.className=String(a.hdr.className).replace(/\s{0,}dhxwin_hdr_hidden/gi,"""");a.brd.className=String(a.brd.className).replace(/\s{0,}dhxwin_hdr_hidden/gi,"""");this.conf.cells_cont=null;a.conf.brd=null;a.conf.header=true;this.wins._winAdjustCell(this._idd)}a=null};dhtmlXWindowsCell.prototype.hideHeader=function(){var a=this.wins.w[this._idd];if(a.conf.header==true){if(a.conf.parked){this.wins._winPark(this._idd,false)}a.hdr.className+="" dhxwin_hdr_hidden"";a.brd.className+="" dhxwin_hdr_hidden"";this.conf.cells_cont=null;a.conf.brd=null;a.conf.header=false;this.wins._winAdjustCell(this._idd)}a=null};dhtmlXWindowsCell.prototype.setModal=function(a){this.wins._winSetModal(this._idd,window.dhx4.s2b(a))};dhtmlXWindowsCell.prototype.isModal=function(){return(this.wins.w[this._idd].conf.modal==true)};dhtmlXWindowsCell.prototype._adjustByCont=function(a,c){a+=this.wins.w[this._idd].conf.w-this.conf.size.w;c+=this.wins.w[this._idd].conf.h-this.conf.size.h;this.wins._winSetSize(this._idd,a,c)};dhtmlXWindowsCell.prototype.close=function(){this.wins._winClose(this._idd)};dhtmlXWindowsCell.prototype.setIconCss=function(a){this.wins.w[this._idd].hdr.firstChild.className=""dhxwin_icon ""+a;this.wins._winAdjustTitle(this._idd)};dhtmlXWindowsCell.prototype.setToFullScreen=function(c){c=window.dhx4.s2b(c);var a=this.wins.w[this._idd];if(a.conf.fs_mode==c){a=null;return}if(this.wins.fsn==null){this.wins.fsn=document.createElement(""DIV"");this.wins.fsn.className=this.wins.vp.className+"" dhxwins_vp_fs"";document.body.appendChild(this.wins.fsn)}if(c){this.wins.fsn.appendChild(a.win);this.maximize();this.hideHeader()}else{this.wins.vp.appendChild(a.win);this.minimize();this.showHeader();if(this.wins.fsn.childNodes.length==0){this.wins.fsn.parentNode.removeChild(this.wins.fsn);this.wins.fsn=null}}a.conf.fs_mode=c;a=null};dhtmlXWindowsCell.prototype.button=function(a){if(a==""minmax1""||a==""minmax2""){a=""minmax""}return this.wins.w[this._idd].b[a]};dhtmlXWindowsCell.prototype.addUserButton=function(m,l,e){var a=new dhtmlXWindowsButton(this.wins,this._idd,m,e,true);var g=null;var c=this.wins.w[this._idd].hdr.lastChild;if(isNaN(l)){l=0}else{if(l<0){l=0}}if(c.childNodes[l]!=null){g=c.childNodes[l]}if(g!=null){c.insertBefore(a.button,g)}else{c.appendChild(a.button)}this.wins.w[this._idd].b[m]=a;a=g=c=null;this.wins._winAdjustTitle(this._idd)};dhtmlXWindowsCell.prototype.removeUserButton=function(a){if(this.wins.w[this._idd].b[a]==null||this.wins.w[this._idd].b[a].conf.custom!=true){return}this.wins._winRemoveButton(this._idd,a)};window.dhtmlXWindowsButton=function(h,c,a,g,e){this.conf={wins:h,winId:c,name:a,enabled:true,visible:true,custom:true};this.button=document.createElement(""DIV"");this.button._buttonName=a;this.button.title=g;this.enable=function(){this.conf.enabled=true;this.setCss(this.conf.css)};this.disable=function(){this.conf.enabled=false;this.setCss(this.conf.css)};this.isEnabled=function(){return(this.conf.enabled==true)};this.show=function(){this.button.style.display="""";this.conf.visible=true;this.conf.wins._winAdjustTitle(this.conf.winId)};this.hide=function(){this.button.style.display=""none"";this.conf.visible=false;this.conf.wins._winAdjustTitle(this.conf.winId)};this.isHidden=function(){return(this.conf.visible==false)};this.setCss=function(m){this.conf.css=m;var l=(this.conf.enabled?"""":""_dis"");this.button.className=""dhxwin_button""+l+"" dhxwin_button_""+this.conf.css+l};this._doOnClick=function(l){return this.callEvent(""onClick"",[this.conf.wins.w[this.conf.winId].cell,this])};this.unload=function(l){dhx4._eventable(this,""clear"");this.button._buttonName=null;this.button.parentNode.removeChild(this.button);if(this.conf.wins.cm!=null&&this.conf.wins.cm.button[this.conf.winId]!=null&&this.conf.wins.cm.button[this.conf.winId][this.conf.name]!=null){this.conf.wins._detachContextMenu(""button"",this.conf.winId,this.conf.name)}this.button=null;this.enable=null;this.disable=null;this.isEnabled=null;this.show=null;this.hide=null;this.isHidden=null;this.setCss=null;this.unload=null;if(l!=true){this.conf.wins._winAdjustTitle(this.conf.winId)}this.conf.wins=null;this.conf.winId=null;this.conf=null};this.setCss(a);dhx4._eventable(this);return this};dhtmlXWindows.prototype._winButtonClick=function(e,a,c){if(!this.w[e].b[a].isEnabled()){return true}if(this.w[e].b[a]._doOnClick()!==true){return}if(a==""help""){this._callMainEvent(""onHelp"",e)}if(a==""park""){this._winPark(e,true)}if(a==""minmax""){this._winMinmax(e)}if(a==""stick""){this._winStick(e);return false}if(a==""close""){this._winClose(e);return false}return true};dhtmlXWindows.prototype._winRemoveButton=function(e,a,c){this.w[e].b[a].unload(c);this.w[e].b[a]=null;delete this.w[e].b[a]};dhtmlXWindows.prototype._dndInitModule=function(){var a=this;this.conf.dnd_enabled=true;this.conf.dnd_tm=null;this.conf.dnd_time=0;this._dndOnMouseDown=function(h,l){if(a.conf.dblclick_active){return}if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}if(a._callMainEvent(""onBeforeMoveStart"",l)!==true){return}a.conf.dnd={id:l,x:a._dndPos(h,""X""),y:a._dndPos(h,""Y""),ready:true,css:false,css_touch:false,css_vp:false,tr:null,mode:""def"",moved:false,prevent:false};if(a.w[l].conf.keep_in_vp){a.conf.dnd.minX=0;a.conf.dnd.maxX=a.vp.clientWidth-a.w[l].conf.w;a.conf.dnd.minY=0;a.conf.dnd.maxY=a.vp.clientHeight-a.w[l].conf.h}else{a.conf.dnd.minX=-a.w[l].conf.w+a.conf.vp_pos_ofs;a.conf.dnd.maxX=a.vp.clientWidth-a.conf.vp_pos_ofs;a.conf.dnd.minY=0;a.conf.dnd.maxY=a.vp.clientHeight-a.conf.vp_pos_ofs}var c=[""MozTransform"",""WebkitTransform"",""OTransform"",""msTransform"",""transform""];for(var g=0;g<c.length;g++){if(document.documentElement.style[c[g]]!=null&&a.conf.dnd.tr==null){a.conf.dnd.tr=c[g];a.conf.dnd.mode=""tr""}}if(a.conf.dnd.mode==""tr""){a.w[l].win.style[a.conf.dnd.tr]=""translate(0px,0px)""}if(window.dhx4.dnd._mTouch(h)==false&&h.type==window.dhx4.dnd.evs.start){if(a.conf.dnd.css_touch==false){a.w[l].win.className+="" dhxwin_dnd_touch"";a.conf.dnd.css_touch=true}if(a.conf.dnd.css_vp==false){a.vp.className+="" dhxwins_vp_dnd"";a.conf.dnd.css_vp=true}}else{a._dndInitEvents()}};this._dndOnMouseMove=function(l){l=l||event;var h=a.conf.dnd;var c=a._dndPos(l,""X"")-h.x;var m=a._dndPos(l,""Y"")-h.y;if(l.type==window.dhx4.dnd.evs.move){if(h.moved!=true&&(Math.abs(c)>20||Math.abs(m)>20)){if(a.conf.dnd_tm!=null){window.clearTimeout(a.conf.dnd_tm);a.conf.dnd_tm=null}window.removeEventListener(window.dhx4.dnd.evs.start,a._dndOnMouseMove,false);return}}if(h.ready!=true){return}var g=a.w[h.id];if(l.preventDefault){l.preventDefault()}else{l.returnValue=false}if(h.css!=true){if(h.css_touch==false){g.win.className+="" dhxwin_dnd""}g.fr_cover.className+="" dhxwin_fr_cover_dnd"";h.css=true}if(h.css_vp!=true){a.vp.className+="" dhxwins_vp_dnd"";h.css_vp=true}h.newX=g.conf.x+c;h.newY=g.conf.y+m;if(h.mode==""tr""){h.newX=Math.min(Math.max(h.newX,h.minX),h.maxX);c=h.newX-g.conf.x;h.newY=Math.min(Math.max(h.newY,h.minY),h.maxY);m=h.newY-g.conf.y;g.win.style[h.tr]=""translate(""+c+""px,""+m+""px)""}else{if(h.newX<h.minX||h.newX>h.maxX){h.newX=Math.min(Math.max(h.newX,h.minX),h.maxX)}else{h.x=a._dndPos(l,""X"")}if(h.newY<h.minY||h.newY>h.maxY){h.newY=Math.min(Math.max(h.newY,h.minY),h.maxY)}else{h.y=a._dndPos(l,""Y"")}a._winSetPosition(h.id,h.newX,h.newY)}h.moved=true;g=h=null};this._dndOnMouseUp=function(h){h=h||event;if(a.conf.dnd!=null){var g=a.conf.dnd;var c=a.w[g.id];if(g.newX!=null){if(g.mode==""tr""){a._winSetPosition(g.id,g.newX,g.newY);c.win.style[g.tr]=""translate(0px,0px)""}}if(g.css==true){if(g.css_touch==false){c.win.className=String(c.win.className).replace(/\s{0,}dhxwin_dnd/gi,"""")}c.fr_cover.className=String(c.fr_cover.className).replace(/\s{0,}dhxwin_fr_cover_dnd/gi,"""")}if(g.css_touch==true){c.win.className=String(c.win.className).replace(/\s{0,}dhxwin_dnd_touch/gi,"""")}if(g.css_vp==true){a.vp.className=String(a.vp.className).replace(/\s{0,}dhxwins_vp_dnd/gi,"""")}a._dndUnloadEvents();if(g.moved==true){a._callMainEvent(""onMoveFinish"",g.id)}else{a._callMainEvent(""onMoveCancel"",g.id)}c=g=a.conf.dnd=null}if(window.dhx4.dnd.p_en==true&&h.type==window.dhx4.dnd.evs.end){window.dhx4.dnd._touchOn();window.removeEventListener(window.dhx4.dnd.evs.end,a._dndOnMouseUp,false);window.removeEventListener(window.dhx4.dnd.evs.move,a._dndOnMouseMove,false);if(a.conf.dnd_tm!=null){window.clearTimeout(a.conf.dnd_tm)}a.conf.dnd_tm=null}};this._dndOnSelectStart=function(c){c=c||event;if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}return false};this._dndInitEvents=function(){if(typeof(window.addEventListener)==""function""){window.addEventListener(""mousemove"",this._dndOnMouseMove,false);window.addEventListener(""mouseup"",this._dndOnMouseUp,false);window.addEventListener(""selectstart"",this._dndOnSelectStart,false)}else{document.body.attachEvent(""onmousemove"",this._dndOnMouseMove);document.body.attachEvent(""onmouseup"",this._dndOnMouseUp);document.body.attachEvent(""onselectstart"",this._dndOnSelectStart)}};this._dndUnloadEvents=function(){if(typeof(window.addEventListener)==""function""){window.removeEventListener(""mousemove"",this._dndOnMouseMove,false);window.removeEventListener(""mouseup"",this._dndOnMouseUp,false);window.removeEventListener(""selectstart"",this._dndOnSelectStart,false)}else{document.body.detachEvent(""onmousemove"",this._dndOnMouseMove);document.body.detachEvent(""onmouseup"",this._dndOnMouseUp);document.body.detachEvent(""onselectstart"",this._dndOnSelectStart)}};this._dndUnloadModule=function(){this.detachEvent(this.conf.dnd_evid);this.conf.dnd_evid=null;this._dndOnMouseDown=null;this._dndOnMouseMove=null;this._dndOnMouseUp=null;this._dndOnSelectStart=null;this._dndInitEvents=null;this._dndUnloadEvents=null;this._dndInitModule=null;this._dndUnloadModule=null;a=null};this._dndPos=function(e,c){var g=e[this.conf.dnd_ev_prefix+c];if((g==null||g==0)&&e.touches!=null){g=e.touches[0][this.conf.dnd_ev_prefix+c]}return g};this.conf.dnd_evid=this.attachEvent(""_winMouseDown"",function(g,c){if(this.w[c.id]==null||this.w[c.id].conf.allow_move!=true){return}if(g.type==window.dhx4.dnd.evs.start){if(c.mode==""hdr""){if(this.w[c.id].conf.maxed&&this.w[c.id].conf.max_w==null&&this.w[c.id].conf.max_h==null){return}this.conf.dnd_ev_prefix=""page"";this.conf.dnd={x:this._dndPos(g,""X""),y:this._dndPos(g,""Y"")};if(this.conf.dnd_time<1){this._dndOnMouseDown(g,c.id)}else{if(this.conf.dnd_tm!=null){window.clearTimeout(this.conf.dnd_tm)}this.conf.dnd_tm=window.setTimeout(function(){a._dndOnMouseDown(g,c.id)},this.conf.dnd_time)}if(window.dhx4.dnd.p_en==true){window.dhx4.dnd._touchOff();window.addEventListener(window.dhx4.dnd.evs.end,this._dndOnMouseUp,false)}window.addEventListener(window.dhx4.dnd.evs.move,this._dndOnMouseMove,false)}return false}if(g.type==window.dhx4.dnd.evs.end){if(this.conf.dnd_tm!=null){window.clearTimeout(this.conf.dnd_tm);this.conf.dnd_tm=null}this._dndOnMouseUp(g);window.removeEventListener(window.dhx4.dnd.evs.move,this._dndOnMouseMove,false);return false}if(g.button>=2){return}this.conf.dnd_ev_prefix=""client"";if(!(c.mode==""hdr""&&g.type==""mousedown"")){return}if(this.w[c.id].conf.maxed&&this.w[c.id].conf.max_w==null&&this.w[c.id].conf.max_h==null){return}if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}this._dndOnMouseDown(g,c.id);return false})};dhtmlXWindowsCell.prototype._initResize=function(){var a=this;var c=navigator.userAgent;this.conf.resize={b_width:6,c_type:(c.indexOf(""MSIE 10.0"")>0||c.indexOf(""MSIE 9.0"")>0||c.indexOf(""MSIE 8.0"")>0||c.indexOf(""MSIE 7.0"")>0||c.indexOf(""MSIE 6.0"")>0)};this._rOnCellMouseMove=function(n){if(a.wins.conf.resize_actv==true||a.wins.w[a._idd].conf.allow_resize==false||a.conf.progress==true||a.wins.w[a._idd].conf.maxed==true||a.wins.w[a._idd].conf.fs_mode==true){var l=a.wins.w[a._idd].brd;if(l.style.cursor!=""default""){l.style.cursor=""default""}l=null;return}n=n||event;var v=a.wins.w[a._idd].brd;var g=a.conf.resize;var q=(a.wins.w[a._idd].conf.header==false);var s=n.clientX;var o=n.clientY;var h=window.dhx4.absLeft(v);var u=window.dhx4.absTop(v);var m="""";if(s<=h+g.b_width){m=""w""}else{if(s>=h+v.offsetWidth-g.b_width){m=""e""}}if(o>=u+v.offsetHeight-g.b_width){m=""s""+m}else{if(q&&o<=u+g.b_width){m=""n""+m}}if(m==""""){m=false}if(g.mode!=m){g.mode=m;if(m==false){v.style.cursor=""default""}else{v.style.cursor=m+""-resize""}}v=g=null};this._rOnCellMouseDown=function(m){if(a.conf.resize.mode==false){return}if(a.conf.progress==true){return}if(a.wins.w[a._idd].conf.allow_resize==false){return}if(a.wins.w[a._idd].conf.fs_mode==true){return}if(m.preventDefault){m.preventDefault()}else{m.returnValue=false}if(a.wins._callMainEvent(""onBeforeResizeStart"",a._idd)!==true){return}var g=a.wins.w[a._idd];var l=a.conf.resize;a.wins.conf.resize_actv=true;l.min_w=g.conf.min_w;l.min_h=g.conf.min_h;l.max_w=g.conf.max_w||+Infinity;l.max_h=g.conf.max_h||+Infinity;if(g.cell.dataType==""layout""&&g.cell.dataObj!=null&&typeof(g.cell.dataObj._getWindowMinDimension)==""function""){var h=g.cell.dataObj._getWindowMinDimension(g.cell);l.min_w=Math.max(h.w,l.min_w);l.min_h=Math.max(h.h,l.min_h)}l.vp_l=a.wins.conf.vp_pos_ofs;l.vp_r=a.wins.vp.clientWidth-a.wins.conf.vp_pos_ofs;l.vp_b=a.wins.vp.clientHeight-a.wins.conf.vp_pos_ofs;l.x=m.clientX;l.y=m.clientY;if(typeof(window.addEventListener)==""function""){window.addEventListener(""mousemove"",a._rOnWinMouseMove,false);window.addEventListener(""mouseup"",a._rOnWinMouseUp,false);window.addEventListener(""selectstart"",a._rOnSelectStart,false)}else{document.body.attachEvent(""onmousemove"",a._rOnWinMouseMove);document.body.attachEvent(""onmouseup"",a._rOnWinMouseUp);document.body.attachEvent(""onselectstart"",a._rOnSelectStart)}l.resized=false;l.vp_cursor=a.wins.vp.style.cursor;a.wins.vp.style.cursor=l.mode+""-resize"";g=l=null};this._rOnWinMouseMove=function(m){m=m||event;var h=a.wins.w[a._idd];var l=a.conf.resize;if(!l.resized){h.fr_cover.className+="" dhxwin_fr_cover_resize"";l.resized=true}var g=m.clientX-l.x;var n=m.clientY-l.y;if(l.mode.indexOf(""e"")>=0){l.rw=Math.min(Math.max(h.conf.w+g,l.min_w),l.max_w);l.rx=null;if(h.conf.x+l.rw<l.vp_l){l.rw=l.vp_l-h.conf.x}else{if(h.conf.x+l.rw>a.wins.vp.clientWidth){l.rw=a.wins.vp.clientWidth-h.conf.x}}}else{if(l.mode.indexOf(""w"")>=0){l.rw=Math.min(Math.max(h.conf.w-g,l.min_w),l.max_w);l.rx=h.conf.x+h.conf.w-l.rw;if(l.rx<0){l.rw=l.rw+l.rx;l.rx=0}else{if(l.rx>l.vp_r){l.rw=l.rw-l.vp_r;l.rx=l.vp_r}}}}if(l.mode.indexOf(""s"")>=0){l.rh=Math.min(Math.max(h.conf.h+n,l.min_h),l.max_h);l.ry=null;if(h.conf.y+l.rh>a.wins.vp.clientHeight){l.rh=a.wins.vp.clientHeight-h.conf.y}}else{if(l.mode.indexOf(""n"")>=0){l.rh=Math.min(Math.max(h.conf.h-n,l.min_h),l.max_h);l.ry=h.conf.y+h.conf.h-l.rh;if(l.ry<0){l.rh=l.rh+l.ry;l.ry=0}else{if(l.ry>l.vp_b){l.rh=l.rh-l.vp_b;l.ry=l.vp_b}}}}a._rAdjustSizer();h=l=null};this._rOnWinMouseUp=function(){var g=a.conf.resize;var e=a.wins.w[a._idd];a.wins.conf.resize_actv=false;a.wins.vp.style.cursor=g.vp_cursor;e.fr_cover.className=String(e.fr_cover.className).replace(/\s{0,}dhxwin_fr_cover_resize/gi,"""");if(g.resized){a.wins._winSetSize(a._idd,g.rw,g.rh);if(g.rx==null){g.rx=e.conf.x}if(g.ry==null){g.ry=e.conf.y}if(g.rx!=e.conf.x||g.ry!=e.conf.y){a.wins._winSetPosition(a._idd,g.rx,g.ry)}}if(g.obj!=null){g.obj.parentNode.removeChild(g.obj);g.obj=null}if(g.objFR!=null){g.objFR.parentNode.removeChild(g.objFR);g.objFR=null}if(typeof(window.addEventListener)==""function""){window.removeEventListener(""mousemove"",a._rOnWinMouseMove,false);window.removeEventListener(""mouseup"",a._rOnWinMouseUp,false);window.removeEventListener(""selectstart"",a._rOnSelectStart,false)}else{document.body.detachEvent(""onmousemove"",a._rOnWinMouseMove);document.body.detachEvent(""onmouseup"",a._rOnWinMouseUp);document.body.detachEvent(""onselectstart"",a._rOnSelectStart)}if(g.resized==true){if(a.dataType==""layout""&&a.dataObj!=null){a.dataObj.callEvent(""onResize"",[])}a.wins._callMainEvent(""onResizeFinish"",a._idd)}else{a.wins._callMainEvent(""onResizeCancel"",a._idd)}g.mode="""";e=g=null};this._rOnSelectStart=function(g){g=g||event;if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false};this._rInitSizer=function(){var g=a.conf.resize;var e=a.wins.w[a._idd];g.obj=document.createElement(""DIV"");g.obj.className=""dhxwin_resize"";g.obj.style.zIndex=e.win.style.zIndex;g.obj.style.cursor=g.mode+""-resize"";a.wins.vp.appendChild(g.obj);if(a.wins.conf.fr_cover==true){g.objFR=document.createElement(""IFRAME"");g.objFR.className=""dhxwin_resize_fr_cover"";g.objFR.style.zIndex=g.obj.style.zIndex;a.wins.vp.insertBefore(g.objFR,g.obj)}g.rx=e.conf.x;g.ry=e.conf.y;g.rw=e.conf.w;g.rh=e.conf.h;g=null};this._rAdjustSizer=function(){var e=a.conf.resize;if(!e.obj){this._rInitSizer()}e.obj.style.width=e.rw+""px"";e.obj.style.height=e.rh+""px"";if(e.rx!=null){e.obj.style.left=e.rx+""px""}if(e.ry!=null){e.obj.style.top=e.ry+""px""}if(e.objFR!=null){e.objFR.style.width=e.obj.style.width;e.objFR.style.height=e.obj.style.height;if(e.rx!=null){e.objFR.style.left=e.obj.style.left}if(e.ry!=null){e.objFR.style.top=e.obj.style.top}}e=null};if(typeof(window.addEventListener)==""function""){this.wins.w[this._idd].brd.addEventListener(""mousemove"",this._rOnCellMouseMove,false);this.wins.w[this._idd].brd.addEventListener(""mousedown"",this._rOnCellMouseDown,false)}else{this.wins.w[this._idd].brd.attachEvent(""onmousemove"",this._rOnCellMouseMove);this.wins.w[this._idd].brd.attachEvent(""onmousedown"",this._rOnCellMouseDown)}this._unloadResize=function(){if(typeof(window.addEventListener)==""function""){this.wins.w[this._idd].brd.removeEventListener(""mousemove"",this._rOnCellMouseMove,false);this.wins.w[this._idd].brd.removeEventListener(""mousedown"",this._rOnCellMouseDown,false)}else{this.wins.w[this._idd].brd.detachEvent(""onmousemove"",this._rOnCellMouseMove);this.wins.w[this._idd].brd.detachEvent(""onmousedown"",this._rOnCellMouseDown)}this._initResize=null;this._rOnCellMouseMove=null;this._rOnCellMouseDown=null;this._rOnWinMouseMove=null;this._rOnWinMouseUp=null;this._rOnSelectStart=null;this._rInitSizer=null;this._rAdjustSizer=null;this._unloadResize=null;this.conf.resize=null;a=null}};dhtmlXWindows.prototype.attachContextMenu=function(a){return this._renderContextMenu(""icon"",null,null,a)};dhtmlXWindows.prototype.getContextMenu=function(){if(this.cm!=null&&this.cm.global!=null){return this.cm.global}return null};dhtmlXWindows.prototype.detachContextMenu=function(){this._detachContextMenu(""icon"",null,null)};dhtmlXWindowsCell.prototype.attachContextMenu=function(a){return this.wins._renderContextMenu(""icon"",this._idd,null,a)};dhtmlXWindowsCell.prototype.getContextMenu=function(){if(this.wins.cm!=null&&this.wins.cm.icon[this._idd]!=null){return this.wins.cm.icon[this._idd]}return null};dhtmlXWindowsCell.prototype.detachContextMenu=function(){this.wins._detachContextMenu(""icon"",this._idd,null)};dhtmlXWindowsButton.prototype.attachContextMenu=function(a){return this.conf.wins._renderContextMenu(""button"",this.conf.winId,this.conf.name,a)};dhtmlXWindowsButton.prototype.getContextMenu=function(){if(this.conf.wins.cm==null||this.conf.wins.cm.button[this.conf.winId]==null){return null}if(this.conf.wins.cm.button[this.conf.winId][this.conf.name]!=null){return this.conf.wins.cm.button[this.conf.winId][this.conf.name]}return null};dhtmlXWindowsButton.prototype.detachContextMenu=function(){this.conf.wins._detachContextMenu(""button"",this.conf.winId,this.conf.name)};dhtmlXWindows.prototype._renderContextMenu=function(m,l,e,c){var g=this;var a=false;if(this.cm==null){this.cm={global:null,icon:{},button:{}};a=true}if(l==null){if(this.cm.global!=null){return}}else{if(m==""icon""){if(this.cm.icon[l]!=null){return}}else{if(m==""button""){if(this.cm.button[l]!=null&&this.cm.button[l][e]!=null){return}}}}if(c==null){c={}}c.parent=null;c.context=true;var h=new dhtmlXMenuObject(c);h.setAutoHideMode(false);h.attachEvent(""onShow"",function(){this.conf.wins_menu_open=true});h.attachEvent(""onHide"",function(){this.conf.wins_menu_open=false;g.conf.opened_menu=null});if(l==null){this.cm.global=h}else{if(m==""icon""){this.cm.icon[l]=h}else{if(m==""button""){if(this.cm.button[l]==null){this.cm.button[l]={}}this.cm.button[l][e]=h}}}if(a){this._showContextMenu=function(r,q){if(r.button>=2){return}if(q.mode==""icon""&&q.id!=null&&q.press_type==""mousedown""){var s=this.cm.icon[q.id]||this.cm.global;if(s==null){return}r.cancelBubble=true;var o=this.w[q.id].hdr.firstChild;if(s.conf.wins_menu_open&&this.conf.opened_menu==q.id){s.hideContextMenu()}else{this._hideContextMenu();s.showContextMenu(window.dhx4.absLeft(o),window.dhx4.absTop(o)+o.offsetHeight);this.conf.opened_menu=q.id}s=o=null}if(q.mode==""button""&&q.id!=null&&q.press_type==""mousedown""){if(this.cm.button[q.id]==null||this.cm.button[q.id][q.button_name]==null){return}r.cancelBubble=true;this.conf.button_last=null;var s=this.cm.button[q.id][q.button_name];var n=this.w[q.id].b[q.button_name].button;if(s.conf.wins_menu_open&&this.conf.opened_menu==q.id){s.hideContextMenu()}else{this._hideContextMenu();s.showContextMenu(window.dhx4.absLeft(n),window.dhx4.absTop(n)+n.offsetHeight);this.conf.opened_menu=q.id}s=n=null}};this._hideContextMenu=function(s){if(s!=null){s=s||event;if(s.type==""keydown""&&s.keyCode!=27){return}var r=s.target||s.srcElement;var o=true;while(r!=null&&o==true){if(r.className!=null&&r.className.search(/SubLevelArea_Polygon/)>=0){o=false}else{r=r.parentNode}}}if(o||s==null){if(g.cm.global!=null){g.cm.global.hideContextMenu()}for(var q in g.cm.icon){if(g.cm.icon[q]!=null){g.cm.icon[q].hideContextMenu()}}for(var q in g.cm.button){for(var n in g.cm.button[q]){if(g.cm.button[q][n]!=null){g.cm.button[q][n].hideContextMenu()}}}}};this._detachContextMenu=function(q,o,n){if(this.cm==null){return}if(o==null){if(this.cm.global!=null){this.cm.global.unload();this.cm.global=null}}else{if(q==""icon""){if(this.cm.icon[o]!=null){this.cm.icon[o].unload();this.cm.icon[o]=null}}else{if(q==""button""){if(this.cm.button[o]!=null&&this.cm.button[o][n]!=null){this.cm.button[o][n].unload();this.cm.button[o][n]=null}}}}};this.attachEvent(""_winMouseDown"",this._showContextMenu);if(typeof(window.addEventListener)==""function""){window.addEventListener(""mousedown"",this._hideContextMenu,false);window.addEventListener(""keydown"",this._hideContextMenu,false)}else{document.body.attachEvent(""onmousedown"",this._hideContextMenu);document.body.attachEvent(""onkeydown"",this._hideContextMenu)}this._unloadContextMenu=function(){this._detachContextMenu(""icon"",null,null);this.cm=null;if(typeof(window.addEventListener)==""function""){window.removeEventListener(""mousedown"",this._hideContextMenu,false);window.removeEventListener(""keydown"",this._hideContextMenu,false)}else{document.body.detachEvent(""onmousedown"",this._hideContextMenu);document.body.detachEvent(""onkeydown"",this._hideContextMenu)}g=null}}return h};if(!window.dhtmlx){window.dhtmlx={}}(function(){var q=null;function s(y,w){var x=y.callback;r(false);y.box.parentNode.removeChild(y.box);q=y.box=null;if(x){x(w)}}function a(x){if(q){x=x||event;var w=x.which||event.keyCode;if(dhtmlx.message.keyboard){if(w==13||w==32){s(q,true)}if(w==27){s(q,false)}}if(x.preventDefault){x.preventDefault()}return !(x.cancelBubble=true)}}if(document.attachEvent){document.attachEvent(""onkeydown"",a)}else{document.addEventListener(""keydown"",a,true)}function r(x){if(!r.cover){r.cover=document.createElement(""DIV"");r.cover.onkeydown=a;r.cover.className=""dhx_modal_cover"";document.body.appendChild(r.cover)}var w=document.body.scrollHeight;r.cover.style.display=x?""inline-block"":""none""}function l(x,w){return""<div class='dhtmlx_popup_button' result='""+w+""' ><div>""+x+""</div></div>""}function e(x){if(!u.area){u.area=document.createElement(""DIV"");u.area.className=""dhtmlx_message_area"";u.area.style[u.position]=""5px"";document.body.appendChild(u.area)}u.hide(x.id);var w=document.createElement(""DIV"");w.innerHTML=""<div>""+x.text+""</div>"";w.className=""dhtmlx-info dhtmlx-""+x.type;w.onclick=function(){if(x){u.hide(x.id)}x=null};if(u.position==""bottom""&&u.area.firstChild){u.area.insertBefore(w,u.area.firstChild)}else{u.area.appendChild(w)}if(x.expire>0){u.timers[x.id]=window.setTimeout(function(){u.hide(x.id)},x.expire)}u.pull[x.id]=w;w=null;return x.id}function m(x,A,E){var D=document.createElement(""DIV"");D.className="" dhtmlx_modal_box dhtmlx-""+x.type;D.setAttribute(""dhxbox"",1);var w="""";if(x.width){D.style.width=x.width}if(x.height){D.style.height=x.height}if(x.title){w+='<div class=""dhtmlx_popup_title"">'+x.title+""</div>""}w+='<div class=""dhtmlx_popup_text""><span>'+(x.content?"""":x.text)+'</span></div><div  class=""dhtmlx_popup_controls"">';if(A){w+=l(x.ok||""OK"",true)}if(E){w+=l(x.cancel||""Cancel"",false)}if(x.buttons){for(var y=0;y<x.buttons.length;y++){w+=l(x.buttons[y],y)}}w+=""</div>"";D.innerHTML=w;if(x.content){var C=x.content;if(typeof C==""string""){C=document.getElementById(C)}if(C.style.display==""none""){C.style.display=""""}D.childNodes[x.title?1:0].appendChild(C)}D.onclick=function(I){I=I||event;var H=I.target||I.srcElement;if(!H.className){H=H.parentNode}if(H.className==""dhtmlx_popup_button""){var F=H.getAttribute(""result"");F=(F==""true"")||(F==""false""?false:F);s(x,F)}};x.box=D;if(A||E){q=x}return D}function v(A,C,E){var D=A.tagName?A:m(A,C,E);if(!A.hidden){r(true)}document.body.appendChild(D);var w=A.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-D.offsetWidth)/2));var F=A.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-D.offsetHeight)/2));if(A.position==""top""){D.style.top=""-3px""}else{D.style.top=F+""px""}D.style.left=w+""px"";D.onkeydown=a;D.focus();if(A.hidden){dhtmlx.modalbox.hide(D)}return D}function o(w){return v(w,true,false)}function c(w){return v(w,true,true)}function h(w){return v(w)}function n(x,w,y){if(typeof x!=""object""){if(typeof w==""function""){y=w;w=""""}x={text:x,type:w,callback:y}}return x}function g(y,x,w,A){if(typeof y!=""object""){y={text:y,type:x,expire:w,id:A}}y.id=y.id||u.uid();y.expire=y.expire||u.expire;return y}dhtmlx.alert=function(){var w=n.apply(this,arguments);w.type=w.type||""confirm"";return o(w)};dhtmlx.confirm=function(){var w=n.apply(this,arguments);w.type=w.type||""alert"";return c(w)};dhtmlx.modalbox=function(){var w=n.apply(this,arguments);w.type=w.type||""alert"";return h(w)};dhtmlx.modalbox.hide=function(w){while(w&&w.getAttribute&&!w.getAttribute(""dhxbox"")){w=w.parentNode}if(w){w.parentNode.removeChild(w);r(false);q=null}};var u=dhtmlx.message=function(A,y,x,C){A=g.apply(this,arguments);A.type=A.type||""info"";var w=A.type.split(""-"")[0];switch(w){case""alert"":return o(A);case""confirm"":return c(A);case""modalbox"":return h(A);default:return e(A);break}};u.seed=(new Date()).valueOf();u.uid=function(){return u.seed++};u.expire=4000;u.keyboard=true;u.position=""top"";u.pull={};u.timers={};u.hideAll=function(){for(var w in u.pull){u.hide(w)}};u.hide=function(x){var w=u.pull[x];if(w&&w.parentNode){window.setTimeout(function(){w.parentNode.removeChild(w);w=null},2000);w.className+="" hidden"";if(u.timers[x]){window.clearTimeout(u.timers[x])}delete u.pull[x]}}})();if(!window.dhx){dhx={}}dhx.assert=function(c,a){if(!c){dhx.assert_error(a)}};dhx.assert_error=function(message){dhx.log(""error"",message);if(dhx.message&&typeof message==""string""){dhx.message({type:""debug"",text:message,expire:-1})}if(dhx.debug!==false){eval(""debugger;"")}};dhx.assert_core_ready=function(){if(window.dhx_on_core_ready){dhx_on_core_ready()}};dhx.codebase=""./"";dhx.name=""Core"";dhx.clone=function(c){var a=dhx.clone._function;a.prototype=c;return new a()};dhx.clone._function=function(){};dhx.extend=function(e,c,a){dhx.assert(e,""Invalid mixing target"");dhx.assert(c,""Invalid mixing source"");if(e._dhx_proto_wait){dhx.PowerArray.insertAt.call(e._dhx_proto_wait,c,1);return e}for(var g in c){if(!e[g]||a){e[g]=c[g]}}if(c.defaults){dhx.extend(e.defaults,c.defaults)}if(c.$init){c.$init.call(e)}return e};dhx.copy=function(a){dhx.assert(a,""Invalid mixing target"");if(arguments.length>1){var c=arguments[0];a=arguments[1]}else{var c=(dhx.isArray(a)?[]:{})}for(var e in a){if(a[e]&&typeof a[e]==""object""&&!dhx.isDate(a[e])){c[e]=(dhx.isArray(a[e])?[]:{});dhx.copy(c[e],a[e])}else{c[e]=a[e]}}return c};dhx.single=function(e){var a=null;var c=function(g){if(!a){a=new e({})}if(a._reinit){a._reinit.apply(a,arguments)}return a};return c};dhx.protoUI=function(){if(dhx.debug_proto){dhx.log(""UI registered: ""+arguments[0].name)}var e=arguments;var a=e[0].name;var c=function(h){if(!c){return dhx.ui[a].prototype}var m=c._dhx_proto_wait;if(m){var l=[m[0]];for(var g=1;g<m.length;g++){l[g]=m[g];if(l[g]._dhx_proto_wait){l[g]=l[g].call(dhx,l[g].name)}if(l[g].prototype&&l[g].prototype.name){dhx.ui[l[g].prototype.name]=l[g]}}dhx.ui[a]=dhx.proto.apply(dhx,l);if(c._dhx_type_wait){for(var g=0;g<c._dhx_type_wait.length;g++){dhx.Type(dhx.ui[a],c._dhx_type_wait[g])}}c=m=null}if(this!=dhx){return new dhx.ui[a](h)}else{return dhx.ui[a]}};c._dhx_proto_wait=Array.prototype.slice.call(arguments,0);return dhx.ui[a]=c};dhx.proto=function(){if(dhx.debug_proto){dhx.log(""Proto chain:""+arguments[0].name+""[""+arguments.length+""]"")}var l=arguments;var h=l[0];var c=!!h.$init;var n=[];dhx.assert(h,""Invalid mixing target"");for(var g=l.length-1;g>0;g--){dhx.assert(l[g],""Invalid mixing source"");if(typeof l[g]==""function""){l[g]=l[g].prototype}if(l[g].$init){n.push(l[g].$init)}if(l[g].defaults){var e=l[g].defaults;if(!h.defaults){h.defaults={}}for(var a in e){if(dhx.isUndefined(h.defaults[a])){h.defaults[a]=e[a]}}}if(l[g].type&&h.type){for(var a in l[g].type){if(!h.type[a]){h.type[a]=l[g].type[a]}}}for(var m in l[g]){if(!h[m]){h[m]=l[g][m]}}}if(c){n.push(h.$init)}h.$init=function(){for(var q=0;q<n.length;q++){n[q].apply(this,arguments)}};var o=function(q){this.$ready=[];dhx.assert(this.$init,""object without init method"");this.$init(q);if(this._parseSettings){this._parseSettings(q,this.defaults)}for(var r=0;r<this.$ready.length;r++){this.$ready[r].call(this)}};o.prototype=h;h=l=null;return o};dhx.bind=function(c,a){return function(){return c.apply(a,arguments)}};dhx.require=function(c,n,m){if(typeof c!=""string""){var l=c.length||0;var h=n;if(!l){for(var a in c){l++}n=function(){l--;if(l===0){h.apply(this,arguments)}};for(var a in c){dhx.require(a,n,m)}}else{n=function(){if(l){l--;dhx.require(c[c.length-l-1],n,m)}else{return h.apply(this,arguments)}};n()}return}if(dhx._modules[c]!==true){if(c.substr(-4)=="".css""){var g=dhx.html.create(""LINK"",{type:""text/css"",rel:""stylesheet"",href:dhx.codebase+c});document.head.appendChild(g);if(n){n.call(m||window)}return}var e=arguments[4];if(!n){dhx.exec(dhx.ajax().sync().get(dhx.codebase+c).responseText);dhx._modules[c]=true}else{if(!dhx._modules[c]){dhx._modules[c]=[[n,m]];dhx.ajax(dhx.codebase+c,function(r){dhx.exec(r);var q=dhx._modules[c];dhx._modules[c]=true;for(var o=0;o<q.length;o++){q[o][0].call(q[o][1]||window,!o)}})}else{dhx._modules[c].push([n,m])}}}};dhx._modules={};dhx.exec=function(code){if(window.execScript){window.execScript(code)}else{window.eval(code)}};dhx.wrap=function(c,a){if(!c){return a}return function(){var e=c.apply(this,arguments);a.apply(this,arguments);return e}};dhx.isUndefined=function(c){return typeof c==""undefined""};dhx.delay=function(g,c,e,a){return window.setTimeout(function(){var h=g.apply(c,(e||[]));g=c=e=null;return h},a||1)};dhx.uid=function(){if(!this._seed){this._seed=(new Date).valueOf()}this._seed++;return this._seed};dhx.toNode=function(a){if(typeof a==""string""){return document.getElementById(a)}return a};dhx.toArray=function(a){return dhx.extend((a||[]),dhx.PowerArray,true)};dhx.toFunctor=function(str){return(typeof(str)==""string"")?eval(str):str};dhx.isArray=function(a){return Array.isArray?Array.isArray(a):(Object.prototype.toString.call(a)===""[object Array]"")};dhx.isDate=function(a){return a instanceof Date};dhx._events={};dhx.event=function(g,e,a,c){g=dhx.toNode(g);var h=dhx.uid();if(c){a=dhx.bind(a,c)}dhx._events[h]=[g,e,a];if(g.addEventListener){g.addEventListener(e,a,false)}else{if(g.attachEvent){g.attachEvent(""on""+e,a)}}return h};dhx.eventRemove=function(c){if(!c){return}dhx.assert(this._events[c],""Removing non-existing event"");var a=dhx._events[c];if(a[0].removeEventListener){a[0].removeEventListener(a[1],a[2],false)}else{if(a[0].detachEvent){a[0].detachEvent(""on""+a[1],a[2])}}delete this._events[c]};dhx.log=function(c,e,a){if(arguments.length==1){e=c;c=""log""}if(window.console&&console.log){c=c.toLowerCase();if(window.console[c]){window.console[c](e||""unknown error"")}else{window.console.log(c+"": ""+e)}if(a){window.console.log(a)}}};dhx.log_full_time=function(a){dhx._start_time_log=new Date();dhx.log(""Timing start [""+a+""]"");window.setTimeout(function(){var c=new Date();dhx.log(""Timing end [""+a+""]:""+(c.valueOf()-dhx._start_time_log.valueOf())/1000+""s"")},1)};dhx.log_time=function(a){var e=""_start_time_log""+a;if(!dhx[e]){dhx[e]=new Date();dhx.log(""Info"",""Timing start [""+a+""]"")}else{var c=new Date();dhx.log(""Info"",""Timing end [""+a+""]:""+(c.valueOf()-dhx[e].valueOf())/1000+""s"");dhx[e]=null}};dhx.debug_code=function(a){a.call(dhx)};dhx.EventSystem={$init:function(){if(!this._evs_events){this._evs_events={};this._evs_handlers={};this._evs_map={}}},blockEvent:function(){this._evs_events._block=true},unblockEvent:function(){this._evs_events._block=false},mapEvent:function(a){dhx.extend(this._evs_map,a,true)},on_setter:function(a){if(a){for(var c in a){if(typeof a[c]==""function""){this.attachEvent(c,a[c])}}}},callEvent:function(e,h){if(this._evs_events._block){return true}e=e.toLowerCase();var g=this._evs_events[e.toLowerCase()];var a=true;if(dhx.debug){dhx.log(""info"",""[""+this.name+""] event:""+e,h)}if(g){for(var c=0;c<g.length;c++){if(g[c].apply(this,(h||[]))===false){a=false}}}if(this._evs_map[e]&&!this._evs_map[e].callEvent(e,h)){a=false}return a},attachEvent:function(c,a,g){dhx.assert(a,""Invalid event handler for ""+c);c=c.toLowerCase();g=g||dhx.uid();a=dhx.toFunctor(a);var e=this._evs_events[c]||dhx.toArray();e.push(a);this._evs_events[c]=e;this._evs_handlers[g]={f:a,t:c};return g},detachEvent:function(g){if(!this._evs_handlers[g]){return}var c=this._evs_handlers[g].t;var a=this._evs_handlers[g].f;var e=this._evs_events[c];e.remove(a);delete this._evs_handlers[g]},hasEvent:function(a){a=a.toLowerCase();return this._evs_events[a]?true:false}};dhx.extend(dhx,dhx.EventSystem);dhx.PowerArray={removeAt:function(c,a){if(c>=0){this.splice(c,(a||1))}},remove:function(a){this.removeAt(this.find(a))},insertAt:function(c,e){if(!e&&e!==0){this.push(c)}else{var a=this.splice(e,(this.length-e));this[e]=c;this.push.apply(this,a)}},find:function(c){for(var a=0;a<this.length;a++){if(c==this[a]){return a}}return -1},each:function(a,e){for(var c=0;c<this.length;c++){a.call((e||this),this[c])}},map:function(a,e){for(var c=0;c<this.length;c++){this[c]=a.call((e||this),this[c])}return this},filter:function(a,e){for(var c=0;c<this.length;c++){if(!a.call((e||this),this[c])){this.splice(c,1);c--}}return this}};dhx.env={};(function(){if(navigator.userAgent.indexOf(""Mobile"")!=-1){dhx.env.mobile=true}if(dhx.env.mobile||navigator.userAgent.indexOf(""iPad"")!=-1||navigator.userAgent.indexOf(""Android"")!=-1){dhx.env.touch=true}if(navigator.userAgent.indexOf(""Opera"")!=-1){dhx.env.isOpera=true}else{dhx.env.isIE=!!document.all;dhx.env.isFF=!document.all;dhx.env.isWebKit=(navigator.userAgent.indexOf(""KHTML"")!=-1);dhx.env.isSafari=dhx.env.isWebKit&&(navigator.userAgent.indexOf(""Mac"")!=-1)}if(navigator.userAgent.toLowerCase().indexOf(""android"")!=-1){dhx.env.isAndroid=true}dhx.env.transform=false;dhx.env.transition=false;var e={};e.names=[""transform"",""transition""];e.transform=[""transform"",""WebkitTransform"",""MozTransform"",""OTransform"",""msTransform""];e.transition=[""transition"",""WebkitTransition"",""MozTransition"",""OTransition"",""msTransition""];var m=document.createElement(""DIV"");for(var h=0;h<e.names.length;h++){var g=e[e.names[h]];for(var c=0;c<g.length;c++){if(typeof m.style[g[c]]!=""undefined""){dhx.env[e.names[h]]=g[c];break}}}m.style[dhx.env.transform]=""translate3d(0,0,0)"";dhx.env.translate=(m.style[dhx.env.transform])?""translate3d"":""translate"";var l="""";var a=false;if(dhx.env.isOpera){l=""-o-"";a=""O""}if(dhx.env.isFF){l=""-Moz-""}if(dhx.env.isWebKit){l=""-webkit-""}if(dhx.env.isIE){l=""-ms-""}dhx.env.transformCSSPrefix=l;dhx.env.transformPrefix=a||(dhx.env.transformCSSPrefix.replace(/-/gi,""""));dhx.env.transitionEnd=((dhx.env.transformCSSPrefix==""-Moz-"")?""transitionend"":(dhx.env.transformPrefix+""TransitionEnd""))})();dhx.env.svg=(function(){return document.implementation.hasFeature(""http://www.w3.org/TR/SVG11/feature#BasicStructure"",""1.1"")})();dhx.html={_native_on_selectstart:0,denySelect:function(){if(!dhx._native_on_selectstart){dhx._native_on_selectstart=document.onselectstart}document.onselectstart=dhx.html.stopEvent},allowSelect:function(){if(dhx._native_on_selectstart!==0){document.onselectstart=dhx._native_on_selectstart||null}dhx._native_on_selectstart=0},index:function(c){var a=0;while(c=c.previousSibling){a++}return a},_style_cache:{},createCss:function(e){var g="""";for(var c in e){g+=c+"":""+e[c]+"";""}var a=this._style_cache[g];if(!a){a=""s""+dhx.uid();this.addStyle("".""+a+""{""+g+""}"");this._style_cache[g]=a}return a},addStyle:function(c){var a=document.createElement(""style"");a.setAttribute(""type"",""text/css"");a.setAttribute(""media"",""screen"");if(a.styleSheet){a.styleSheet.cssText=c}else{a.appendChild(document.createTextNode(c))}document.getElementsByTagName(""head"")[0].appendChild(a)},create:function(c,a,e){a=a||{};var g=document.createElement(c);for(var h in a){g.setAttribute(h,a[h])}if(a.style){g.style.cssText=a.style}if(a[""class""]){g.className=a[""class""]}if(e){g.innerHTML=e}return g},getValue:function(a){a=dhx.toNode(a);if(!a){return""""}return dhx.isUndefined(a.value)?a.innerHTML:a.value},remove:function(c){if(c instanceof Array){for(var a=0;a<c.length;a++){this.remove(c[a])}}else{if(c&&c.parentNode){c.parentNode.removeChild(c)}}},insertBefore:function(c,e,a){if(!c){return}if(e&&e.parentNode){e.parentNode.insertBefore(c,e)}else{a.appendChild(c)}},locate:function(c,h){if(c.tagName){var a=c}else{c=c||event;var a=c.target||c.srcElement}while(a){if(a.getAttribute){var g=a.getAttribute(h);if(g){return g}}a=a.parentNode}return null},offset:function(g){if(g.getBoundingClientRect){var m=g.getBoundingClientRect();var n=document.body;var c=document.documentElement;var a=window.pageYOffset||c.scrollTop||n.scrollTop;var h=window.pageXOffset||c.scrollLeft||n.scrollLeft;var l=c.clientTop||n.clientTop||0;var o=c.clientLeft||n.clientLeft||0;var q=m.top+a-l;var e=m.left+h-o;return{y:Math.round(q),x:Math.round(e)}}else{var q=0,e=0;while(g){q=q+parseInt(g.offsetTop,10);e=e+parseInt(g.offsetLeft,10);g=g.offsetParent}return{y:q,x:e}}},posRelative:function(a){a=a||event;if(!dhx.isUndefined(a.offsetX)){return{x:a.offsetX,y:a.offsetY}}else{return{x:a.layerX,y:a.layerY}}},pos:function(a){a=a||event;if(a.pageX||a.pageY){return{x:a.pageX,y:a.pageY}}var c=((dhx.env.isIE)&&(document.compatMode!=""BackCompat""))?document.documentElement:document.body;return{x:a.clientX+c.scrollLeft-c.clientLeft,y:a.clientY+c.scrollTop-c.clientTop}},preventEvent:function(a){if(a&&a.preventDefault){a.preventDefault()}return dhx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=true;return false},addCss:function(c,a){c.className+="" ""+a},removeCss:function(c,a){c.className=c.className.replace(RegExp("" ""+a,""g""),"""")}};dhx.ready=function(a){if(this._ready){a.call()}else{this._ready_code.push(a)}};dhx._ready_code=[];(function(){var a=document.getElementsByTagName(""SCRIPT"");dhx.assert(a.length,""Can't locate codebase"");if(a.length){a=(a[a.length-1].getAttribute(""src"")||"""").split(""/"");a.splice(a.length-1,1);dhx.codebase=a.slice(0,a.length).join(""/"")+""/""}dhx.event(window,""load"",function(){dhx4.callEvent(""onReady"",[]);dhx.delay(function(){dhx._ready=true;for(var c=0;c<dhx._ready_code.length;c++){dhx._ready_code[c].call()}dhx._ready_code=[]})})})();dhx.locale=dhx.locale||{};dhx.assert_core_ready();dhx.ready(function(){dhx.event(document.body,""click"",function(a){dhx4.callEvent(""onClick"",[a||event])})});(function(){var e={};var c=new RegExp(""(\\r\\n|\\n)"",""g"");var a=new RegExp('(\\"")',""g"");dhx.Template=function(h){if(typeof h==""function""){return h}if(e[h]){return e[h]}h=(h||"""").toString();if(h.indexOf(""->"")!=-1){h=h.split(""->"");switch(h[0]){case""html"":h=dhx.html.getValue(h[1]);break;case""http"":h=new dhx.ajax().sync().get(h[1],{uid:dhx.uid()}).responseText;break;default:break}}h=(h||"""").toString();h=h.replace(c,""\\n"");h=h.replace(a,'\\""');h=h.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'""+(obj.$1?""$2"":""$3"")+""');h=h.replace(/\{common\.([^}\(]*)\}/g,""\""+(common.$1||'')+\"""");h=h.replace(/\{common\.([^\}\(]*)\(\)\}/g,'""+(common.$1?common.$1.apply(this, arguments):"""")+""');h=h.replace(/\{obj\.([^}]*)\}/g,'""+(obj.$1)+""');h=h.replace(""{obj}"",'""+obj+""');h=h.replace(/#([^#'"";, ]+)#/gi,'""+(obj.$1)+""');try{e[h]=Function(""obj"",""common"",'return ""'+h+'"";')}catch(g){dhx.assert_error(""Invalid template:""+h)}return e[h]};dhx.Template.empty=function(){return""""};dhx.Template.bind=function(g){return dhx.bind(dhx.Template(g),this)};dhx.Type=function(n,m){if(n._dhx_proto_wait){if(!n._dhx_type_wait){n._dhx_type_wait=[]}n._dhx_type_wait.push(m);return}if(typeof n==""function""){n=n.prototype}if(!n.types){n.types={""default"":n.type};n.type.name=""default""}var g=m.name;var l=n.type;if(g){l=n.types[g]=dhx.clone(m.baseType?n.types[m.baseType]:n.type)}for(var h in m){if(h.indexOf(""template"")===0){l[h]=dhx.Template(m[h])}else{l[h]=m[h]}}return g}})();dhx.Settings={$init:function(){this._settings=this.config={}},define:function(c,a){if(typeof c==""object""){return this._parseSeetingColl(c)}return this._define(c,a)},_define:function(c,a){var e=this[c+""_setter""];return this._settings[c]=e?e.call(this,a,c):a},_parseSeetingColl:function(e){if(e){for(var c in e){this._define(c,e[c])}}},_parseSettings:function(e,a){var c={};if(a){c=dhx.extend(c,a)}if(typeof e==""object""&&!e.tagName){dhx.extend(c,e,true)}this._parseSeetingColl(c)},_mergeSettings:function(a,e){for(var c in e){switch(typeof a[c]){case""object"":a[c]=this._mergeSettings((a[c]||{}),e[c]);break;case""undefined"":a[c]=e[c];break;default:break}}return a},debug_freid_c_id:true,debug_freid_a_name:true};dhx.ajax=function(a,c,e){if(arguments.length!==0){var g=new dhx.ajax();if(e){g.master=e}return g.get(a,null,c)}if(!this.getXHR){return new dhx.ajax()}return this};dhx.ajax.count=0;dhx.ajax.prototype={master:null,getXHR:function(){if(dhx.env.isIE){return new ActiveXObject(""Microsoft.xmlHTTP"")}else{return new XMLHttpRequest()}},send:function(h,o,m){var c=this.getXHR();if(!dhx.isArray(m)){m=[m]}if(typeof o==""object""){var l=[];for(var e in o){var n=o[e];if(n===null||n===dhx.undefined){n=""""}l.push(e+""=""+encodeURIComponent(n))}o=l.join(""&"")}if(o&&this.request===""GET""){h=h+(h.indexOf(""?"")!=-1?""&"":""?"")+o;o=null}c.open(this.request,h,!this._sync);if(this.request===""POST""){c.setRequestHeader(""Content-type"",""application/x-www-form-urlencoded"")}var g=this;c.onreadystatechange=function(){if(!c.readyState||c.readyState==4){if(dhx.debug_time){dhx.log_full_time(""data_loading"")}dhx.ajax.count++;if(m&&g){for(var a=0;a<m.length;a++){if(m[a]){var q=(m[a].success||m[a]);if(c.status>=400||(!c.status&&!c.responseText)){q=m[a].error}if(q){q.call((g.master||g),c.responseText,c.responseXML,c)}}}}if(g){g.master=null}m=g=null}};c.send(o||null);return c},get:function(a,e,c){if(arguments.length==2){c=e;e=null}this.request=""GET"";return this.send(a,e,c)},post:function(a,e,c){this.request=""POST"";return this.send(a,e,c)},put:function(a,e,c){this.request=""PUT"";return this.send(a,e,c)},del:function(a,e,c){this.request=""DELETE"";return this.send(a,e,c)},sync:function(){this._sync=true;return this},bind:function(a){this.master=a;return this}};dhx.send=function(e,c,m,l){var g=dhx.html.create(""FORM"",{target:(l||""_self""),action:e,method:(m||""POST"")},"""");for(var a in c){var h=dhx.html.create(""INPUT"",{type:""hidden"",name:a,value:c[a]},"""");g.appendChild(h)}g.style.display=""none"";document.body.appendChild(g);g.submit();document.body.removeChild(g)};dhx.AtomDataLoader={$init:function(a){this.data={};if(a){this._settings.datatype=a.datatype||""json"";this.$ready.push(this._load_when_ready)}},_load_when_ready:function(){this._ready_for_data=true;if(this._settings.url){this.url_setter(this._settings.url)}if(this._settings.data){this.data_setter(this._settings.data)}},url_setter:function(a){if(!this._ready_for_data){return a}this.load(a,this._settings.datatype);return a},data_setter:function(a){if(!this._ready_for_data){return a}this.parse(a,this._settings.datatype);return true},debug_freid_c_datatype:true,debug_freid_c_dataFeed:true,load:function(a,c){if(a.$proxy){a.load(this,typeof c==""string""?c:""json"");return}this.callEvent(""onXLS"",[]);if(typeof c==""string""){this.data.driver=dhx.DataDriver[c];c=arguments[2]}else{if(!this.data.driver){this.data.driver=dhx.DataDriver.json}}var e=[{success:this._onLoad,error:this._onLoadError}];if(c){if(dhx.isArray(c)){e.push.apply(e,c)}else{e.push(c)}}return dhx.ajax(a,e,this)},parse:function(c,a){this.callEvent(""onXLS"",[]);this.data.driver=dhx.DataDriver[a||""json""];this._onLoad(c,null)},_onLoad:function(m,c,a,e){var h=this.data.driver;var g=h.toObject(m,c);if(g){var l=h.getRecords(g)[0];this.data=(h?h.getDetails(l):m)}else{this._onLoadError(m,c,a)}this.callEvent(""onXLE"",[])},_onLoadError:function(e,a,c){this.callEvent(""onXLE"",[]);this.callEvent(""onLoadError"",arguments);dhx4.callEvent(""onLoadError"",[e,a,c,this])},_check_data_feed:function(c){if(!this._settings.dataFeed||this._ignore_feed||!c){return true}var a=this._settings.dataFeed;if(typeof a==""function""){return a.call(this,(c.id||c),c)}a=a+(a.indexOf(""?"")==-1?""?"":""&"")+""action=get&id=""+encodeURIComponent(c.id||c);this.callEvent(""onXLS"",[]);dhx.ajax(a,function(l,g,e){this._ignore_feed=true;var h=dhx.DataDriver.toObject(l,g);if(h){this.setValues(h.getDetails(h.getRecords()[0]))}else{this._onLoadError(l,g,e)}this._ignore_feed=false;this.callEvent(""onXLE"",[])},this);return false}};dhx.DataDriver={};dhx.DataDriver.json={toObject:function(data){if(!data){data=""[]""}if(typeof data==""string""){try{eval(""dhx.temp=""+data)}catch(e){dhx.assert_error(e);return null}data=dhx.temp}if(data.data){var t=data.data.config={};for(var key in data){if(key!=""data""){t[key]=data[key]}}data=data.data}return data},getRecords:function(a){if(a&&!dhx.isArray(a)){return[a]}return a},getDetails:function(a){if(typeof a==""string""){return{id:dhx.uid(),value:a}}return a},getInfo:function(c){var a=c.config;if(!a){return{}}return{_size:(a.total_count||0),_from:(a.pos||0),_parent:(a.parent||0),_config:(a.config),_key:(a.dhx_security)}},child:""data""};dhx.DataDriver.html={toObject:function(c){if(typeof c==""string""){var a=null;if(c.indexOf(""<"")==-1){a=dhx.toNode(c)}if(!a){a=document.createElement(""DIV"");a.innerHTML=c}return a.getElementsByTagName(this.tag)}return c},getRecords:function(c){var e=[];for(var a=0;a<c.childNodes.length;a++){var g=c.childNodes[a];if(g.nodeType==1){e.push(g)}}return e},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(a){return{_size:0,_from:0}},tag:""LI""};dhx.DataDriver.jsarray={toObject:function(data){if(typeof data==""string""){eval(""dhx.temp=""+data);return dhx.temp}return data},getRecords:function(a){return a},getDetails:function(e){var a={};for(var c=0;c<e.length;c++){a[""data""+c]=e[c]}return a},getInfo:function(a){return{_size:0,_from:0}}};dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(e){e=this.stringToArray(e);var a={};for(var c=0;c<e.length;c++){a[""data""+c]=e[c]}return a},getInfo:function(a){return{_size:0,_from:0}},stringToArray:function(c){c=c.split(this.cell);for(var a=0;a<c.length;a++){c[a]=c[a].replace(/^[ \t\n\r]*(\""|)/g,"""").replace(/(\""|)[ \t\n\r]*$/g,"""")}return c},row:""\n"",cell:"",""};dhx.DataDriver.xml={_isValidXML:function(a){if(!a||!a.documentElement){return null}if(a.getElementsByTagName(""parsererror"").length){return null}return a},toObject:function(e,a){if(this._isValidXML(c)){return c}if(typeof e==""string""){var c=this.fromString(e.replace(/^[\s]+/,""""))}else{c=e}if(this._isValidXML(c)){return c}return null},getRecords:function(a){return this.xpath(a,this.records)},records:""/*/item"",child:""item"",config:""/*/config"",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(c){var a=this.xpath(c,this.config);if(a.length){a=this.assignTypes(this.tagToObject(a[0],{}))}else{a=null}return{_size:(c.documentElement.getAttribute(""total_count"")||0),_from:(c.documentElement.getAttribute(""pos"")||0),_parent:(c.documentElement.getAttribute(""parent"")||0),_config:a,_key:(c.documentElement.getAttribute(""dhx_security"")||null)}},xpath:function(h,q){if(window.XPathResult){var g=h;if(h.nodeName.indexOf(""document"")==-1){h=h.ownerDocument}var n=[];var c=h.evaluate(q,g,null,XPathResult.ANY_TYPE,null);var o=c.iterateNext();while(o){n.push(o);o=c.iterateNext()}return n}else{var m=true;try{if(typeof(h.selectNodes)==""undefined""){m=false}}catch(l){}if(m){return h.selectNodes(q)}else{var a=q.split(""/"").pop();return h.getElementsByTagName(a)}}},assignTypes:function(c){for(var a in c){var e=c[a];if(typeof e==""object""){this.assignTypes(e)}else{if(typeof e==""string""){if(e===""""){continue}if(e==""true""){c[a]=true}else{if(e==""false""){c[a]=false}else{if(e==e*1){c[a]=c[a]*1}}}}}}return c},tagToObject:function(e,o){o=o||{};var h=false;var g=e.attributes;if(g&&g.length){for(var m=0;m<g.length;m++){o[g[m].name]=g[m].value}h=true}var c=e.childNodes;var n={};for(var m=0;m<c.length;m++){if(c[m].nodeType==1){var l=c[m].tagName;if(typeof o[l]!=""undefined""){if(!dhx.isArray(o[l])){o[l]=[o[l]]}o[l].push(this.tagToObject(c[m],{}))}else{o[c[m].tagName]=this.tagToObject(c[m],{})}h=true}}if(!h){return this.nodeValue(e)}o.value=o.value||this.nodeValue(e);return o},nodeValue:function(a){if(a.firstChild){return a.firstChild.data}return""""},fromString:function(g){try{if(window.DOMParser){return(new DOMParser()).parseFromString(g,""text/xml"")}if(window.ActiveXObject){var a=new ActiveXObject(""Microsoft.xmlDOM"");a.loadXML(g);return a}}catch(c){dhx.assert_error(c);return null}dhx.assert_error(""Load from xml string is not supported"")}};dhx.DataLoader=dhx.proto({$init:function(a){a=a||"""";this._ajax_queue=dhx.toArray();this.data=new dhx.DataStore();this.data.attachEvent(""onClearAll"",dhx.bind(this._call_onclearall,this));this.data.attachEvent(""onServerConfig"",dhx.bind(this._call_on_config,this));this.data.feed=this._feed},_feed:function(e,a,c){if(this._load_count){return this._load_count=[e,a,c]}else{this._load_count=true}this._feed_last=[e,a];this._feed_common.call(this,e,a,c)},_feed_common:function(g,c,e){var a=this.data.url;if(g<0){g=0}this.load(a+((a.indexOf(""?"")==-1)?""?"":""&"")+(this.dataCount()?(""continue=true&""):"""")+""start=""+g+""&count=""+c,[this._feed_callback,e])},_feed_callback:function(){var a=this._load_count;var c=this._feed_last;this._load_count=false;if(typeof a==""object""&&(a[0]!=c[0]||a[1]!=c[1])){this.data.feed.apply(this,a)}},load:function(a,c){var e=dhx.AtomDataLoader.load.apply(this,arguments);this._ajax_queue.push(e);if(!this.data.url){this.data.url=a}},loadNext:function(e,h,g,c,a){if(this._settings.datathrottle&&!a){if(this._throttle_request){window.clearTimeout(this._throttle_request)}this._throttle_request=dhx.delay(function(){this.loadNext(e,h,g,c,true)},this,0,this._settings.datathrottle);return}if(!h&&h!==0){h=this.dataCount()}this.data.url=this.data.url||c;if(this.callEvent(""onDataRequest"",[h,e,g,c])&&this.data.url){this.data.feed.call(this,h,e,g)}},_maybe_loading_already:function(c,e){var a=this._feed_last;if(this._load_count&&a){if(a[0]<=e&&(a[1]+a[0]>=c+e)){return true}}return false},_onLoad:function(g,c,a){this._ajax_queue.remove(a);var e=this.data.driver.toObject(g,c);if(e){this.data._parse(e)}else{return this._onLoadError(g,c,a)}this._call_onready();this.callEvent(""onXLE"",[])},removeMissed_setter:function(a){return this.data._removeMissed=a},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent(""onBeforeFilter"",dhx.bind(function(m,l){if(this._settings.dataFeed){var h={};if(!m&&!l){return}if(typeof m==""function""){if(!l){return}m(l,h)}else{h={text:l}}this.clearAll();var c=this._settings.dataFeed;var g=[];if(typeof c==""function""){return c.call(this,l,h)}for(var e in h){g.push(""dhx_filter[""+e+""]=""+encodeURIComponent(h[e]))}this.load(c+(c.indexOf(""?"")<0?""?"":""&"")+g.join(""&""),this._settings.datatype);return false}},this));return a},debug_freid_c_ready:true,debug_freid_c_datathrottle:true,_call_onready:function(){if(this._settings.ready&&!this._ready_was_used){var a=dhx.toFunctor(this._settings.ready);if(a){dhx.delay(a,this,arguments)}this._ready_was_used=true}},_call_onclearall:function(){for(var a=0;a<this._ajax_queue.length;a++){this._ajax_queue[a].abort()}this._ajax_queue=dhx.toArray()},_call_on_config:function(a){this._parseSeetingColl(a)}},dhx.AtomDataLoader);dhx.DataStore=function(){this.name=""DataStore"";dhx.extend(this,dhx.EventSystem);this.setDriver(""json"");this.pull={};this.order=dhx.toArray();this._marks={}};dhx.DataStore.prototype={setDriver:function(a){dhx.assert(dhx.DataDriver[a],""incorrect DataDriver"");this.driver=dhx.DataDriver[a]},_parse:function(e,a){this.callEvent(""onParse"",[this.driver,e]);if(this._filter_order){this.filter()}var g=this.driver.getInfo(e);if(g._key){dhx.securityKey=g._key}if(g._config){this.callEvent(""onServerConfig"",[g._config])}var c=this.driver.getRecords(e);this._inner_parse(g,c);if(this._scheme_group&&this._group_processing){this._group_processing(this._scheme_group)}if(this._scheme_sort){this.blockEvent();this.sort(this._scheme_sort);this.unblockEvent()}this.callEvent(""onStoreLoad"",[this.driver,e]);this.refresh()},_inner_parse:function(c,m){var o=(c._from||0)*1;var l=true;var n=false;if(o===0&&this.order[0]){if(this._removeMissed){n={};for(var g=0;g<this.order.length;g++){n[this.order[g]]=true}}l=false;o=this.order.length}var e=0;for(var g=0;g<m.length;g++){var q=this.driver.getDetails(m[g]);var a=this.id(q);if(!this.pull[a]){this.order[e+o]=a;e++}else{if(l&&this.order[e+o]){e++}}if(this.pull[a]){dhx.extend(this.pull[a],q,true);if(this._scheme_update){this._scheme_update(this.pull[a])}if(n){delete n[a]}}else{this.pull[a]=q;if(this._scheme_init){this._scheme_init(q)}}}if(n){this.blockEvent();for(var h in n){this.remove(h)}this.unblockEvent()}if(!this.order[c._size-1]){this.order[c._size-1]=dhx.undefined}},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(c,a){if(this.pull[c]){this.pull[a]=this.pull[c]}this.pull[a].id=a;this.order[this.order.find(c)]=a;if(this._filter_order){this._filter_order[this._filter_order.find(c)]=a}if(this._marks[c]){this._marks[a]=this._marks[c];delete this._marks[c]}this.callEvent(""onIdChange"",[c,a]);if(this._render_change_id){this._render_change_id(c,a)}delete this.pull[c]},item:function(a){return this.pull[a]},update:function(c,a){if(dhx.isUndefined(a)){a=this.item(c)}if(this._scheme_update){this._scheme_update(a)}if(this.callEvent(""onBeforeUpdate"",[c,a])===false){return false}this.pull[c]=a;this.callEvent(""onStoreUpdated"",[c,a,""update""])},refresh:function(a){if(this._skip_refresh){return}if(a){this.callEvent(""onStoreUpdated"",[a,this.pull[a],""paint""])}else{this.callEvent(""onStoreUpdated"",[null,null,null])}},silent:function(c,a){this._skip_refresh=true;c.call(a||this);this._skip_refresh=false},getRange:function(g,e){if(g){g=this.indexById(g)}else{g=(this.$min||this.startOffset)||0}if(e){e=this.indexById(e)}else{e=Math.min(((this.$max||this.endOffset)||Infinity),(this.dataCount()-1));if(e<0){e=0}}if(g>e){var c=e;e=g;g=c}return this.getIndexRange(g,e)},getIndexRange:function(g,e){e=Math.min((e||Infinity),this.dataCount()-1);var a=dhx.toArray();for(var c=(g||0);c<=e;c++){a.push(this.item(this.order[c]))}return a},dataCount:function(){return this.order.length},exists:function(a){return !!(this.pull[a])},move:function(a,g){dhx.assert(a>=0&&g>=0,""DataStore::move"",""Incorrect indexes"");var e=this.idByIndex(a);var c=this.item(e);this.order.removeAt(a);this.order.insertAt(e,Math.min(this.order.length,g));this.callEvent(""onStoreUpdated"",[e,c,""move""])},scheme:function(a){this._scheme={};this._scheme_init=a.$init;this._scheme_update=a.$update;this._scheme_serialize=a.$serialize;this._scheme_group=a.$group;this._scheme_sort=a.$sort;for(var c in a){if(c.substr(0,1)!=""$""){this._scheme[c]=a[c]}}},sync:function(g,e,a){if(typeof g==""string""){g=$$(""source"")}if(typeof e!=""function""){a=e;e=null}if(dhx.debug_bind){this.debug_sync_master=g;dhx.log(""[sync] ""+this.debug_bind_master.name+""@""+this.debug_bind_master._settings.id+"" <= ""+this.debug_sync_master.name+""@""+this.debug_sync_master._settings.id)}this._backbone_source=false;if(g.name!=""DataStore""){if(g.data&&g.data.name==""DataStore""){g=g.data}else{this._backbone_source=true}}var c=dhx.bind(function(n,h,m){if(this._backbone_source){if(!n){return}if(n.indexOf(""change"")===0){if(n==""change""){this.pull[h.id]=h.attributes;this.refresh(h.id);return}else{return}}if(n==""reset""){m=h}this.order=[];this.pull={};this._filter_order=null;for(var l=0;l<m.models.length;l++){var o=m.models[l].id;this.order.push(o);this.pull[o]=m.models[l].attributes}}else{this._filter_order=null;this.order=dhx.toArray([].concat(g.order));this.pull=g.pull}if(e){this.silent(e)}if(this._on_sync){this._on_sync()}if(dhx.debug_bind){dhx.log(""[sync:request] ""+this.debug_sync_master.name+""@""+this.debug_sync_master._settings.id+"" <= ""+this.debug_bind_master.name+""@""+this.debug_bind_master._settings.id)}this.callEvent(""onSyncApply"",[]);if(!a){this.refresh()}else{a=false}},this);if(this._backbone_source){g.bind(""all"",c)}else{this._sync_events=[g.attachEvent(""onStoreUpdated"",c),g.attachEvent(""onIdChange"",dhx.bind(function(h,l){this.changeId(h,l)},this))]}c()},add:function(l,c){if(this._scheme){for(var e in this._scheme){if(dhx.isUndefined(l[e])){l[e]=this._scheme[e]}}}if(this._scheme_init){this._scheme_init(l)}var m=this.id(l);var a=arguments[2]||this.order;var h=a.length;if(dhx.isUndefined(c)||c<0){c=h}if(c>h){dhx.log(""Warning"",""DataStore:add"",""Index of out of bounds"");c=Math.min(a.length,c)}if(this.callEvent(""onBeforeAdd"",[m,l,c])===false){return false}dhx.assert(!this.exists(m),""Not unique ID"");this.pull[m]=l;a.insertAt(m,c);if(this._filter_order){var g=this._filter_order.length;if(!c&&this.order.length){g=0}this._filter_order.insertAt(m,g)}this.callEvent(""onAfterAdd"",[m,c]);this.callEvent(""onStoreUpdated"",[m,l,""add""]);return m},remove:function(e){if(dhx.isArray(e)){for(var a=0;a<e.length;a++){this.remove(e[a])}return}if(this.callEvent(""onBeforeDelete"",[e])===false){return false}dhx.assert(this.exists(e),""Not existing ID in remove command""+e);var c=this.item(e);this.order.remove(e);if(this._filter_order){this._filter_order.remove(e)}delete this.pull[e];if(this._marks[e]){delete this._marks[e]}this.callEvent(""onAfterDelete"",[e]);this.callEvent(""onStoreUpdated"",[e,c,""delete""])},clearAll:function(){this.pull={};this.order=dhx.toArray();this._filter_order=this.url=null;this.callEvent(""onClearAll"",[]);this.refresh()},idByIndex:function(a){if(a>=this.order.length||a<0){dhx.log(""Warning"",""DataStore::idByIndex Incorrect index"")}return this.order[a]},indexById:function(c){var a=this.order.find(c);if(!this.pull[c]){dhx.log(""Warning"",""DataStore::indexById Non-existing ID: ""+c)}return a},next:function(c,a){return this.order[this.indexById(c)+(a||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(c,a){return this.order[this.indexById(c)-(a||1)]},sort:function(h,c,a){var e=h;if(typeof h==""function""){e={as:h,dir:c}}else{if(typeof h==""string""){e={by:h.replace(/#/g,""""),dir:c,as:a}}}var g=[e.by,e.dir,e.as];if(!this.callEvent(""onBeforeSort"",g)){return}this._sort_core(e);this.refresh();this.callEvent(""onAfterSort"",g)},_sort_core:function(a){if(this.order.length){var e=this._sort._create(a);var c=this.getRange(this.first(),this.last());c.sort(e);this.order=c.map(function(g){dhx.assert(g,""Client sorting can't be used with dynamic loading"");return this.id(g)},this)}},_filter_reset:function(a){if(this._filter_order&&!a){this.order=this._filter_order;delete this._filter_order}},_filter_core:function(e,h,c){var g=dhx.toArray();for(var a=0;a<this.order.length;a++){var l=this.order[a];if(e(this.item(l),h)){g.push(l)}}if(!c||!this._filter_order){this._filter_order=this.order}this.order=g},filter:function(g,e,a){if(!this.callEvent(""onBeforeFilter"",[g,e])){return}this._filter_reset(a);if(!this.order.length){return}if(g){var c=g;e=e||"""";if(typeof g==""string""){g=g.replace(/#/g,"""");if(typeof e==""function""){c=function(h){return e(h[g])}}else{e=e.toString().toLowerCase();c=function(l,h){dhx.assert(l,""Client side filtering can't be used with dynamic loading"");return(l[g]||"""").toString().toLowerCase().indexOf(h)!=-1}}}this._filter_core(c,e,a,this._filterMode)}this.refresh();this.callEvent(""onAfterFilter"",[])},each:function(e,c){for(var a=0;a<this.order.length;a++){e.call((c||this),this.item(this.order[a]))}},_methodPush:function(a,c){return function(){return a[c].apply(a,arguments)}},addMark:function(h,g,a,c){var e=this._marks[h]||{};this._marks[h]=e;if(!e[g]){e[g]=c||true;if(a){this.item(h).$css=(this.item(h).$css||"""")+"" ""+g;this.refresh(h)}}return e[g]},removeMark:function(h,g,a){var e=this._marks[h];if(e&&e[g]){delete e[g]}if(a){var c=this.item(h).$css;if(c){this.item(h).$css=c.replace(g,"""");this.refresh(h)}}},hasMark:function(e,c){var a=this._marks[e];return(a&&a[c])},provideApi:function(g,c){this.debug_bind_master=g;if(c){this.mapEvent({onbeforesort:g,onaftersort:g,onbeforeadd:g,onafteradd:g,onbeforedelete:g,onafterdelete:g,onbeforeupdate:g})}var e=[""sort"",""add"",""remove"",""exists"",""idByIndex"",""indexById"",""item"",""update"",""refresh"",""dataCount"",""filter"",""next"",""previous"",""clearAll"",""first"",""last"",""serialize"",""sync"",""addMark"",""removeMark"",""hasMark""];for(var a=0;a<e.length;a++){g[e[a]]=this._methodPush(this,e[a])}},serialize:function(){var g=this.order;var a=[];for(var c=0;c<g.length;c++){var e=this.pull[g[c]];if(this._scheme_serialize){e=this._scheme_serialize(e);if(e===false){continue}}a.push(e)}return a},_sort:{_create:function(a){return this._dir(a.dir,this._by(a.by,a.as))},_as:{date:function(e,c){e=e-0;c=c-0;return e>c?1:(e<c?-1:0)},""int"":function(e,c){e=e*1;c=c*1;return e>c?1:(e<c?-1:0)},string_strict:function(e,c){e=e.toString();c=c.toString();return e>c?1:(e<c?-1:0)},string:function(e,c){if(!c){return 1}if(!e){return -1}e=e.toString().toLowerCase();c=c.toString().toLowerCase();return e>c?1:(e<c?-1:0)}},_by:function(c,a){if(!c){return a}if(typeof a!=""function""){a=this._as[a||""string""]}dhx.assert(a,""Invalid sorting method"");return function(g,e){return a(g[c],e[c])}},_dir:function(c,a){if(c==""asc""||!c){return a}return function(g,e){return a(g,e)*-1}}}};dhx.BaseBind={debug_freid_ignore:{id:true},bind:function(h,g,e){if(typeof h==""string""){h=dhx.ui.get(h)}if(h._initBindSource){h._initBindSource()}if(this._initBindSource){this._initBindSource()}if(!h.getBindData){dhx.extend(h,dhx.BindSource)}if(!this._bind_ready){var l=this.render;if(this.filter){var c=this._settings.id;this.data._on_sync=function(){h._bind_updated[c]=false}}this.render=function(){if(this._in_bind_processing){return}this._in_bind_processing=true;var m=this.callEvent(""onBindRequest"");this._in_bind_processing=false;return l.apply(this,((m===false)?arguments:[]))};if(this.getValue||this.getValues){this.save=function(){if(this.validate&&!this.validate()){return}h.setBindData((this.getValue?this.getValue:this.getValues()),this._settings.id)}}this._bind_ready=true}h.addBind(this._settings.id,g,e);if(dhx.debug_bind){dhx.log(""[bind] ""+this.name+""@""+this._settings.id+"" <= ""+h.name+""@""+h._settings.id)}var a=this._settings.id;this.attachEvent(this.touchable?""onAfterRender"":""onBindRequest"",function(){return h.getBindData(a)});if(!this._settings.dataFeed&&this.loadNext){this.data.attachEvent(""onStoreLoad"",function(){h._bind_updated[a]=false})}if(this.isVisible(this._settings.id)){this.refresh()}},unbind:function(a){return this._unbind(a)},_unbind:function(e){e.removeBind(this._settings.id);var c=(this._sync_events||(this.data?this.data._sync_events:0));if(c&&e.data){for(var a=0;a<c.length;a++){e.data.detachEvent(c[a])}}}};dhx.BindSource={$init:function(){this._bind_hash={};this._bind_updated={};this._ignore_binds={};this._bind_specific_rules(this)},saveBatch:function(a){this._do_not_update_binds=true;a.call(this);this._do_not_update_binds=false;this._update_binds()},setBindData:function(c,a){if(a){this._ignore_binds[a]=true}if(dhx.debug_bind){dhx.log(""[bind:save] ""+this.name+""@""+this._settings.id+"" <= @""+a)}if(this.setValue){this.setValue(c)}else{if(this.setValues){this.setValues(c)}else{var e=this.getCursor();if(e){c=dhx.extend(this.item(e),c,true);this.update(e,c)}}}this.callEvent(""onBindUpdate"",[c,a]);if(this.save){this.save()}if(a){this._ignore_binds[a]=false}},getBindData:function(a,e){if(this._bind_updated[a]){return false}var c=dhx.ui.get(a);if(c.isVisible(c._settings.id)){this._bind_updated[a]=true;if(dhx.debug_bind){dhx.log(""[bind:request] ""+this.name+""@""+this._settings.id+"" => ""+c.name+""@""+c._settings.id)}this._bind_update(c,this._bind_hash[a][0],this._bind_hash[a][1]);if(e&&c.filter){c.refresh()}}},addBind:function(a,e,c){this._bind_hash[a]=[e,c]},removeBind:function(a){delete this._bind_hash[a];delete this._bind_updated[a];delete this._ignore_binds[a]},_bind_specific_rules:function(a){if(a.filter){dhx.extend(this,dhx.CollectionBind)}else{if(a.setValue){dhx.extend(this,dhx.ValueBind)}else{dhx.extend(this,dhx.RecordBind)}}},_update_binds:function(){if(!this._do_not_update_binds){for(var a in this._bind_hash){if(this._ignore_binds[a]){continue}this._bind_updated[a]=false;this.getBindData(a,true)}}},_bind_update_common:function(e,c,a){if(e.setValue){e.setValue(a?a[c]:a)}else{if(!e.filter){if(!a&&e.clear){e.clear()}else{if(e._check_data_feed(a)){e.setValues(dhx.clone(a))}}}else{e.data.silent(function(){this.filter(c,a)})}}e.callEvent(""onBindApply"",[a,c,this])}};dhx.DataValue=dhx.proto({name:""DataValue"",isVisible:function(){return true},$init:function(a){this.data=""""||a;var c=(a&&a.id)?a.id:dhx.uid();this._settings={id:c};dhx.ui.views[c]=this},setValue:function(a){this.data=a;this.callEvent(""onChange"",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent(""onBindRequest"")}},dhx.EventSystem,dhx.BaseBind);dhx.DataRecord=dhx.proto({name:""DataRecord"",isVisible:function(){return true},$init:function(a){this.data=a||{};var c=(a&&a.id)?a.id:dhx.uid();this._settings={id:c};dhx.ui.views[c]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent(""onChange"",[a])},refresh:function(){this.callEvent(""onBindRequest"")}},dhx.EventSystem,dhx.BaseBind,dhx.AtomDataLoader,dhx.Settings);dhx.DataCollection=dhx.proto({name:""DataCollection"",isVisible:function(){if(!this.data.order.length&&!this.data._filter_order&&!this._settings.dataFeed){return false}return true},$init:function(a){this.data.provideApi(this,true);var c=(a&&a.id)?a.id:dhx.uid();this._settings.id=c;dhx.ui.views[c]=this;this.data.attachEvent(""onStoreLoad"",dhx.bind(function(){this.callEvent(""onBindRequest"",[])},this))},refresh:function(){this.callEvent(""onBindRequest"",[])}},dhx.DataLoader,dhx.EventSystem,dhx.BaseBind,dhx.Settings);dhx.ValueBind={$init:function(){this.attachEvent(""onChange"",this._update_binds)},_bind_update:function(h,g,e){var c=this.getValue()||"""";if(e){c=e(c)}if(h.setValue){h.setValue(c)}else{if(!h.filter){var a={};a[g]=c;if(h._check_data_feed(c)){h.setValues(a)}}else{h.data.silent(function(){this.filter(g,c)})}}h.callEvent(""onBindApply"",[c,g,this])}};dhx.RecordBind={$init:function(){this.attachEvent(""onChange"",this._update_binds)},_bind_update:function(e,c){var a=this.getValues()||null;this._bind_update_common(e,c,a)}};dhx.CollectionBind={$init:function(){this._cursor=null;this.attachEvent(""onSelectChange"",function(c){var a=this.getSelected();this.setCursor(a?(a.id||a):null)});this.attachEvent(""onAfterCursorChange"",this._update_binds);this.data.attachEvent(""onStoreUpdated"",dhx.bind(function(e,a,c){if(e&&e==this.getCursor()&&c!=""paint""){this._update_binds()}},this));this.data.attachEvent(""onClearAll"",dhx.bind(function(){this._cursor=null},this));this.data.attachEvent(""onIdChange"",dhx.bind(function(c,a){if(this._cursor==c){this._cursor=a}},this))},setCursor:function(a){if(a==this._cursor||(a!==null&&!this.item(a))){return}this.callEvent(""onBeforeCursorChange"",[this._cursor]);this._cursor=a;this.callEvent(""onAfterCursorChange"",[a])},getCursor:function(){return this._cursor},_bind_update:function(e,c){var a=this.item(this.getCursor())||this._settings.defaultData||null;this._bind_update_common(e,c,a)}};if(!dhx.ui){dhx.ui={}}if(!dhx.ui.views){dhx.ui.views={};dhx.ui.get=function(a){if(a._settings){return a}return dhx.ui.views[a]}}dhtmlXDataStore=function(c){var e=new dhx.DataCollection(c);var a=""_dp_init"";e[a]=function(h){var g=""_methods"";h[g]=[""dummy"",""dummy"",""changeId"",""dummy""];this.data._old_names={add:""inserted"",update:""updated"",""delete"":""deleted""};this.data.attachEvent(""onStoreUpdated"",function(n,l,m){if(n&&!h._silent){h.setUpdated(n,true,this._old_names[m])}});g=""_getRowData"";h[g]=function(q,l){var n=this.obj.data.item(q);var o={id:q};o[this.action_param]=this.obj.getUserData(q);if(n){for(var m in n){o[m]=n[m]}}return o};this.changeId=function(m,l){this.data.changeId(m,l);h._silent=true;this.data.callEvent(""onStoreUpdated"",[l,this.item(l),""update""]);h._silent=false};g=""_clearUpdateFlag"";h[g]=function(){};this._userdata={}};e.dummy=function(){};e.setUserData=function(l,g,h){this._userdata[l]=h};e.getUserData=function(h,g){return this._userdata[h]};e.dataFeed=function(g){this.define(""dataFeed"",g)};dhx.extend(e,dhx.BindSource);return e};if(window.dhtmlXDataView){dhtmlXDataView.prototype._initBindSource=function(){this.isVisible=function(){if(!this.data.order.length&&!this.data._filter_order&&!this._settings.dataFeed){return false}return true};var a=""_settings"";this._settings=this._settings||this[a];if(!this._settings.id){this._settings.id=dhx.uid()}this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this._settings.id]=this}}if(window.dhtmlXChart){dhtmlXChart.prototype._initBindSource=function(){this.isVisible=function(){if(!this.data.order.length&&!this.data._filtered_state&&!this._settings.dataFeed){return false}return true};var a=""_settings"";this._settings=this._settings||this[a];if(!this._settings.id){this._settings.id=dhx.uid()}this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this._settings.id]=this}}dhx.BaseBind.unsync=function(a){return dhx.BaseBind._unbind.call(this,a)};dhx.BaseBind.unbind=function(a){return dhx.BaseBind._unbind.call(this,a)};dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};dhx.BaseBind.legacySync=function(a,c){if(this._initBindSource){this._initBindSource()}if(a._initBindSource){a._initBindSource()}this.attachEvent(""onAfterEditStop"",function(e){this.save(e);return true});this.attachEvent(""onDataRequest"",function(h,g){for(var e=h;e<h+g;e++){if(!a.data.order[e]){a.loadNext(g,h);return false}}});this.save=function(l){if(!l){l=this.getCursor()}var h=this.item(l);var e=a.item(l);for(var g in h){if(g.indexOf(""$"")!==0){e[g]=h[g]}}a.refresh(l)};if(a&&a.name==""DataCollection""){return a.data.sync.apply(this.data,arguments)}else{return this.data.sync.apply(this.data,arguments)}};if(window.dhtmlXForm){dhtmlXForm.prototype.bind=function(a){dhx.BaseBind.bind.apply(this,arguments);a.getBindData(this._settings.id)};dhtmlXForm.prototype.unbind=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXForm.prototype._initBindSource=function(){if(dhx.isUndefined(this._settings)){this._settings={id:dhx.uid(),dataFeed:this._server_feed};dhx.ui.views[this._settings.id]=this}};dhtmlXForm.prototype._check_data_feed=function(c){if(!this._settings.dataFeed||this._ignore_feed||!c){return true}var a=this._settings.dataFeed;if(typeof a==""function""){return a.call(this,(c.id||c),c)}a=a+(a.indexOf(""?"")==-1?""?"":""&"")+""action=get&id=""+encodeURIComponent(c.id||c);this.load(a);return false};dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData;dhtmlXForm.prototype.getValues=function(){return this.getFormData(false,true)};dhtmlXForm.prototype.dataFeed=function(a){if(this._settings){this._settings.dataFeed=a}else{this._server_feed=a}};dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(a){return true}}if(window.scheduler){if(!window.Scheduler){window.Scheduler={}}Scheduler.$syncFactory=function(a){a.sync=function(e,h){if(this._initBindSource){this._initBindSource()}if(e._initBindSource){e._initBindSource()}var g=""_process_loading"";var c=function(q){a.clearAll();var l=e.data.order;var o=e.data.pull;var m=[];for(var n=0;n<l.length;n++){if(h&&h.copy){m[n]=dhx.clone(o[l[n]])}else{m[n]=o[l[n]]}}a[g](m);a.callEvent(""onSyncApply"",[])};this.save=function(n){if(!n){n=this.getCursor()}var m=this.item(n);var l=e.item(n);if(this.callEvent(""onStoreSave"",[n,m,l])){dhx.extend(e.item(n),m,true);e.update(n)}};this.item=function(l){return this.getEvent(l)};this._sync_events=[e.data.attachEvent(""onStoreUpdated"",function(n,l,m){c.call(this)}),e.data.attachEvent(""onIdChange"",function(m,l){combo.changeOptionId(m,l)})];this.attachEvent(""onEventChanged"",function(l){this.save(l)});this.attachEvent(""onEventAdded"",function(m,l){if(!e.data.pull[m]){e.add(l)}});this.attachEvent(""onEventDeleted"",function(l){if(e.data.pull[l]){e.remove(l)}});c()};a.unsync=function(c){dhx.BaseBind._unbind.call(this,c)};a._initBindSource=function(){if(!this._settings){this._settings={id:dhx.uid()}}}};Scheduler.$syncFactory(window.scheduler)}if(window.dhtmlXCombo){dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXCombo.unbind=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXCombo.unsync=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXCombo.prototype.dataFeed=function(a){if(this._settings){this._settings.dataFeed=a}else{this._server_feed=a}};dhtmlXCombo.prototype.sync=function(c,g){if(this._initBindSource){this._initBindSource()}if(c._initBindSource){c._initBindSource()}var e=this;var a=function(h){e.clearAll();e.addOption(this.serialize());e.callEvent(""onSyncApply"",[])};this._sync_events=[c.data.attachEvent(""onStoreUpdated"",function(m,h,l){a.call(this)}),c.data.attachEvent(""onIdChange"",function(l,h){e.changeOptionId(l,h)})];a.call(c)};dhtmlXCombo.prototype._initBindSource=function(){if(dhx.isUndefined(this._settings)){this._settings={id:dhx.uid(),dataFeed:this._server_feed};dhx.ui.views[this._settings.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhx4._eventable(this.data);this.attachEvent(""onChange"",function(){this.callEvent(""onSelectChange"",[this.getSelectedValue()])});this.attachEvent(""onXLE"",function(){this.callEvent(""onBindRequest"",[])})}};dhtmlXCombo.prototype.item=function(a){return this.getOption(a)};dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()};dhtmlXCombo.prototype.isVisible=function(){if(!this.optionsArr.length&&!this._settings.dataFeed){return false}return true};dhtmlXCombo.prototype.refresh=function(){this.render(true)}}if(window.dhtmlXGridObject){dhtmlXGridObject.prototype.bind=function(a,e,c){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXGridObject.prototype.unbind=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXGridObject.prototype.unsync=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXGridObject.prototype.dataFeed=function(a){if(this._settings){this._settings.dataFeed=a}else{this._server_feed=a}};dhtmlXGridObject.prototype.sync=function(a,o){if(this._initBindSource){this._initBindSource()}if(a._initBindSource){a._initBindSource()}var c=this;var n=""_parsing"";var e=""_parser"";var l=""_locator"";var g=""_process_store_row"";var m=""_get_store_data"";this.save=function(q){if(!q){q=this.getCursor()}dhx.extend(a.item(q),this.item(q),true);a.update(q)};var h=function(w){var s=c.getCursor?c.getCursor():null;var v=0;if(c._legacy_ignore_next){v=c._legacy_ignore_next;c._legacy_ignore_next=false}else{c.clearAll()}var r=this.dataCount();if(r){c[n]=true;for(var q=v;q<r;q++){var u=this.order[q];if(!u){continue}if(v&&c.rowsBuffer[q]){continue}c.rowsBuffer[q]={idd:u,data:this.pull[u]};c.rowsBuffer[q][e]=c[g];c.rowsBuffer[q][l]=c[m];c.rowsAr[u]=this.pull[u]}if(!c.rowsBuffer[r-1]){c.rowsBuffer[r-1]=dhtmlx.undefined;c.xmlFileUrl=c.xmlFileUrl||this.url}if(c.pagingOn){c.changePage()}else{if(c._srnd&&c._fillers){c._update_srnd_view()}else{c.render_dataset();c.callEvent(""onXLE"",[])}}c[n]=false}if(s&&c.setCursor){c.setCursor(c.rowsAr[s]?s:null)}c.callEvent(""onSyncApply"",[])};this._sync_events=[a.data.attachEvent(""onStoreUpdated"",function(s,q,r){if(r==""delete""){c.deleteRow(s);c.data.callEvent(""onStoreUpdated"",[s,q,r])}else{if(r==""update""){c.callEvent(""onSyncUpdate"",[q,r]);c.update(s,q);c.data.callEvent(""onStoreUpdated"",[s,q,r])}else{if(r==""add""){c.callEvent(""onSyncUpdate"",[q,r]);c.add(s,q,this.indexById(s));c.data.callEvent(""onStoreUpdated"",[s,q,r])}else{h.call(this)}}}}),a.data.attachEvent(""onStoreLoad"",function(r,q){c.xmlFileUrl=a.data.url;c._legacy_ignore_next=r.getInfo(q)._from}),a.data.attachEvent(""onIdChange"",function(r,q){c.changeRowId(r,q)})];c.attachEvent(""onDynXLS"",function(s,r){for(var q=s;q<s+r;q++){if(!a.data.order[q]){a.loadNext(r,s);return false}}c._legacy_ignore_next=s;h.call(a.data)});h.call(a.data);c.attachEvent(""onEditCell"",function(q,v,s,r,u){if(q==2&&r!=u){this.save(v)}return true});c.attachEvent(""onClearAll"",function(){var q=""_f_rowsBuffer"";this[q]=null});if(o&&o.sort){c.attachEvent(""onBeforeSorting"",function(s,r,q){if(r==""connector""){return false}var u=this.getColumnId(s);a.sort(""#""+u+""#"",(q==""asc""?""asc"":""desc""),(r==""int""?r:""string""));c.setSortImgState(true,s,q);return false})}if(o&&o.filter){c.attachEvent(""onFilterStart"",function(s,q){var r=""_con_f_used"";if(c[r]&&c[r].length){return false}a.data.silent(function(){a.filter();for(var u=0;u<s.length;u++){if(q[u]==""""){continue}var v=c.getColumnId(s[u]);a.filter(""#""+v+""#"",q[u],u!=0)}});a.refresh();return false});c.collectValues=function(q){var r=this.getColumnId(q);return(function(v){var s=[];var u={};this.data.each(function(x){var w=x[v];if(!u[w]){u[w]=true;s.push(w)}});s.sort();return s}).call(a,r)}}if(o&&o.select){c.attachEvent(""onRowSelect"",function(q){a.setCursor(q)})}c.clearAndLoad=function(q){a.clearAll();a.load(q)}};dhtmlXGridObject.prototype._initBindSource=function(){if(dhx.isUndefined(this._settings)){this._settings={id:dhx.uid(),dataFeed:this._server_feed};dhx.ui.views[this._settings.id]=this;this.data={silent:dhx.bind(function(e){e.call(this)},this)};dhx4._eventable(this.data);var a=""_cCount"";for(var c=0;c<this[a];c++){if(!this.columnIds[c]){this.columnIds[c]=""cell""+c}}this.attachEvent(""onSelectStateChanged"",function(e){this.callEvent(""onSelectChange"",[e])});this.attachEvent(""onSelectionCleared"",function(){this.callEvent(""onSelectChange"",[null])});this.attachEvent(""onEditCell"",function(e,g){if(e===2&&this.getCursor){if(g&&g==this.getCursor()){this._update_binds()}}return true});this.attachEvent(""onXLE"",function(){this.callEvent(""onBindRequest"",[])})}};dhtmlXGridObject.prototype.item=function(l){if(l===null){return null}var h=this.getRowById(l);if(!h){return null}var a=""_attrs"";var g=dhx.copy(h[a]);g.id=l;var e=this.getColumnsNum();for(var c=0;c<e;c++){g[this.columnIds[c]]=this.cells(l,c).getValue()}return g};dhtmlXGridObject.prototype.update=function(l,h){for(var g=0;g<this.columnIds.length;g++){var e=this.columnIds[g];if(!dhx.isUndefined(h[e])){this.cells(l,g).setValue(h[e])}}var c=""_attrs"";var a=this.getRowById(l)[c];for(var e in h){a[e]=h[e]}this.callEvent(""onBindUpdate"",[l])};dhtmlXGridObject.prototype.add=function(m,l,e){var a=[];for(var h=0;h<this.columnIds.length;h++){var g=this.columnIds[h];a[h]=dhx.isUndefined(l[g])?"""":l[g]}this.addRow(m,a,e);var c=""_attrs"";this.getRowById(m)[c]=dhx.copy(l)};dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()};dhtmlXGridObject.prototype.isVisible=function(){var a=""_f_rowsBuffer"";if(!this.rowsBuffer.length&&!this[a]&&!this._settings.dataFeed){return false}return true};dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()};dhtmlXGridObject.prototype.filter=function(l,h){if(this._settings.dataFeed){var g={};if(!l&&!h){return}if(typeof l==""function""){if(!h){return}l(h,g)}else{if(dhx.isUndefined(l)){g=h}else{g[l]=h}}this.clearAll();var a=this._settings.dataFeed;if(typeof a==""function""){return a.call(this,h,g)}var e=[];for(var c in g){e.push(""dhx_filter[""+c+""]=""+encodeURIComponent(g[c]))}this.load(a+(a.indexOf(""?"")<0?""?"":""&"")+e.join(""&""));return false}if(h===null){return this.filterBy(0,function(){return false})}this.filterBy(0,function(m,n){return l.call(this,n,h)})}}if(window.dhtmlXTreeObject){dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXTreeObject.prototype.unbind=function(a){dhx.BaseBind._unbind.call(this,a)};dhtmlXTreeObject.prototype.dataFeed=function(a){if(this._settings){this._settings.dataFeed=a}else{this._server_feed=a}};dhtmlXTreeObject.prototype._initBindSource=function(){if(dhx.isUndefined(this._settings)){this._settings={id:dhx.uid(),dataFeed:this._server_feed};dhx.ui.views[this._settings.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhx4._eventable(this.data);this.attachEvent(""onSelect"",function(a){this.callEvent(""onSelectChange"",[a])});this.attachEvent(""onEdit"",function(a,c){if(a===2){if(c&&c==this.getCursor()){this._update_binds()}}return true})}};dhtmlXTreeObject.prototype.item=function(a){if(a===null){return null}return{id:a,text:this.getItemText(a)}};dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()};dhtmlXTreeObject.prototype.isVisible=function(){return true};dhtmlXTreeObject.prototype.refresh=function(){};dhtmlXTreeObject.prototype.filter=function(l,h){if(this._settings.dataFeed){var g={};if(!l&&!h){return}if(typeof l==""function""){if(!h){return}l(h,g)}else{if(dhx.isUndefined(l)){g=h}else{g[l]=h}}this.deleteChildItems(0);var a=this._settings.dataFeed;if(typeof a==""function""){return a.call(this,[(data.id||data),data])}var e=[];for(var c in g){e.push(""dhx_filter[""+c+""]=""+encodeURIComponent(g[c]))}this.loadXML(a+(a.indexOf(""?"")<0?""?"":""&"")+e.join(""&""));return false}};dhtmlXTreeObject.prototype.update=function(c,a){if(!dhx.isUndefined(a.text)){this.setItemText(c,a.text)}}}function dataProcessor(a){this.serverProcessor=a;this.action_param=""!nativeeditor_status"";this.object=null;this.updatedRows=[];this.autoUpdate=true;this.updateMode=""cell"";this._tMode=""GET"";this._headers=null;this._payload=null;this.post_delim=""_"";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:""font-weight:bold;"",inserted:""font-weight:bold;"",deleted:""text-decoration : line-through;"",invalid:""background-color:FFE0E0;"",invalid_cell:""border-bottom:2px solid red;"",error:""color:red;"",clear:""font-weight:normal;text-decoration:none;""};this.enableUTFencoding(true);dhx4._eventable(this);if(this.connector_init){this.setTransactionMode(""POST"",true);this.serverProcessor+=(this.serverProcessor.indexOf(""?"")!=-1?""&"":""?"")+""editing=true""}return this}dataProcessor.prototype={setTransactionMode:function(c,a){if(typeof c==""object""){this._tMode=c.mode||this._tMode;this._headers=this._headers||c.headers;this._payload=this._payload||c.payload}else{this._tMode=c;this._tSend=a}if(this._tMode==""REST""){this._tSend=false;this._endnm=true}},escape:function(a){if(this._utf){return encodeURIComponent(a)}else{return escape(a)}},enableUTFencoding:function(a){this._utf=dhx4.s2b(a)},setDataColumns:function(a){this._columns=(typeof a==""string"")?a.split("",""):a},getSyncState:function(){return !this.updatedRows.length},enableDataNames:function(a){this._endnm=dhx4.s2b(a)},enablePartialDataSend:function(a){this._changed=dhx4.s2b(a)},setUpdateMode:function(c,a){this.autoUpdate=(c==""cell"");this.updateMode=c;this.dnd=a},ignore:function(c,a){this._silent_mode=true;c.call(a||window);this._silent_mode=false},setUpdated:function(g,e,h){if(this._silent_mode){return}var c=this.findRow(g);h=h||""updated"";var a=this.obj.getUserData(g,this.action_param);if(a&&h==""updated""){h=a}if(e){this.set_invalid(g,false);this.updatedRows[c]=g;this.obj.setUserData(g,this.action_param,h);if(this._in_progress[g]){this._in_progress[g]=""wait""}}else{if(!this.is_invalid(g)){this.updatedRows.splice(c,1);this.obj.setUserData(g,this.action_param,"""")}}if(!e){this._clearUpdateFlag(g)}this.markRow(g,e,h);if(e&&this.autoUpdate){this.sendData(g)}},_clearUpdateFlag:function(a){},markRow:function(l,e,h){var g="""";var c=this.is_invalid(l);if(c){g=this.styles[c];e=true}if(this.callEvent(""onRowMark"",[l,e,h,c])){g=this.styles[e?h:""clear""]+g;this.obj[this._methods[0]](l,g);if(c&&c.details){g+=this.styles[c+""_cell""];for(var a=0;a<c.details.length;a++){if(c.details[a]){this.obj[this._methods[1]](l,a,g)}}}}},getState:function(a){return this.obj.getUserData(a,this.action_param)},is_invalid:function(a){return this._invalid[a]},set_invalid:function(e,c,a){if(a){c={value:c,details:a,toString:function(){return this.value.toString()}}}this._invalid[e]=c},checkBeforeUpdate:function(a){return true},sendData:function(a){if(this._waitMode&&(this.obj.mytype==""tree""||this.obj._h2)){return}if(this.obj.editStop){this.obj.editStop()}if(typeof a==""undefined""||this._tSend){return this.sendAllData()}if(this._in_progress[a]){return false}this.messages=[];if(this.getState(a)!==""deleted""){if(!this.checkBeforeUpdate(a)&&this.callEvent(""onValidationError"",[a,this.messages])){return false}}this._beforeSendData(this._getRowData(a),a)},_beforeSendData:function(a,c){if(!this.callEvent(""onBeforeUpdate"",[c,this.getState(c),a])){return false}this._sendData(a,c)},serialize:function(g,h){if(typeof g==""string""){return g}if(typeof h!=""undefined""){return this.serialize_one(g,"""")}else{var a=[];var e=[];for(var c in g){if(g.hasOwnProperty(c)){a.push(this.serialize_one(g[c],c+this.post_delim));e.push(c)}}a.push(""ids=""+this.escape(e.join("","")));if(dhtmlx.security_key){a.push(""dhx_security=""+dhtmlx.security_key)}return a.join(""&"")}},serialize_one:function(g,c){if(typeof g==""string""){return g}var a=[];for(var e in g){if(g.hasOwnProperty(e)){if((e==""id""||e==this.action_param)&&this._tMode==""REST""){continue}a.push(this.escape((c||"""")+e)+""=""+this.escape(g[e]))}}return a.join(""&"")},_sendData:function(h,l){if(!h){return}if(!this.callEvent(""onBeforeDataSending"",l?[l,this.getState(l),h]:[null,null,h])){return false}if(l){this._in_progress[l]=(new Date()).valueOf()}var q=this;var o=function(s){var v=[];if(l){v.push(l)}else{if(h){for(var u in h){v.push(u)}}}return q.afterUpdate(q,s,v)};var c=this.serverProcessor+(this._user?(dhtmlx.url(this.serverProcessor)+[""dhx_user=""+this._user,""dhx_version=""+this.obj.getUserData(0,""version"")].join(""&"")):"""");if(this._tMode==""GET""){dhx4.ajax.get(c+((c.indexOf(""?"")!=-1)?""&"":""?"")+this.serialize(h,l),o)}else{if(this._tMode==""POST""){dhx4.ajax.post(c,this.serialize(h,l),o)}else{if(this._tMode==""REST""){var e=this.getState(l);var g=c.replace(/(\&|\?)editing\=true/,"""");var m=g.split(""?"");if(m[1]){m[1]=""?""+m[1]}var n="""";var a=""post"";if(e==""inserted""){n=this.serialize(h,l)}else{if(e==""deleted""){a=""DELETE"";g=m[0]+l+(m[1]||"""")}else{a=""PUT"";n=this.serialize(h,l);g=m[0]+l+(m[1]||"""")}}if(this._payload){for(var r in this._payload){g=g+(g.indexOf(""?"")===-1?""?"":""&"")+this.escape(r)+""=""+this.escape(this._payload[r])}}dhx4.ajax.query({url:g,method:a,headers:this._headers,data:n,callback:o})}}}this._waitMode++},sendAllData:function(){if(!this.updatedRows.length){return}this.messages=[];var c=true;for(var a=0;a<this.updatedRows.length;a++){if(this.getState(this.updatedRows[a])!==""deleted""){c&=this.checkBeforeUpdate(this.updatedRows[a])}}if(!c&&!this.callEvent(""onValidationError"",["""",this.messages])){return false}if(this._tSend){this._sendData(this._getAllData())}else{for(var a=0;a<this.updatedRows.length;a++){if(!this._in_progress[this.updatedRows[a]]){if(this.is_invalid(this.updatedRows[a])){continue}this._beforeSendData(this._getRowData(this.updatedRows[a]),this.updatedRows[a]);if(this._waitMode&&(this.obj.mytype==""tree""||this.obj._h2)){return}}}}},_getAllData:function(g){var c={};var a=false;for(var e=0;e<this.updatedRows.length;e++){var h=this.updatedRows[e];if(this._in_progress[h]||this.is_invalid(h)){continue}if(!this.callEvent(""onBeforeUpdate"",[h,this.getState(h),this._getRowData(h)])){continue}c[h]=this._getRowData(h,h+this.post_delim);a=true;this._in_progress[h]=(new Date()).valueOf()}return a?c:null},setVerificator:function(c,a){this.mandatoryFields[c]=a||(function(e){return(e!=="""")})},clearVerificator:function(a){this.mandatoryFields[a]=false},findRow:function(c){var a=0;for(a=0;a<this.updatedRows.length;a++){if(c==this.updatedRows[a]){break}}return a},defineAction:function(a,c){if(!this._uActions){this._uActions=[]}this._uActions[a]=c},afterUpdateCallback:function(c,m,l,h){var a=c;var g=(l!=""error""&&l!=""invalid"");if(!g){this.set_invalid(c,l)}if((this._uActions)&&(this._uActions[l])&&(!this._uActions[l](h))){return(delete this._in_progress[a])}if(this._in_progress[a]!=""wait""){this.setUpdated(c,false)}var e=c;switch(l){case""inserted"":case""insert"":if(m!=c){this.obj[this._methods[2]](c,m);c=m}break;case""delete"":case""deleted"":this.obj.setUserData(c,this.action_param,""true_deleted"");this.obj[this._methods[3]](c);delete this._in_progress[a];return this.callEvent(""onAfterUpdate"",[c,l,m,h]);break}if(this._in_progress[a]!=""wait""){if(g){this.obj.setUserData(c,this.action_param,"""")}delete this._in_progress[a]}else{delete this._in_progress[a];this.setUpdated(m,true,this.obj.getUserData(c,this.action_param))}this.callEvent(""onAfterUpdate"",[e,l,m,h])},afterUpdate:function(o,n,a){if(window.JSON){try{var u=JSON.parse(n.xmlDoc.responseText);var h=u.action||this.getState(a)||""updated"";var c=u.sid||a[0];var g=u.tid||a[0];o.afterUpdateCallback(c,g,h,u);o.finalizeUpdate();return}catch(q){}}var s=dhx4.ajax.xmltop(""data"",n.xmlDoc);if(!s||s.tagName==""DIV""){return this.cleanUpdate(a)}var r=dhx4.ajax.xpath(""//data/action"",s);if(!r.length){return this.cleanUpdate(a)}for(var m=0;m<r.length;m++){var l=r[m];var h=l.getAttribute(""type"");var c=l.getAttribute(""sid"");var g=l.getAttribute(""tid"");o.afterUpdateCallback(c,g,h,l)}o.finalizeUpdate()},cleanUpdate:function(c){if(c){for(var a=0;a<c.length;a++){delete this._in_progress[c[a]]}}},finalizeUpdate:function(){if(this._waitMode){this._waitMode--}if((this.obj.mytype==""tree""||this.obj._h2)&&this.updatedRows.length){this.sendData()}this.callEvent(""onAfterUpdateFinish"",[]);if(!this.updatedRows.length){this.callEvent(""onFullSync"",[])}},init:function(a){this.obj=a;if(a._dp_init){a._dp_init(this)}if(this.connector_init){a._dataprocessor=this}},setOnAfterUpdate:function(a){this.attachEvent(""onAfterUpdate"",a)},enableDebug:function(a){},setOnBeforeUpdateHandler:function(a){this.attachEvent(""onBeforeDataSending"",a)},setAutoUpdate:function(e,c){e=e||2000;this._user=c||(new Date()).valueOf();this._need_update=false;this._update_busy=false;this.attachEvent(""onAfterUpdate"",function(g,l,m,h){this.afterAutoUpdate(g,l,m,h)});this.attachEvent(""onFullSync"",function(){this.fullSync()});var a=this;window.setInterval(function(){a.loadUpdate()},e)},afterAutoUpdate:function(a,e,g,c){if(e==""collision""){this._need_update=true;return false}else{return true}},fullSync:function(){if(this._need_update==true){this._need_update=false;this.loadUpdate()}return true},getUpdates:function(a,c){if(this._update_busy){return false}else{this._update_busy=true}dhx4.ajax.get(a,c)},_v:function(a){if(a.firstChild){return a.firstChild.nodeValue}return""""},_a:function(a){var e=[];for(var c=0;c<a.length;c++){e[c]=this._v(a[c])}return e},loadUpdate:function(){var c=this;var a=this.obj.getUserData(0,""version"");var e=this.serverProcessor+dhtmlx.url(this.serverProcessor)+[""dhx_user=""+this._user,""dhx_version=""+a].join(""&"");e=e.replace(""editing=true&"","""");this.getUpdates(e,function(o){var q=dhx4.ajax.xmltop(""updates"",o.xmlDoc);var l=dhx4.ajax.xpath(""//userdata"",q);c.obj.setUserData(0,""version"",c._v(l[0]));var g=dhx4.ajax.xpath(""//update"",q);if(g.length){c._silent_mode=true;for(var m=0;m<g.length;m++){var h=g[m].getAttribute(""status"");var s=g[m].getAttribute(""id"");var n=g[m].getAttribute(""parent"");switch(h){case""inserted"":c.callEvent(""insertCallback"",[g[m],s,n]);break;case""updated"":c.callEvent(""updateCallback"",[g[m],s,n]);break;case""deleted"":c.callEvent(""deleteCallback"",[g[m],s,n]);break}}c._silent_mode=false}c._update_busy=false;c=null})}};if(window.dataProcessor&&!dataProcessor.prototype.init_original){dataProcessor.prototype.connector_init=true};"
"useragent"",""ace/keyboard/hash_handler""],function(e,t,n){""use strict"";function u(e,t,n){function f(e){return e?/\s/.test(e)?""s"":e==""_""?""_"":e.toUpperCase()==e&&e.toLowerCase()!=e?""W"":e.toUpperCase()!=e&&e.toLowerCase()==e?""w"":""o"":""-""}var r=e.selection,i=r.lead.row,s=r.lead.column,o=e.session.getLine(i);if(!o[s+t]){var u=(n?""selectWord"":""moveCursorShortWord"")+(t==1?""Right"":""Left"");return e.selection[u]()}t==-1&&s--;while(o[s]){var a=f(o[s])+f(o[s+t]);s+=t;if(t==1){if(a==""WW""&&f(o[s+1])==""w"")break}else{if(a==""wW""){if(f(o[s-1])==""W""){s-=1;break}continue}if(a==""Ww"")break}if(/w[s_oW]|_[sWo]|o[s_wW]|s[W]|W[so]/.test(a))break}t==-1&&s++,n?e.selection.moveCursorTo(i,s):e.selection.moveTo(i,s)}var r=e(""../lib/keys""),i=e(""../lib/oop""),s=e(""../lib/useragent""),o=e(""../keyboard/hash_handler"").HashHandler;t.handler=new o,t.handler.addCommands([{name:""find_all_under"",exec:function(e){e.selection.isEmpty()&&e.selection.selectWord(),e.findAll()},readOnly:!0},{name:""find_under"",exec:function(e){e.selection.isEmpty()&&e.selection.selectWord(),e.findNext()},readOnly:!0},{name:""find_under_prev"",exec:function(e){e.selection.isEmpty()&&e.selection.selectWord(),e.findPrevious()},readOnly:!0},{name:""find_under_expand"",exec:function(e){e.selectMore(1,!1,!0)},scrollIntoView:""animate"",readOnly:!0},{name:""find_under_expand_skip"",exec:function(e){e.selectMore(1,!0,!0)},scrollIntoView:""animate"",readOnly:!0},{name:""delete_to_hard_bol"",exec:function(e){var t=e.selection.getCursor();e.session.remove({start:{row:t.row,column:0},end:t})},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""delete_to_hard_eol"",exec:function(e){var t=e.selection.getCursor();e.session.remove({start:t,end:{row:t.row,column:Infinity}})},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""moveToWordStartLeft"",exec:function(e){e.selection.moveCursorLongWordLeft(),e.clearSelection()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""moveToWordEndRight"",exec:function(e){e.selection.moveCursorLongWordRight(),e.clearSelection()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""selectToWordStartLeft"",exec:function(e){var t=e.selection;t.$moveSelection(t.moveCursorLongWordLeft)},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""selectToWordEndRight"",exec:function(e){var t=e.selection;t.$moveSelection(t.moveCursorLongWordRight)},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""selectSubWordRight"",exec:function(e){u(e,1,!0)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectSubWordLeft"",exec:function(e){u(e,-1,!0)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""moveSubWordRight"",exec:function(e){u(e,1)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""moveSubWordLeft"",exec:function(e){u(e,-1)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0}]),[{bindKey:{mac:""cmd-k cmd-backspace|cmd-backspace"",win:""ctrl-shift-backspace|ctrl-k ctrl-backspace""},name:""removetolinestarthard""},{bindKey:{mac:""cmd-k cmd-k|cmd-delete|ctrl-k"",win:""ctrl-shift-delete|ctrl-k ctrl-k""},name:""removetolineendhard""},{bindKey:{mac:""cmd-shift-d"",win:""ctrl-shift-d""},name:""duplicateSelection""},{bindKey:{mac:""cmd-l"",win:""ctrl-l""},name:""expandtoline""},{bindKey:{mac:""cmd-shift-a"",win:""ctrl-shift-a""},name:""expandSelection"",args:{to:""tag""}},{bindKey:{mac:""cmd-shift-j"",win:""ctrl-shift-j""},name:""expandSelection"",args:{to:""indentation""}},{bindKey:{mac:""ctrl-shift-m"",win:""ctrl-shift-m""},name:""expandSelection"",args:{to:""brackets""}},{bindKey:{mac:""cmd-shift-space"",win:""ctrl-shift-space""},name:""expandSelection"",args:{to:""scope""}},{bindKey:{mac:""ctrl-cmd-g"",win:""alt-f3""},name:""find_all_under""},{bindKey:{mac:""alt-cmd-g"",win:""ctrl-f3""},name:""find_under""},{bindKey:{mac:""shift-alt-cmd-g"",win:""ctrl-shift-f3""},name:""find_under_prev""},{bindKey:{mac:""cmd-g"",win:""f3""},name:""findnext""},{bindKey:{mac:""shift-cmd-g"",win:""shift-f3""},name:""findprevious""},{bindKey:{mac:""cmd-d"",win:""ctrl-d""},name:""find_under_expand""},{bindKey:{mac:""cmd-k cmd-d"",win:""ctrl-k ctrl-d""},name:""find_under_expand_skip""},{bindKey:{mac:""cmd-alt-["",win:""ctrl-shift-[""},name:""toggleFoldWidget""},{bindKey:{mac:""cmd-alt-]"",win:""ctrl-shift-]""},name:""unfold""},{bindKey:{mac:""cmd-k cmd-0|cmd-k cmd-j"",win:""ctrl-k ctrl-0|ctrl-k ctrl-j""},name:""unfoldall""},{bindKey:{mac:""cmd-k cmd-1"",win:""ctrl-k ctrl-1""},name:""foldOther"",args:{level:1}},{bindKey:{win:""ctrl-left"",mac:""alt-left""},name:""moveToWordStartLeft""},{bindKey:{win:""ctrl-right"",mac:""alt-right""},name:""moveToWordEndRight""},{bindKey:{win:""ctrl-shift-left"",mac:""alt-shift-left""},name:""selectToWordStartLeft""},{bindKey:{win:""ctrl-shift-right"",mac:""alt-shift-right""},name:""selectToWordEndRight""},{bindKey:{mac:""ctrl-alt-shift-right|ctrl-shift-right"",win:""alt-shift-right""},name:""selectSubWordRight""},{bindKey:{mac:""ctrl-alt-shift-left|ctrl-shift-left"",win:""alt-shift-left""},name:""selectSubWordLeft""},{bindKey:{mac:""ctrl-alt-right|ctrl-right"",win:""alt-right""},name:""moveSubWordRight""},{bindKey:{mac:""ctrl-alt-left|ctrl-left"",win:""alt-left""},name:""moveSubWordLeft""},{bindKey:{mac:""ctrl-m"",win:""ctrl-m""},name:""jumptomatching"",args:{to:""brackets""}},{bindKey:{mac:""ctrl-f6"",win:""ctrl-f6""},name:""goToNextError""},{bindKey:{mac:""ctrl-shift-f6"",win:""ctrl-shift-f6""},name:""goToPreviousError""},{bindKey:{mac:""ctrl-o""},name:""splitline""},{bindKey:{mac:""ctrl-shift-w"",win:""alt-shift-w""},name:""surrowndWithTag""},{bindKey:{mac:""cmd-alt-."",win:""alt-.""},name:""close_tag""},{bindKey:{mac:""cmd-j"",win:""ctrl-j""},name:""joinlines""},{bindKey:{mac:""ctrl--"",win:""alt--""},name:""jumpBack""},{bindKey:{mac:""ctrl-shift--"",win:""alt-shift--""},name:""jumpForward""},{bindKey:{mac:""cmd-k cmd-l"",win:""ctrl-k ctrl-l""},name:""tolowercase""},{bindKey:{mac:""cmd-k cmd-u"",win:""ctrl-k ctrl-u""},name:""touppercase""},{bindKey:{mac:""cmd-shift-v"",win:""ctrl-shift-v""},name:""paste_and_indent""},{bindKey:{mac:""cmd-k cmd-v|cmd-alt-v"",win:""ctrl-k ctrl-v""},name:""paste_from_history""},{bindKey:{mac:""cmd-shift-enter"",win:""ctrl-shift-enter""},name:""addLineBefore""},{bindKey:{mac:""cmd-enter"",win:""ctrl-enter""},name:""addLineAfter""},{bindKey:{mac:""ctrl-shift-k"",win:""ctrl-shift-k""},name:""removeline""},{bindKey:{mac:""ctrl-alt-up"",win:""ctrl-up""},name:""scrollup""},{bindKey:{mac:""ctrl-alt-down"",win:""ctrl-down""},name:""scrolldown""},{bindKey:{mac:""cmd-a"",win:""ctrl-a""},name:""selectall""},{bindKey:{linux:""alt-shift-down"",mac:""ctrl-shift-down"",win:""ctrl-alt-down""},name:""addCursorBelow""},{bindKey:{linux:""alt-shift-up"",mac:""ctrl-shift-up"",win:""ctrl-alt-up""},name:""addCursorAbove""},{bindKey:{mac:""cmd-k cmd-c|ctrl-l"",win:""ctrl-k ctrl-c""},name:""centerselection""},{bindKey:{mac:""f5"",win:""f9""},name:""sortlines""},{bindKey:{mac:""ctrl-f5"",win:""ctrl-f9""},name:""sortlines"",args:{caseSensitive:!0}},{bindKey:{mac:""cmd-shift-l"",win:""ctrl-shift-l""},name:""splitIntoLines""},{bindKey:{mac:""ctrl-cmd-down"",win:""ctrl-shift-down""},name:""movelinesdown""},{bindKey:{mac:""ctrl-cmd-up"",win:""ctrl-shift-up""},name:""movelinesup""},{bindKey:{mac:""alt-down"",win:""alt-down""},name:""modifyNumberDown""},{bindKey:{mac:""alt-up"",win:""alt-up""},name:""modifyNumberUp""},{bindKey:{mac:""cmd-/"",win:""ctrl-/""},name:""togglecomment""},{bindKey:{mac:""cmd-alt-/"",win:""ctrl-shift-/""},name:""toggleBlockComment""},{bindKey:{linux:""ctrl-alt-q"",mac:""ctrl-q"",win:""ctrl-q""},name:""togglerecording""},{bindKey:{linux:""ctrl-alt-shift-q"",mac:""ctrl-shift-q"",win:""ctrl-shift-q""},name:""replaymacro""},{bindKey:{mac:""ctrl-t"",win:""ctrl-t""},name:""transpose""}].forEach(function(e){var n=t.handler.commands[e.name];n&&(n.bindKey=e.bindKey),t.handler.bindKey(e.bindKey,n||e.name)})});                (function() {"
"useragent"",""ace/lib/net"",""ace/ace"",""ace/theme/textmate""],function(e,t,n){""use strict"";function a(e,t){for(var n in t)e.style[n]=t[n]}function f(e,t){if(e.type!=""textarea"")throw new Error(""Textarea required!"");var n=e.parentNode,i=document.createElement(""div""),s=function(){var t=""position:relative;"";[""margin-top"",""margin-left"",""margin-right"",""margin-bottom""].forEach(function(n){t+=n+"":""+u(e,i,n)+"";""});var n=u(e,i,""width"")||e.clientWidth+""px"",r=u(e,i,""height"")||e.clientHeight+""px"";t+=""height:""+r+"";width:""+n+"";"",t+=""display:inline-block;"",i.setAttribute(""style"",t)};r.addListener(window,""resize"",s),s(),n.insertBefore(i,e.nextSibling);while(n!==document){if(n.tagName.toUpperCase()===""FORM""){var o=n.onsubmit;n.onsubmit=function(n){e.value=t(),o&&o.call(this,n)};break}n=n.parentNode}return i}function l(t,n,r){s.loadScript(t,function(){e([n],r)})}function c(e,t,n,r,i){function u(e){return e===""true""||e==1}var s=e.getSession(),o=e.renderer;return e.setDisplaySettings=function(t){t==null&&(t=n.style.display==""none""),t?(n.style.display=""block"",n.hideButton.focus(),e.on(""focus"",function r(){e.removeListener(""focus"",r),n.style.display=""none""})):e.focus()},e.$setOption=e.setOption,e.$getOption=e.getOption,e.setOption=function(t,n){switch(t){case""mode"":e.$setOption(""mode"",""ace/mode/""+n);break;case""theme"":e.$setOption(""theme"",""ace/theme/""+n);break;case""keybindings"":switch(n){case""vim"":e.setKeyboardHandler(""ace/keyboard/vim"");break;case""emacs"":e.setKeyboardHandler(""ace/keyboard/emacs"");break;default:e.setKeyboardHandler(null)}break;case""wrap"":case""fontSize"":e.$setOption(t,n);break;default:e.$setOption(t,u(n))}},e.getOption=function(t){switch(t){case""mode"":return e.$getOption(""mode"").substr(""ace/mode/"".length);case""theme"":return e.$getOption(""theme"").substr(""ace/theme/"".length);case""keybindings"":var n=e.getKeyboardHandler();switch(n&&n.$id){case""ace/keyboard/vim"":return""vim"";case""ace/keyboard/emacs"":return""emacs"";default:return""ace""}break;default:return e.$getOption(t)}},e.setOptions(i),e}function h(e,n,i){function f(e,t,n,r){if(!n){e.push(""<input type='checkbox' title='"",t,""' "",r+""""==""true""?""checked='true'"":"""",""'></input>"");return}e.push(""<select title='""+t+""'>"");for(var i in n)e.push(""<option value='""+i+""' ""),r==i&&e.push("" selected ""),e.push("">"",n[i],""</option>"");e.push(""</select>"")}var s=null,o={mode:""Mode:"",wrap:""Soft Wrap:"",theme:""Theme:"",fontSize:""Font Size:"",showGutter:""Display Gutter:"",keybindings:""Keyboard"",showPrintMargin:""Show Print Margin:"",useSoftTabs:""Use Soft Tabs:"",showInvisibles:""Show Invisibles""},u={mode:{text:""Plain"",javascript:""JavaScript"",xml:""XML"",html:""HTML"",css:""CSS"",scss:""SCSS"",python:""Python"",php:""PHP"",java:""Java"",ruby:""Ruby"",c_cpp:""C/C++"",coffee:""CoffeeScript"",json:""json"",perl:""Perl"",clojure:""Clojure"",ocaml:""OCaml"",csharp:""C#"",haxe:""haXe"",svg:""SVG"",textile:""Textile"",groovy:""Groovy"",liquid:""Liquid"",Scala:""Scala""},theme:{clouds:""Clouds"",clouds_midnight:""Clouds Midnight"",cobalt:""Cobalt"",crimson_editor:""Crimson Editor"",dawn:""Dawn"",gob:""Green on Black"",eclipse:""Eclipse"",idle_fingers:""Idle Fingers"",kr_theme:""Kr Theme"",merbivore:""Merbivore"",merbivore_soft:""Merbivore Soft"",mono_industrial:""Mono Industrial"",monokai:""Monokai"",pastel_on_dark:""Pastel On Dark"",solarized_dark:""Solarized Dark"",solarized_light:""Solarized Light"",textmate:""Textmate"",twilight:""Twilight"",vibrant_ink:""Vibrant Ink""},showGutter:s,fontSize:{""10px"":""10px"",""11px"":""11px"",""12px"":""12px"",""14px"":""14px"",""16px"":""16px""},wrap:{off:""Off"",40:""40"",80:""80"",free:""Free""},keybindings:{ace:""ace"",vim:""vim"",emacs:""emacs""},showPrintMargin:s,useSoftTabs:s,showInvisibles:s},a=[];a.push(""<table><tr><th>Setting</th><th>Value</th></tr>"");for(var l in t.defaultOptions)a.push(""<tr><td>"",o[l],""</td>""),a.push(""<td>""),f(a,l,u[l],i.getOption(l)),a.push(""</td></tr>"");a.push(""</table>""),e.innerHTML=a.join("""");var c=function(e){var t=e.currentTarget;i.setOption(t.title,t.value)},h=function(e){var t=e.currentTarget;i.setOption(t.title,t.checked)},p=e.getElementsByTagName(""select"");for(var d=0;d<p.length;d++)p[d].onchange=c;var v=e.getElementsByTagName(""input"");for(var d=0;d<v.length;d++)v[d].onclick=h;var m=document.createElement(""input"");m.type=""button"",m.value=""Hide"",r.addListener(m,""click"",function(){i.setDisplaySettings(!1)}),e.appendChild(m),e.hideButton=m}var r=e(""../lib/event""),i=e(""../lib/useragent""),s=e(""../lib/net""),o=e(""../ace"");e(""../theme/textmate""),n.exports=t=o;var u=function(e,t,n){var r=e.style[n];r||(window.getComputedStyle?r=window.getComputedStyle(e,"""").getPropertyValue(n):r=e.currentStyle[n]);if(!r||r==""auto""||r==""intrinsic"")r=t.style[n];return r};t.transformTextarea=function(e,n){var s=e.autofocus||document.activeElement==e,u,l=f(e,function(){return u.getValue()});e.style.display=""none"",l.style.background=""white"";var p=document.createElement(""div"");a(p,{top:""0px"",left:""0px"",right:""0px"",bottom:""0px"",border:""1px solid gray"",position:""absolute""}),l.appendChild(p);var d=document.createElement(""div"");a(d,{position:""absolute"",right:""0px"",bottom:""0px"",cursor:""nw-resize"",border:""solid 9px"",borderColor:""lightblue gray gray #ceade6"",zIndex:101});var v=document.createElement(""div""),m={top:""0px"",left:""20%"",right:""0px"",bottom:""0px"",position:""absolute"",padding:""5px"",zIndex:100,color:""white"",display:""none"",overflow:""auto"",fontSize:""14px"",boxShadow:""-5px 2px 3px gray""};i.isOldIE?m.backgroundColor=""#333"":m.backgroundColor=""rgba(0, 0, 0, 0.6)"",a(v,m),l.appendChild(v),n=n||t.defaultOptions;var g=o.edit(p);u=g.getSession(),u.setValue(e.value||e.innerHTML),s&&g.focus(),l.appendChild(d),c(g,p,v,o,n),h(v,d,g);var y="""";return r.addListener(d,""mousemove"",function(e){var t=this.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;n+r<(t.width+t.height)/2?(this.style.cursor=""pointer"",y=""toggle""):(y=""resize"",this.style.cursor=""nw-resize"")}),r.addListener(d,""mousedown"",function(e){e.preventDefault();if(y==""toggle""){g.setDisplaySettings();return}l.style.zIndex=1e5;var t=l.getBoundingClientRect(),n=t.width+t.left-e.clientX,i=t.height+t.top-e.clientY;r.capture(d,function(e){l.style.width=e.clientX-t.left+n+""px"",l.style.height=e.clientY-t.top+i+""px"",g.resize()},function(){})}),g},t.defaultOptions={mode:""javascript"",theme:""textmate"",wrap:""off"",fontSize:""12px"",showGutter:""false"",keybindings:""ace"",showPrintMargin:""false"",useSoftTabs:""true"",showInvisibles:""false""}});                (function() {"
"useragent"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";t.OS={LINUX:""LINUX"",MAC:""MAC"",WINDOWS:""WINDOWS""},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};if(typeof navigator!=""object"")return;var r=(navigator.platform.match(/mac|win|linux/i)||[""other""])[0].toLowerCase(),i=navigator.userAgent;t.isWin=r==""win"",t.isMac=r==""mac"",t.isLinux=r==""linux"",t.isIE=navigator.appName==""Microsoft Internet Explorer""||navigator.appName.indexOf(""MSAppHost"")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/),t.isOpera=window.opera&&Object.prototype.toString.call(window.opera)==""[object Opera]"",t.isWebKit=parseFloat(i.split(""WebKit/"")[1])||undefined,t.isChrome=parseFloat(i.split("" Chrome/"")[1])||undefined,t.isEdge=parseFloat(i.split("" Edge/"")[1])||undefined,t.isAIR=i.indexOf(""AdobeAIR"")>=0,t.isIPad=i.indexOf(""iPad"")>=0,t.isAndroid=i.indexOf(""Android"")>=0,t.isChromeOS=i.indexOf("" CrOS "")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIPad||t.isAndroid}),ace.define(""ace/lib/dom"",[""require"",""exports"",""module"",""ace/lib/useragent""],function(e,t,n){""use strict"";var r=e(""./useragent""),i=""http://www.w3.org/1999/xhtml"";t.buildDom=function o(e,t,n){if(typeof e==""string""&&e){var r=document.createTextNode(e);return t&&t.appendChild(r),r}if(!Array.isArray(e))return e;if(typeof e[0]!=""string""||!e[0]){var i=[];for(var s=0;s<e.length;s++){var u=o(e[s],t,n);u&&i.push(u)}return i}var a=document.createElement(e[0]),f=e[1],l=1;f&&typeof f==""object""&&!Array.isArray(f)&&(l=2);for(var s=l;s<e.length;s++)o(e[s],a,n);return l==2&&Object.keys(f).forEach(function(e){var t=f[e];e===""class""?a.className=Array.isArray(t)?t.join("" ""):t:typeof t==""function""||e==""value""?a[e]=t:e===""ref""?n&&(n[t]=a):t!=null&&a.setAttribute(e,t)}),t&&t.appendChild(a),a},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName(""head"")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||i,e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""""},t.createTextNode=function(e,t){var n=t?t.ownerDocument:document;return n.createTextNode(e)},t.createFragment=function(e){var t=e?e.ownerDocument:document;return t.createDocumentFragment()},t.hasCssClass=function(e,t){var n=(e.className+"""").split(/\s+/g);return n.indexOf(t)!==-1},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+="" ""+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);for(;;){var r=n.indexOf(t);if(r==-1)break;n.splice(r,1)}e.className=n.join("" "")},t.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),r=!0;for(;;){var i=n.indexOf(t);if(i==-1)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join("" ""),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n=0,r;t=t||document;if(r=t.querySelectorAll(""style""))while(n<r.length)if(r[n++].id===e)return!0},t.importCssString=function(n,r,i){var s=i;if(!i||!i.getRootNode)s=document;else{s=i.getRootNode();if(!s||s==i)s=document}var o=s.ownerDocument||s;if(r&&t.hasCssString(r,s))return null;r&&(n+=""\n/*# sourceURL=ace/css/""+r+"" */"");var u=t.createElement(""style"");u.appendChild(o.createTextNode(n)),r&&(u.id=r),s==o&&(s=t.getDocumentHead(o)),s.insertBefore(u,s.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom([""link"",{rel:""stylesheet"",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement(""ace_inner"");n.style.width=""100%"",n.style.minWidth=""0px"",n.style.height=""200px"",n.style.display=""block"";var r=t.createElement(""ace_outer""),i=r.style;i.position=""absolute"",i.left=""-10000px"",i.overflow=""hidden"",i.width=""200px"",i.minWidth=""0px"",i.height=""150px"",i.display=""block"",r.appendChild(n);var s=e.documentElement;s.appendChild(r);var o=n.offsetWidth;i.overflow=""scroll"";var u=n.offsetWidth;return o==u&&(u=r.clientWidth),s.removeChild(r),o-u},typeof document==""undefined""&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"""")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=r.isWin?typeof window!=""undefined""&&window.devicePixelRatio>=1.5:!0;if(typeof document!=""undefined""){var s=document.createElement(""div"");t.HI_DPI&&s.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),!r.isEdge&&typeof s.style.animationName!=""undefined""&&(t.HAS_CSS_ANIMATION=!0),s=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform=""translate(""+Math.round(t)+""px, ""+Math.round(n)+""px)""}:t.translate=function(e,t,n){e.style.top=Math.round(n)+""px"",e.style.left=Math.round(t)+""px""}}),ace.define(""ace/lib/oop"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}}),ace.define(""ace/lib/keys"",[""require"",""exports"",""module"",""ace/lib/oop""],function(e,t,n){""use strict"";var r=e(""./oop""),i=function(){var e={MODIFIER_KEYS:{16:""Shift"",17:""Ctrl"",18:""Alt"",224:""Meta""},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,""super"":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:""Backspace"",9:""Tab"",13:""Return"",19:""Pause"",27:""Esc"",32:""Space"",33:""PageUp"",34:""PageDown"",35:""End"",36:""Home"",37:""Left"",38:""Up"",39:""Right"",40:""Down"",44:""Print"",45:""Insert"",46:""Delete"",96:""Numpad0"",97:""Numpad1"",98:""Numpad2"",99:""Numpad3"",100:""Numpad4"",101:""Numpad5"",102:""Numpad6"",103:""Numpad7"",104:""Numpad8"",105:""Numpad9"",""-13"":""NumpadEnter"",112:""F1"",113:""F2"",114:""F3"",115:""F4"",116:""F5"",117:""F6"",118:""F7"",119:""F8"",120:""F9"",121:""F10"",122:""F11"",123:""F12"",144:""Numlock"",145:""Scrolllock""},PRINTABLE_KEYS:{32:"" "",48:""0"",49:""1"",50:""2"",51:""3"",52:""4"",53:""5"",54:""6"",55:""7"",56:""8"",57:""9"",59:"";"",61:""="",65:""a"",66:""b"",67:""c"",68:""d"",69:""e"",70:""f"",71:""g"",72:""h"",73:""i"",74:""j"",75:""k"",76:""l"",77:""m"",78:""n"",79:""o"",80:""p"",81:""q"",82:""r"",83:""s"",84:""t"",85:""u"",86:""v"",87:""w"",88:""x"",89:""y"",90:""z"",107:""+"",109:""-"",110:""."",186:"";"",187:""="",188:"","",189:""-"",190:""."",191:""/"",192:""`"",219:""["",220:""\\"",221:""]"",222:""'"",111:""/"",106:""*""}},t,n;for(n in e.FUNCTION_KEYS)t=e.FUNCTION_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);for(n in e.PRINTABLE_KEYS)t=e.PRINTABLE_KEYS[n].toLowerCase(),e[t]=parseInt(n,10);return r.mixin(e,e.MODIFIER_KEYS),r.mixin(e,e.PRINTABLE_KEYS),r.mixin(e,e.FUNCTION_KEYS),e.enter=e[""return""],e.escape=e.esc,e.del=e[""delete""],e[173]=""-"",function(){var t=[""cmd"",""ctrl"",""alt"",""shift""];for(var n=Math.pow(2,t.length);n--;)e.KEY_MODS[n]=t.filter(function(t){return n&e.KEY_MODS[t]}).join(""-"")+""-""}(),e.KEY_MODS[0]="""",e.KEY_MODS[-1]=""input-"",e}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return typeof t!=""string""&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define(""ace/lib/event"",[""require"",""exports"",""module"",""ace/lib/keys"",""ace/lib/useragent""],function(e,t,n){""use strict"";function a(e,t,n){var a=u(t);if(!i.isMac&&s){t.getModifierState&&(t.getModifierState(""OS"")||t.getModifierState(""Win""))&&(a|=8);if(s.altGr){if((3&a)==3)return;s.altGr=0}if(n===18||n===17){var f=""location""in t?t.location:t.keyLocation;if(n===17&&f===1)s[n]==1&&(o=t.timeStamp);else if(n===18&&a===3&&f===2){var l=t.timeStamp-o;l<50&&(s.altGr=!0)}}}n in r.MODIFIER_KEYS&&(n=-1),a&8&&n>=91&&n<=93&&(n=-1);if(!a&&n===13){var f=""location""in t?t.location:t.keyLocation;if(f===3){e(t,a,-n);if(t.defaultPrevented)return}}if(i.isChromeOS&&a&8){e(t,a,n);if(t.defaultPrevented)return;a&=-9}return!!a||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS?e(t,a,n):!1}function f(){s=Object.create(null)}var r=e(""./keys""),i=e(""./useragent""),s=null,o=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent(""on""+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent(""on""+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return e.type==""dblclick""?0:e.type==""contextmenu""||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,""mousemove"",n,!0),t.removeListener(document,""mouseup"",i,!0),t.removeListener(document,""dragstart"",i,!0)}return t.addListener(document,""mousemove"",n,!0),t.addListener(document,""mouseup"",i,!0),t.addListener(document,""dragstart"",i,!0),i},t.addTouchMoveListener=function(e,n){var r,i;t.addListener(e,""touchstart"",function(e){var t=e.touches,n=t[0];r=n.clientX,i=n.clientY}),t.addListener(e,""touchmove"",function(e){var t=e.touches;if(t.length>1)return;var s=t[0];e.wheelX=r-s.clientX,e.wheelY=i-s.clientY,r=s.clientX,i=s.clientY,n(e)})},t.addMouseWheelListener=function(e,n){""onmousewheel""in e?t.addListener(e,""mousewheel"",function(e){var t=8;e.wheelDeltaX!==undefined?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),n(e)}):""onwheel""in e?t.addListener(e,""wheel"",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5,e.wheelY=(e.deltaY||0)*5}n(e)}):t.addListener(e,""DOMMouseScroll"",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=(e.detail||0)*5,e.wheelY=0):(e.wheelX=0,e.wheelY=(e.detail||0)*5),n(e)})},t.addMultiMouseDownListener=function(e,n,r,s){function c(e){t.getButton(e)!==0?o=0:e.detail>1?(o++,o>4&&(o=1)):o=1;if(i.isIE){var c=Math.abs(e.clientX-u)>5||Math.abs(e.clientY-a)>5;if(!f||c)o=1;f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),o==1&&(u=e.clientX,a=e.clientY)}e._clicks=o,r[s](""mousedown"",e);if(o>4)o=0;else if(o>1)return r[s](l[o],e)}function h(e){o=2,f&&clearTimeout(f),f=setTimeout(function(){f=null},n[o-1]||600),r[s](""mousedown"",e),r[s](l[o],e)}var o=0,u,a,f,l={2:""dblclick"",3:""tripleclick"",4:""quadclick""};Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,""mousedown"",c),i.isOldIE&&t.addListener(e,""dblclick"",h)})};var u=!i.isMac||!i.isOpera||""KeyboardEvent""in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return r.KEY_MODS[u(e)]},t.addCommandKeyListener=function(e,n){var r=t.addListener;if(i.isOldGecko||i.isOpera&&!(""KeyboardEvent""in window)){var o=null;r(e,""keydown"",function(e){o=e.keyCode}),r(e,""keypress"",function(e){return a(n,e,o)})}else{var u=null;r(e,""keydown"",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=a(n,e,e.keyCode);return u=e.defaultPrevented,t}),r(e,""keypress"",function(e){u&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),u=null)}),r(e,""keyup"",function(e){s[e.keyCode]=null}),s||(f(),r(window,""focus"",f))}};if(typeof window==""object""&&window.postMessage&&!i.isOldIE){var l=1;t.nextTick=function(e,n){n=n||window;var r=""zero-timeout-message-""+l++,i=function(s){s.data==r&&(t.stopPropagation(s),t.removeListener(n,""message"",i),e())};t.addListener(n,""message"",i),n.postMessage(r,""*"")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):e()},n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame=typeof window==""object""&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define(""ace/range"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return""Range: [""+this.start.row+""/""+this.start.column+""] -> [""+this.end.row+""/""+this.end.column+""]""},this.contains=function(e,t){return this.compare(e,t)==0},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),t==1?(t=this.compare(r.row,r.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(r.row,r.column),t==-1?-1:t==1?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return this.comparePoint(e.start)==0&&this.comparePoint(e.end)==0},this.intersects=function(e){var t=this.compareRange(e);return t==-1||t==0||t==1},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){typeof e==""object""?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){typeof e==""object""?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)||this.isStart(e,t)?!1:!0:!1},this.insideStart=function(e,t){return this.compare(e,t)==0?this.isEnd(e,t)?!1:!0:!1},this.insideEnd=function(e,t){return this.compare(e,t)==0?this.isStart(e,t)?!1:!0:!1},this.compare=function(e,t){return!this.isMultiLine()&&e===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)var n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)var r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(n==0)return this;if(n==-1)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i}),ace.define(""ace/lib/lang"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("""").reverse().join("""")},t.stringRepeat=function(e,t){var n="""";while(t>0){t&1&&(n+=e);if(t>>=1)e+=e}return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"""")},t.stringTrimRight=function(e){return e.replace(i,"""")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]&&typeof e[n]==""object""?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function s(e){if(typeof e!=""object""||!e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n++)t[n]=s(e[n]);return t}if(Object.prototype.toString.call(e)!==""[object Object]"")return e;t={};for(var n in e)t[n]=s(e[n]);return t},t.arrayToMap=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,""\\$1"")},t.escapeHTML=function(e){return(""""+e).replace(/&/g,""&#38;"").replace(/""/g,""&#34;"").replace(/'/g,""&#39;"").replace(/</g,""&#60;"")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,function(e){n.push({offset:arguments[arguments.length-2],length:e.length})}),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){n==null&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}}),ace.define(""ace/keyboard/textinput"",[""require"",""exports"",""module"",""ace/lib/event"",""ace/lib/useragent"",""ace/lib/dom"",""ace/lib/lang"",""ace/lib/keys""],function(e,t,n){""use strict"";var r=e(""../lib/event""),i=e(""../lib/useragent""),s=e(""../lib/dom""),o=e(""../lib/lang""),u=i.isChrome<18,a=i.isIE,f=i.isChrome>63,l=400,c=e(""../lib/keys""),h=c.KEY_MODS,p=i.isIOS,d=p?/\s/:/\n/,v=function(e,t){function W(){x=!0,n.blur(),n.focus(),x=!1}function V(e){e.keyCode==27&&n.value.length<n.selectionStart&&(g||(T=n.value),N=C=-1,A()),X()}function J(){clearTimeout($),$=setTimeout(function(){b&&(n.style.cssText=b,b=""""),t.renderer.$keepTextAreaAtCursor==null&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}function Q(e,t,n){var r=null,i=!1;n.addEventListener(""keydown"",function(e){r&&clearTimeout(r),i=!0},!0),n.addEventListener(""keyup"",function(e){r=setTimeout(function(){i=!1},100)},!0);var s=function(e){if(document.activeElement!==n)return;if(i||g)return;if(v)return;var r=n.selectionStart,s=n.selectionEnd,o=null,u=0;console.log(r,s);if(r==0)o=c.up;else if(r==1)o=c.home;else if(s>C&&T[s]==""\n"")o=c.end;else if(r<N&&T[r-1]=="" "")o=c.left,u=h.option;else if(r<N||r==N&&C!=N&&r==s)o=c.left;else if(s>C&&T.slice(0,s).split(""\n"").length>2)o=c.down;else if(s>C&&T[s-1]=="" "")o=c.right,u=h.option;else if(s>C||s==C&&C!=N&&r==s)o=c.right;r!==s&&(u|=h.shift),o&&(t.onCommandKey(null,u,o),N=r,C=s,A(""""))};document.addEventListener(""selectionchange"",s),t.on(""destroy"",function(){document.removeEventListener(""selectionchange"",s)})}var n=s.createElement(""textarea"");n.className=""ace_text-input"",n.setAttribute(""wrap"",""off""),n.setAttribute(""autocorrect"",""off""),n.setAttribute(""autocapitalize"",""off""),n.setAttribute(""spellcheck"",!1),n.style.opacity=""0"",e.insertBefore(n,e.firstChild);var v=!1,m=!1,g=!1,y=!1,b="""",w=!0,E=!1;i.isMobile||(n.style.fontSize=""1px"");var S=!1,x=!1,T="""",N=0,C=0;try{var k=document.activeElement===n}catch(L){}r.addListener(n,""blur"",function(e){if(x)return;t.onBlur(e),k=!1}),r.addListener(n,""focus"",function(e){if(x)return;k=!0;if(i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(A):A()}),this.$focusScroll=!1,this.focus=function(){if(b||f||this.$focusScroll==""browser"")return n.focus({preventScroll:!0});var e=n.style.top;n.style.position=""fixed"",n.style.top=""0px"";try{var t=n.getBoundingClientRect().top!=0}catch(r){return}var i=[];if(t){var s=n.parentElement;while(s&&s.nodeType==1)i.push(s),s.setAttribute(""ace_nocontext"",!0),!s.parentElement&&s.getRootNode?s=s.getRootNode().host:s=s.parentElement}n.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute(""ace_nocontext"")}),setTimeout(function(){n.style.position="""",n.style.top==""0px""&&(n.style.top=e)},0)},this.blur=function(){n.blur()},this.isFocused=function(){return k},t.on(""beforeEndOperation"",function(){if(t.curOp&&t.curOp.command.name==""insertstring"")return;g&&(T=n.value="""",z()),A()});var A=p?function(e){if(!k||v&&!e)return;e||(e="""");var r=""\n ab""+e+""cde fg\n"";r!=n.value&&(n.value=T=r);var i=4,s=4+(e.length||(t.selection.isEmpty()?0:1));(N!=i||C!=s)&&n.setSelectionRange(i,s),N=i,C=s}:function(){if(g||y)return;if(!k&&!D)return;g=!0;var e=t.selection,r=e.getRange(),i=e.cursor.row,s=r.start.column,o=r.end.column,u=t.session.getLine(i);if(r.start.row!=i){var a=t.session.getLine(i-1);s=r.start.row<i-1?0:s,o+=a.length+1,u=a+""\n""+u}else if(r.end.row!=i){var f=t.session.getLine(i+1);o=r.end.row>i+1?f.length:o,o+=u.length+1,u=u+""\n""+f}u.length>l&&(s<l&&o<l?u=u.slice(0,l):(u=""\n"",s=0,o=1));var c=u+""\n\n"";c!=T&&(n.value=T=c,N=C=c.length),D&&(N=n.selectionStart,C=n.selectionEnd);if(C!=o||N!=s||n.selectionEnd!=C)try{n.setSelectionRange(s,o),N=s,C=o}catch(h){}g=!1};k&&t.onFocus();var O=function(e){return e.selectionStart===0&&e.selectionEnd>=T.length&&e.value===T&&T&&e.selectionEnd!==C},M=function(e){if(g)return;v?v=!1:O(n)&&(t.selectAll(),A())},_=null;this.setInputHandler=function(e){_=e},this.getInputHandler=function(){return _};var D=!1,P=function(e,r){D&&(D=!1);if(m)return A(),e&&t.onPaste(e),m=!1,"""";var i=n.selectionStart,s=n.selectionEnd,o=N,u=T.length-C,a=e,f=e.length-i,l=e.length-s,c=0;while(o>0&&T[c]==e[c])c++,o--;a=a.slice(c),c=1;while(u>0&&T.length-c>N-1&&T[T.length-c]==e[e.length-c])c++,u--;return f-=c-1,l-=c-1,a=a.slice(0,a.length-c+1),!r&&f==a.length&&!o&&!u&&!l?"""":(y=!0,a&&!o&&!u&&!f&&!l||S?t.onTextInput(a):t.onTextInput(a,{extendLeft:o,extendRight:u,restoreStart:f,restoreEnd:l}),y=!1,T=e,N=i,C=s,a)},H=function(e){if(g)return U();var t=n.value,r=P(t,!0);(t.length>l+100||d.test(r))&&A()},B=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(!r||u)return;var i=a||n?""Text"":""text/plain"";try{return t?r.setData(i,t)!==!1:r.getData(i)}catch(e){if(!n)return B(e,t,!0)}},j=function(e,i){var s=t.getCopyText();if(!s)return r.preventDefault(e);B(e,s)?(p&&(A(s),v=s,setTimeout(function(){v=!1},10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(v=!0,n.value=s,n.select(),setTimeout(function(){v=!1,A(),i?t.onCut():t.onCopy()}))},F=function(e){j(e,!0)},I=function(e){j(e,!1)},q=function(e){var s=B(e);typeof s==""string""?(s&&t.onPaste(s,e),i.isIE&&setTimeout(A),r.preventDefault(e)):(n.value="""",m=!0)};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,""select"",M),r.addListener(n,""input"",H),r.addListener(n,""cut"",F),r.addListener(n,""copy"",I),r.addListener(n,""paste"",q),(!(""oncut""in n)||!(""oncopy""in n)||!(""onpaste""in n))&&r.addListener(e,""keydown"",function(e){if(i.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:I(e);break;case 86:q(e);break;case 88:F(e)}});var R=function(e){if(g||!t.onCompositionStart||t.$readOnly)return;g={};if(S)return;setTimeout(U,0),t.on(""mousedown"",W);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,g.markerRange=r,g.selectionStart=N,t.onCompositionStart(g),g.useTextareaForIME?(n.value="""",T="""",N=0,C=0):(n.msGetInputContext&&(g.context=n.msGetInputContext()),n.getInputContext&&(g.context=n.getInputContext()))},U=function(){if(!g||!t.onCompositionUpdate||t.$readOnly)return;if(S)return W();if(g.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;P(e),g.markerRange&&(g.context&&(g.markerRange.start.column=g.selectionStart=g.context.compositionStartOffset),g.markerRange.end.column=g.markerRange.start.column+C-g.selectionStart)}},z=function(e){if(!t.onCompositionEnd||t.$readOnly)return;g=!1,t.onCompositionEnd(),t.off(""mousedown"",W),e&&H()},X=o.delayedCall(U,50).schedule.bind(null,null);r.addListener(n,""compositionstart"",R),r.addListener(n,""compositionupdate"",U),r.addListener(n,""keyup"",V),r.addListener(n,""keydown"",X),r.addListener(n,""compositionend"",z),this.getElement=function(){return n},this.setCommandMode=function(e){S=e,n.readOnly=!1},this.setReadOnly=function(e){S||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){E=e},this.onContextMenu=function(e){D=!0,A(),t._emit(""nativecontextmenu"",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){b||(b=n.style.cssText),n.style.cssText=(o?""z-index:100000;"":"""")+(i.isIE?""opacity:0.1;"":"""")+""text-indent: -""+(N+C)*t.renderer.characterWidth*.5+""px;"";var u=t.container.getBoundingClientRect(),a=s.computedStyle(t.container),f=u.top+(parseInt(a.borderTopWidth)||0),l=u.left+(parseInt(u.borderLeftWidth)||0),c=u.bottom-f-n.clientHeight-2,h=function(e){n.style.left=e.clientX-l-2+""px"",n.style.top=Math.min(e.clientY-f-2,c)+""px""};h(e);if(e.type!=""mousedown"")return;t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout($),i.isWin&&r.capture(t.container,h,J)},this.onContextMenuClose=J;var $,K=function(e){t.textInput.onContextMenu(e),J()};r.addListener(n,""mouseup"",K),r.addListener(n,""mousedown"",function(e){e.preventDefault(),J()}),r.addListener(t.renderer.scroller,""contextmenu"",K),r.addListener(n,""contextmenu"",K),p&&Q(e,t,n)};t.TextInput=v}),ace.define(""ace/mouse/default_handlers"",[""require"",""exports"",""module"",""ace/lib/useragent""],function(e,t,n){""use strict"";function o(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler(""mousedown"",this.onMouseDown.bind(e)),t.setDefaultHandler(""dblclick"",this.onDoubleClick.bind(e)),t.setDefaultHandler(""tripleclick"",this.onTripleClick.bind(e)),t.setDefaultHandler(""quadclick"",this.onQuadClick.bind(e)),t.setDefaultHandler(""mousewheel"",this.onMouseWheel.bind(e)),t.setDefaultHandler(""touchmove"",this.onTouchMove.bind(e));var n=[""select"",""startSelect"",""selectEnd"",""selectAllEnd"",""selectByWordsEnd"",""selectByLinesEnd"",""dragWait"",""dragWaitEnd"",""focusWait""];n.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,""getLineRange""),e.selectByWords=this.extendSelectionBy.bind(e,""getWordRange"")}function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function a(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=t.column-4;else var n=2*t.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var r=e(""../lib/useragent""),i=0,s=550;(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();if(s!==0){var o=i.getSelectionRange(),u=o.isEmpty();(u||s==1)&&i.selection.moveToPosition(n),s==2&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault());return}this.mousedownEvent.time=Date.now();if(t&&!i.isFocused()){i.focus();if(this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode){this.setState(""focusWait""),this.captureMouse(e);return}}return this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;if(!this.mousedownEvent)return;this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle(""ace_selecting""),this.setState(""select"")},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(r==-1)e=this.$clickSelection.end;else if(r==1)e=this.$clickSelection.start;else{var i=a(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end);if(s==-1&&o<=0){t=this.$clickSelection.end;if(i.end.row!=r.row||i.end.column!=r.column)r=i.start}else if(o==1&&s>=0){t=this.$clickSelection.start;if(i.start.row!=r.row||i.start.column!=r.column)r=i.end}else if(s==-1&&o==1)r=i.end,t=i.start;else{var u=a(this.$clickSelection,r);r=u.cursor,t=u.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle(""ace_selecting""),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>i||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState(""select"")):(i=n.selection.getWordRange(t.row,t.column),this.setState(""selectByWords"")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState(""selectByLines"");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState(""selectAll"")},this.onMouseWheel=function(e){if(e.getAccelKey())return;e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=i?e.wheelX/i:n.vx,u=i?e.wheelY/i:n.vy;i<s&&(o=(o+n.vx)/2,u=(u+n.vy)/2);var a=Math.abs(o/u),f=!1;a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(f=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(f=!0);if(f)n.allowed=r;else if(r-n.allowed<s){var l=Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(u)<=1.5*Math.abs(n.vy);l?(f=!0,n.allowed=r):n.allowed=0}n.t=r,n.vx=o,n.vy=u;if(f)return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()},this.onTouchMove=function(e){this.editor._emit(""mousewheel"",e)}}).call(o.prototype),t.DefaultHandlers=o}),ace.define(""ace/tooltip"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom""],function(e,t,n){""use strict"";function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=e(""./lib/oop""),i=e(""./lib/dom"");(function(){this.$init=function(){return this.$element=i.createElement(""div""),this.$element.className=""ace_tooltip"",this.$element.style.display=""none"",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+""px"",this.getElement().style.top=t+""px""},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){e!=null&&this.setText(e),t!=null&&n!=null&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display=""block"",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display=""none"",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s}),ace.define(""ace/mouse/default_gutter_handler"",[""require"",""exports"",""module"",""ace/lib/dom"",""ace/lib/oop"",""ace/lib/event"",""ace/tooltip""],function(e,t,n){""use strict"";function u(e){function l(){var r=u.getDocumentPosition().row,s=n.$annotations[r];if(!s)return c();var o=t.session.getLength();if(r==o){var a=t.renderer.pixelToScreenCoordinates(0,u.y).row,l=u.$pos;if(a>t.session.documentToScreenRow(l.row,l.column))return c()}if(f==s)return;f=s.text.join(""<br/>""),i.setHtml(f),i.show(),t._signal(""showGutterTooltip"",i),t.on(""mousewheel"",c);if(e.$tooltipFollowsMouse)h(u);else{var p=u.domEvent.target,d=p.getBoundingClientRect(),v=i.getElement().style;v.left=d.right+""px"",v.top=d.bottom+""px""}}function c(){o&&(o=clearTimeout(o)),f&&(i.hide(),f=null,t._signal(""hideGutterTooltip"",i),t.removeEventListener(""mousewheel"",c))}function h(e){i.setPosition(e.x,e.y)}var t=e.editor,n=t.renderer.$gutterLayer,i=new a(t.container);e.editor.setDefaultHandler(""guttermousedown"",function(r){if(!t.isFocused()||r.getButton()!=0)return;var i=n.getRegion(r);if(i==""foldWidgets"")return;var s=r.getDocumentPosition().row,o=t.session.selection;if(r.getShiftKey())o.selectTo(s,0);else{if(r.domEvent.detail==2)return t.selectAll(),r.preventDefault();e.$clickSelection=t.selection.getLineRange(s)}return e.setState(""selectByLines""),e.captureMouse(r),r.preventDefault()});var o,u,f;e.editor.setDefaultHandler(""guttermousemove"",function(t){var n=t.domEvent.target||t.domEvent.srcElement;if(r.hasCssClass(n,""ace_fold-widget""))return c();f&&e.$tooltipFollowsMouse&&h(t),u=t;if(o)return;o=setTimeout(function(){o=null,u&&!e.isMousePressed?l():c()},50)}),s.addListener(t.renderer.$gutter,""mouseout"",function(e){u=null;if(!f||o)return;o=setTimeout(function(){o=null,c()},50)}),t.on(""changeSession"",c)}function a(e){o.call(this,e)}var r=e(""../lib/dom""),i=e(""../lib/oop""),s=e(""../lib/event""),o=e(""../tooltip"").Tooltip;i.inherits(a,o),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),s=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+s>r&&(t-=20+s),o.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=u}),ace.define(""ace/mouse/mouse_event"",[""require"",""exports"",""module"",""ace/lib/event"",""ace/lib/useragent""],function(e,t,n){""use strict"";var r=e(""../lib/event""),i=e(""../lib/useragent""),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)}),ace.define(""ace/mouse/dragdrop_handler"",[""require"",""exports"",""module"",""ace/lib/dom"",""ace/lib/event"",""ace/lib/useragent""],function(e,t,n){""use strict"";function f(e){function T(e,n){var r=Date.now(),i=!n||e.row!=n.row,s=!n||e.column!=n.column;if(!S||i||s)t.moveCursorToPosition(e),S=r,x={x:p,y:d};else{var o=l(x.x,x.y,p,d);o>a?S=null:r-S>=u&&(t.renderer.scrollCursorIntoView(),S=null)}}function N(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.characterWidth,u=t.renderer.scroller.getBoundingClientRect(),a={x:{left:p-u.left,right:u.right-p},y:{top:d-u.top,bottom:u.bottom-d}},f=Math.min(a.x.left,a.x.right),l=Math.min(a.y.top,a.y.bottom),c={row:e.row,column:e.column};f/s<=2&&(c.column+=a.x.left<a.x.right?-3:2),l/i<=1&&(c.row+=a.y.top<a.y.bottom?-1:1);var h=e.row!=c.row,v=e.column!=c.column,m=!n||e.row!=n.row;h||v&&!m?E?r-E>=o&&t.renderer.scrollCursorIntoView(c):E=r:E=null}function C(){var e=g;g=t.renderer.screenToTextCoordinates(p,d),T(g,e),N(g,e)}function k(){m=t.selection.toOrientedRange(),h=t.session.addMarker(m,""ace_selection"",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),C(),v=setInterval(C,20),y=0,i.addListener(document,""mousemove"",O)}function L(){clearInterval(v),t.session.removeMarker(h),h=null,t.selection.fromOrientedRange(m),t.isFocused()&&!w&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),m=null,g=null,y=0,E=null,S=null,i.removeListener(document,""mousemove"",O)}function O(){A==null&&(A=setTimeout(function(){A!=null&&h&&L()},20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return e==""text/plain""||e==""Text""})}function _(e){var t=[""copy"",""copymove"",""all"",""uninitialized""],n=[""move"",""copymove"",""linkmove"",""all"",""uninitialized""],r=s.isMac?e.altKey:e.ctrlKey,i=""uninitialized"";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o=""none"";return r&&t.indexOf(i)>=0?o=""copy"":n.indexOf(i)>=0?o=""move"":t.indexOf(i)>=0&&(o=""copy""),o}var t=e.editor,n=r.createElement(""img"");n.src=""data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="",s.isOpera&&(n.style.cssText=""width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"");var f=[""dragWait"",""dragWaitEnd"",""startDrag"",""dragReadyEnd"",""onMouseDrag""];f.forEach(function(t){e[t]=this[t]},this),t.addEventListener(""mousedown"",this.onMouseDown.bind(e));var c=t.container,h,p,d,v,m,g,y=0,b,w,E,S,x;this.onDragStart=function(e){if(this.cancelDrag||!c.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}m=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?""copy"":""copyMove"",s.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),s.isOpera&&t.container.removeChild(n),i.clearData(),i.setData(""Text"",t.session.getTextRange()),w=!0,this.setState(""drag"")},this.onDragEnd=function(e){c.draggable=!1,w=!1,this.setState(null);if(!t.getReadOnly()){var n=e.dataTransfer.dropEffect;!b&&n==""move""&&t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle(""ace_dragging""),this.editor.renderer.setCursorStyle("""")},this.onDragEnter=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||k(),y++,e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragOver=function(e){if(t.getReadOnly()||!M(e.dataTransfer))return;return p=e.clientX,d=e.clientY,h||(k(),y++),A!==null&&(A=null),e.dataTransfer.dropEffect=b=_(e),i.preventDefault(e)},this.onDragLeave=function(e){y--;if(y<=0&&h)return L(),b=null,i.preventDefault(e)},this.onDrop=function(e){if(!g)return;var n=e.dataTransfer;if(w)switch(b){case""move"":m.contains(g.row,g.column)?m={start:g,end:g}:m=t.moveText(m,g);break;case""copy"":m=t.moveText(m,g,!0)}else{var r=n.getData(""Text"");m={start:g,end:t.session.insert(g,r)},t.focus(),b=null}return L(),i.preventDefault(e)},i.addListener(c,""dragstart"",this.onDragStart.bind(e)),i.addListener(c,""dragend"",this.onDragEnd.bind(e)),i.addListener(c,""dragenter"",this.onDragEnter.bind(e)),i.addListener(c,""dragover"",this.onDragOver.bind(e)),i.addListener(c,""dragleave"",this.onDragLeave.bind(e)),i.addListener(c,""drop"",this.onDrop.bind(e));var A=null}function l(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}var r=e(""../lib/dom""),i=e(""../lib/event""),s=e(""../lib/useragent""),o=200,u=200,a=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle(""ace_dragging""),this.editor.renderer.setCursorStyle(""""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle(""ace_dragging"");var n=s.isWin?""default"":""move"";e.renderer.setCursorStyle(n),this.setState(""dragReady"")},this.onMouseDrag=function(e){var t=this.editor.container;if(s.isIE&&this.state==""dragReady""){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if(this.state===""dragWait""){var n=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(i===1&&r===0&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;""unselectable""in o&&(o.unselectable=""on"");if(t.getDragDelay()){if(s.isWebKit){this.cancelDrag=!0;var u=t.container;u.draggable=!0}this.setState(""dragWait"")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}).call(f.prototype),t.DragdropHandler=f}),ace.define(""ace/lib/net"",[""require"",""exports"",""module"",""ace/lib/dom""],function(e,t,n){""use strict"";var r=e(""./dom"");t.get=function(e,t){var n=new XMLHttpRequest;n.open(""GET"",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement(""script"");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){if(n||!i.readyState||i.readyState==""loaded""||i.readyState==""complete"")i=i.onload=i.onreadystatechange=null,n||t()}},t.qualifyURL=function(e){var t=document.createElement(""a"");return t.href=e,t.href}}),ace.define(""ace/lib/event_emitter"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";var r={},i=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(!n.length&&!r)return;if(typeof t!=""object""||!t)t={};t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length;o++){n[o](t,this);if(t.propagationStopped)break}if(r&&!t.defaultPrevented)return r(t,this)},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(!n)return;n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)},r.once=function(e,t){var n=this;this.addEventListener(e,function r(){n.removeEventListener(e,r),t.apply(null,arguments)});if(!t)return new Promise(function(e){t=e})},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;n||(n=this._defaultHandlers={_disabled_:{}});if(n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var s=i.indexOf(t);s!=-1&&i.splice(s,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(!n)return;var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);i!=-1&&r.splice(i,1)}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),r.indexOf(t)==-1&&r[n?""unshift"":""push""](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(!n)return;var r=n.indexOf(t);r!==-1&&n.splice(r,1)},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define(""ace/lib/app_config"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/event_emitter""],function(e,t,n){""no use strict"";function o(e){typeof console!=""undefined""&&console.warn&&console.warn.apply(console,arguments)}function u(e,t){var n=new Error(e);n.data=t,typeof console==""object""&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=e(""./oop""),i=e(""./event_emitter"").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(!e){var n=this.$options;e=Object.keys(n).filter(function(e){return!n[e].hidden})}else Array.isArray(e)||(t=e,e=Object.keys(t));return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this[""$""+e]===t)return;var n=this.$options[e];if(!n)return o('misspelled option ""'+e+'""');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this[""$""+e]=t),n&&n.set&&n.set.call(this,t)},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this[""$""+e]:o('misspelled option ""'+e+'""')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach(function(t){var r=n[t];typeof r==""string""&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,""initialValue""in r&&(e[""$""+r.name]=r.initialValue)}),r.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var n=e.$options[t];""value""in n&&e.setOption(t,n.value)})},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(n){this.setDefaultValue(e,n,t[n])},this)},this.warn=o,this.reportError=u}).call(a.prototype),t.AppConfig=a}),ace.define(""ace/config"",[""require"",""exports"",""module"",""ace/lib/lang"",""ace/lib/oop"",""ace/lib/net"",""ace/lib/app_config""],function(e,t,n){""no use strict"";function l(r){if(!u||!u.document)return;a.packaged=r||e.packaged||n.packaged||u.define&&define.packaged;var i={},s="""",o=document.currentScript||document._currentScript,f=o&&o.ownerDocument||document,l=f.getElementsByTagName(""script"");for(var h=0;h<l.length;h++){var p=l[h],d=p.src||p.getAttribute(""src"");if(!d)continue;var v=p.attributes;for(var m=0,g=v.length;m<g;m++){var y=v[m];y.name.indexOf(""data-ace-"")===0&&(i[c(y.name.replace(/^data-ace-/,""""))]=y.value)}var b=d.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}s&&(i.base=i.base||s,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var w in i)typeof i[w]!=""undefined""&&t.set(w,i[w])}function c(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var r=e(""./lib/lang""),i=e(""./lib/oop""),s=e(""./lib/net""),o=e(""./lib/app_config"").AppConfig;n.exports=t=new o;var u=function(){return this||typeof window!=""undefined""&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"""",suffix:"".js"",$moduleUrls:{},loadWorkerFromBlob:!0};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error(""Unknown config key: ""+e);return a[e]},t.set=function(e,t){if(!a.hasOwnProperty(e))throw new Error(""Unknown config key: ""+e);a[e]=t},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split(""/"");t=t||n[n.length-2]||"""";var r=t==""snippets""?""/"":""-"",i=n[n.length-1];if(t==""worker""&&r==""-""){var s=new RegExp(""^""+t+""[\\-_]|[\\-_]""+t+""$"",""g"");i=i.replace(s,"""")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var o=a[t+""Path""];return o==null?o=a.basePath:r==""/""&&(t=r=""""),o&&o.slice(-1)!=""/""&&(o+=""/""),o+t+r+i+this.get(""suffix"")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{i=e(n)}catch(u){}if(i&&!t.$loading[n])return r&&r(i);t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r);if(t.$loading[n].length>1)return;var a=function(){e([n],function(e){t._emit(""load.module"",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get(""packaged""))return a();s.loadScript(t.moduleUrl(n,o),a),f()};var f=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error(""Unable to infer path to ace from script src,"",""use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes"",""or with webpack use ace/webpack-resolver""),f=function(){})};t.init=l}),ace.define(""ace/mouse/mouse_handler"",[""require"",""exports"",""module"",""ace/lib/event"",""ace/lib/useragent"",""ace/mouse/default_handlers"",""ace/mouse/default_gutter_handler"",""ace/mouse/mouse_event"",""ace/mouse/dragdrop_handler"",""ace/config""],function(e,t,n){""use strict"";var r=e(""../lib/event""),i=e(""../lib/useragent""),s=e(""./default_handlers"").DefaultHandlers,o=e(""./default_gutter_handler"").GutterHandler,u=e(""./mouse_event"").MouseEvent,a=e(""./dragdrop_handler"").DragdropHandler,f=e(""../config""),l=function(e){var t=this;this.editor=e,new s(this),new o(this),new a(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},u=e.renderer.getMouseEventTarget();r.addListener(u,""click"",this.onMouseEvent.bind(this,""click"")),r.addListener(u,""mousemove"",this.onMouseMove.bind(this,""mousemove"")),r.addMultiMouseDownListener([u,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,""onMouseEvent""),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,""mousewheel"")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,""touchmove""));var f=e.renderer.$gutter;r.addListener(f,""mousedown"",this.onMouseEvent.bind(this,""guttermousedown"")),r.addListener(f,""click"",this.onMouseEvent.bind(this,""gutterclick"")),r.addListener(f,""dblclick"",this.onMouseEvent.bind(this,""gutterdblclick"")),r.addListener(f,""mousemove"",this.onMouseEvent.bind(this,""guttermousemove"")),r.addListener(u,""mousedown"",n),r.addListener(f,""mousedown"",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,""mousedown"",n),r.addListener(e.renderer.scrollBarH.element,""mousedown"",n)),e.on(""mousemove"",function(n){if(t.state||t.$dragDelay||!t.$dragEnabled)return;var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),s=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?s.setCursorStyle(""default""):s.setCursorStyle("""")})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new u(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!n||!n.length)return;this.editor._emit(e,new u(t,this.editor))},this.onMouseWheel=function(e,t){var n=new u(t,this.editor);n.speed=this.$scrollSpeed*2,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new u(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$keepTextAreaAtCursor&&(s.$keepTextAreaAtCursor=null);var o=this,a=function(e){if(!e)return;if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new u(e,o.editor),o.$mouseMoved=!0},f=function(e){n.off(""beforeEndOperation"",c),clearInterval(h),l(),o[o.state+""End""]&&o[o.state+""End""](e),o.state="""",s.$keepTextAreaAtCursor==null&&(s.$keepTextAreaAtCursor=!0,s.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent(""mouseup"",e),n.endOperation()},l=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&e.domEvent.type==""dblclick"")return setTimeout(function(){f(e)});var c=function(e){if(!o.releaseMouse)return;n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+""End""]&&o[o.state+""End""](),o.state="""",o.releaseMouse())};n.on(""beforeEndOperation"",c),n.startOperation({command:{name:""mouse""}}),o.$onCaptureMouseMove=a,o.releaseMouse=r.capture(this.editor.container,a,f);var h=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){if(t&&t.domEvent&&t.domEvent.type!=""contextmenu"")return;this.editor.off(""nativecontextmenu"",e),t&&t.domEvent&&r.stopEvent(t.domEvent)}.bind(this);setTimeout(e,10),this.editor.on(""nativecontextmenu"",e)}}).call(l.prototype),f.defineOptions(l.prototype,""mouseHandler"",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=l}),ace.define(""ace/mouse/fold_handler"",[""require"",""exports"",""module"",""ace/lib/dom""],function(e,t,n){""use strict"";function i(e){e.on(""click"",function(t){var n=t.getDocumentPosition(),i=e.session,s=i.getFoldAt(n.row,n.column,1);s&&(t.getAccelKey()?i.removeFold(s):i.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&r.hasCssClass(o,""ace_inline_button"")&&r.hasCssClass(o,""ace_toggle_wrap"")&&(i.setOption(""wrap"",!0),e.renderer.scrollCursorIntoView())}),e.on(""gutterclick"",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==""foldWidgets""){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on(""gutterdblclick"",function(t){var n=e.renderer.$gutterLayer.getRegion(t);if(n==""foldWidgets""){var r=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(r,!0),o=s.range||s.firstRange;if(o){r=o.start.row;var u=i.getFoldAt(r,i.getLine(r).length,1);u?i.removeFold(u):(i.addFold(""..."",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}})}var r=e(""../lib/dom"");t.FoldHandler=i}),ace.define(""ace/keyboard/keybinding"",[""require"",""exports"",""module"",""ace/lib/keys"",""ace/lib/event""],function(e,t,n){""use strict"";var r=e(""../lib/keys""),i=e(""../lib/event""),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]==e)return;while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)},this.addKeyboardHandler=function(e,t){if(!e)return;typeof e==""function""&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);n!=-1&&this.$handlers.splice(n,1),t==undefined?this.$handlers.push(e):this.$handlers.splice(t,0,e),n==-1&&e.attach&&e.attach(this.$editor)},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t==-1?!1:(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(t,e)||""""}).filter(Boolean).join("" "")},this.$callKeyboardHandlers=function(e,t,n,r){var s,o=!1,u=this.$editor.commands;for(var a=this.$handlers.length;a--;){s=this.$handlers[a].handleKeyboard(this.$data,e,t,n,r);if(!s||!s.command)continue;s.command==""null""?o=!0:o=u.exec(s.command,this.$editor,s.args,r),o&&r&&e!=-1&&s.passEvent!=1&&s.command.passEvent!=1&&i.stopEvent(r);if(o)break}return!o&&e==-1&&(s={command:""insertstring""},o=u.exec(""insertstring"",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal(""keyboardActivity"",s),o},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s}),ace.define(""ace/lib/bidiutil"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";function F(e,t,n,r){var i=s?d:p,c=null,h=null,v=null,m=0,g=null,y=null,b=-1,w=null,E=null,T=[];if(!r)for(w=0,r=[];w<n;w++)r[w]=R(e[w]);o=s,u=!1,a=!1,f=!1,l=!1;for(E=0;E<n;E++){c=m,T[E]=h=q(e,r,T,E),m=i[c][h],g=m&240,m&=15,t[E]=v=i[m][5];if(g>0)if(g==16){for(w=b;w<E;w++)t[w]=1;b=-1}else b=-1;y=i[m][6];if(y)b==-1&&(b=E);else if(b>-1){for(w=b;w<E;w++)t[w]=v;b=-1}r[E]==S&&(t[E]=0),o|=v}if(l)for(w=0;w<n;w++)if(r[w]==x){t[w]=s;for(var C=w-1;C>=0;C--){if(r[C]!=N)break;t[C]=s}}}function I(e,t,n){if(o<e)return;if(e==1&&s==m&&!f){n.reverse();return}var r=n.length,i=0,u,a,l,c;while(i<r){if(t[i]>=e){u=i+1;while(u<r&&t[u]>=e)u++;for(a=i,l=u-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;i=u}i++}}function q(e,t,n,r){var i=t[r],o,c,h,p;switch(i){case g:case y:u=!1;case E:case w:return i;case b:return u?w:b;case T:return u=!0,a=!0,y;case N:return E;case C:if(r<1||r+1>=t.length||(o=n[r-1])!=b&&o!=w||(c=t[r+1])!=b&&c!=w)return E;return u&&(c=w),c==o?c:E;case k:o=r>0?n[r-1]:S;if(o==b&&r+1<t.length&&t[r+1]==b)return b;return E;case L:if(r>0&&n[r-1]==b)return b;if(u)return E;p=r+1,h=t.length;while(p<h&&t[p]==L)p++;if(p<h&&t[p]==b)return b;return E;case A:h=t.length,p=r+1;while(p<h&&t[p]==A)p++;if(p<h){var d=e[r],v=d>=1425&&d<=2303||d==64286;o=t[p];if(v&&(o==y||o==T))return y}if(r<1||(o=t[r-1])==S)return E;return n[r-1];case S:return u=!1,f=!0,s;case x:return l=!0,E;case O:case M:case D:case P:case _:u=!1;case H:return E}}function R(e){var t=e.charCodeAt(0),n=t>>8;return n==0?t>191?g:B[t]:n==5?/[\u0591-\u05f4]/.test(e)?y:g:n==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?A:/[\u0660-\u0669\u066b-\u066c]/.test(e)?w:t==1642?L:/[\u06f0-\u06f9]/.test(e)?b:T:n==32&&t<=8287?j[t&255]:n==254?t>=65136?T:E:E}function U(e){return e>=""\u064b""&&e<=""\u0655""}var r=[""\u0621"",""\u0641""],i=[""\u063a"",""\u064a""],s=0,o=0,u=!1,a=!1,f=!1,l=!1,c=!1,h=!1,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v=0,m=1,g=0,y=1,b=2,w=3,E=4,S=5,x=6,T=7,N=8,C=9,k=10,L=11,A=12,O=13,M=14,_=15,D=16,P=17,H=18,B=[H,H,H,H,H,H,H,H,H,x,S,x,N,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,S,S,S,x,N,E,E,L,L,L,E,E,E,E,E,k,C,k,C,C,b,b,b,b,b,b,b,b,b,b,C,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,E,E,E,E,H,H,H,H,H,H,S,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,C,E,L,L,L,L,E,E,E,E,g,E,E,H,E,E,L,L,b,b,E,g,E,E,E,b,g,E,E,E,E,E],j=[N,N,N,N,N,N,N,N,N,N,N,H,H,H,g,y,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N,S,O,M,_,D,P,C,L,L,L,L,L,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,N];t.L=g,t.R=y,t.EN=b,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT=""\u00b7"",t.doBidiReorder=function(e,n,r){if(e.length<2)return{};var i=e.split(""""),o=new Array(i.length),u=new Array(i.length),a=[];s=r?m:v,F(i,a,i.length,n);for(var f=0;f<o.length;o[f]=f,f++);I(2,a,o),I(1,a,o);for(var f=0;f<o.length-1;f++)n[f]===w?a[f]=t.AN:a[f]===y&&(n[f]>T&&n[f]<O||n[f]===E||n[f]===H)?a[f]=t.ON_R:f>0&&i[f-1]===""\u0644""&&/\u0622|\u0623|\u0625|\u0627/.test(i[f])&&(a[f-1]=a[f]=t.R_H,f++);i[i.length-1]===t.DOT&&(a[i.length-1]=t.B),i[0]===""\u202b""&&(a[0]=t.RLE);for(var f=0;f<o.length;f++)u[f]=a[o[f]];return{logicalFromVisual:o,bidiLevels:u}},t.hasBidiCharacters=function(e,t){var n=!1;for(var r=0;r<e.length;r++)t[r]=R(e.charAt(r)),!n&&(t[r]==y||t[r]==T||t[r]==w)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}}),ace.define(""ace/bidihandler"",[""require"",""exports"",""module"",""ace/lib/bidiutil"",""ace/lib/lang""],function(e,t,n){""use strict"";var r=e(""./lib/bidiutil""),i=e(""./lib/lang""),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL=""\u00ac"",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="""",this.wrapIndent=0,this.EOF=""\u00b6"",this.RLE=""\u202b"",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return this.seenBidi?(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(e){this.seenBidi?this.currentRow=null:e.action==""insert""&&s.test(e.lines.join(""\n""))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n,r=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){n=this.session.$getRowCacheIndex(t,this.currentRow-e-1);if(n!==r)break;r=n,e++}}else e=this.currentRow;return e},this.updateRowLine=function(e,t){e===undefined&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1,s=n?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;if(this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(t===undefined&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?s:r.DOT)}else this.line+=this.showInvisibles?s:r.DOT;var u=this.session,a=0,f;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return e===""	""||u.isFullWidth(e.charCodeAt(0))?(f=e===""	""?u.getScreenTabSize(t+a):2,a+=f-1,i.stringRepeat(r.DOT,f)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth===e.$characterSize.width)return;this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth(""\u05d4"");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=n*.45,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return this.$isRtl?!0:e!=undefined?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(e,t){var n=e.getCursorPosition();for(var r=e.selection.getSelectionAnchor().row;r<=n.row;r++)!t&&e.session.getLine(r).charAt(0)===e.session.$bidiHandler.RLE?e.session.doc.removeInLine(r,0,1):t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[i]%2!==0&&i++;for(var u=0;u<i;u++)o+=this.charWidths[s[u]];return!this.session.getOverwrite()&&e>t&&s[i]%2===0&&(o+=this.charWidths[s[i]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var n=this.bidiMap,r=n.bidiLevels,i,s=[],o=0,u=Math.min(e,t)-this.wrapIndent,a=Math.max(e,t)-this.wrapIndent,f=!1,l=!1,c=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<r.length;p++)h=n.logicalFromVisual[p],i=r[p],f=h>=u&&h<a,f&&!l?c=o:!f&&l&&s.push({left:c,width:o-c}),o+=this.charWidths[i],l=f;f&&p===r.length&&s.push({left:c,width:o-c});if(this.isRtlDir)for(var d=0;d<s.length;d++)s[d].left+=this.rtlLineOffset;return s},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),n=0,r=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[r]];this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);while(e>n+s/2){n+=s;if(r===i.length-1){s=0;break}s=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&s===0&&i[r-1]%2===0||!this.isRtlDir&&r===0&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&s!==0&&r--,t=this.bidiMap.logicalFromVisual[r]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(o.prototype),t.BidiHandler=o}),ace.define(""ace/selection"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/lang"",""ace/lib/event_emitter"",""ace/range""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/lang""),s=e(""./lib/event_emitter"").EventEmitter,o=e(""./range"").Range,u=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on(""change"",function(e){t.$cursorChanged=!0,t.$silent||t._emit(""changeCursor""),!t.$isEmpty&&!t.$silent&&t._emit(""changeSelection""),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on(""change"",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit(""changeSelection"")})};(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit(""changeSelection""))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit(""changeCursor""),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit(""changeSelection"")},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(typeof t==""undefined""){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n=typeof e==""number""?e:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,t===!0?new o(n,0,r,this.session.getLine(r).length):new o(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split("" "").length-1==t},this.moveCursorLeft=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(e.column===0)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e=this.lead.getPosition(),t;if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),s=i.match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(r.column+=s[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t));if(t>=n.length){this.moveCursorTo(e,n.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},this.moveCursorLongWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(e,t,-1);r==null&&(r=this.doc.getLine(e).substring(0,t));var s=i.stringReverse(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(t-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0);if(t<=0){this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(s)&&(t-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)},this.$shortWordEndIndex=function(e){var t=0,n,r=/\s/,i=this.session.tokenRe;i.lastIndex=0;if(this.session.tokenRe.exec(e))t=this.session.tokenRe.lastIndex;else{while((n=e[t])&&r.test(n))t++;if(t<1){i.lastIndex=0;while((n=e[t])&&!i.test(n)){i.lastIndex=0,t++;if(r.test(n)){if(t>2){t--;break}while((n=e[t])&&r.test(n))t++;if(t>2)break}}}}return i.lastIndex=0,t},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var s=this.doc.getLength();do e++,r=this.doc.getLine(e);while(e<s&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""""),t=0}var o=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e=this.lead.row,t=this.lead.column,n;if(n=this.session.getFoldAt(e,t,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(e).substring(0,t);if(t===0){do e--,r=this.doc.getLine(e);while(e>0&&/^\s*$/.test(r));t=r.length,/\s+$/.test(r)||(r="""")}var s=i.stringReverse(r),o=this.$shortWordEndIndex(s);return this.moveCursorTo(e,t-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;t===0&&(e!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column,r);e!==0&&t===0&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,t===0)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(r){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(e.start==undefined){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(u.prototype),t.Selection=u}),ace.define(""ace/tokenizer"",[""require"",""exports"",""module"",""ace/config""],function(e,t,n){""use strict"";var r=e(""./config""),i=2e3,s=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){var n=this.states[t],r=[],i=0,s=this.matchMappings[t]={defaultToken:""text""},o=""g"",u=[];for(var a=0;a<n.length;a++){var f=n[a];f.defaultToken&&(s.defaultToken=f.defaultToken),f.caseInsensitive&&(o=""gi"");if(f.regex==null)continue;f.regex instanceof RegExp&&(f.regex=f.regex.toString().slice(1,-1));var l=f.regex,c=(new RegExp(""(?:(""+l+"")|(.))"")).exec(""a"").length-2;Array.isArray(f.token)?f.token.length==1||c==1?f.token=f.token[0]:c-1!=f.token.length?(this.reportError(""number of classes and regexp groups doesn't match"",{rule:f,groupCount:c-1}),f.token=f.token[0]):(f.tokenArray=f.token,f.token=null,f.onMatch=this.$arrayTokens):typeof f.token==""function""&&!f.onMatch&&(c>1?f.onMatch=this.$applyToken:f.onMatch=f.token),c>1&&(/\\\d/.test(f.regex)?l=f.regex.replace(/\\([0-9]+)/g,function(e,t){return""\\""+(parseInt(t,10)+i+1)}):(c=1,l=this.removeCapturingGroups(f.regex)),!f.splitRegex&&typeof f.token!=""string""&&u.push(f)),s[i]=a,i+=c,r.push(l),f.onMatch||(f.onMatch=null)}r.length||(s[0]=0,r.push(""$"")),u.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)},this),this.regExps[t]=new RegExp(""(""+r.join("")|("")+"")|($)"",o)}};(function(){this.$setMaxTokenCount=function(e){i=e|0},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if(typeof n==""string"")return[{type:n,value:e}];var r=[];for(var i=0,s=n.length;i<s;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return""text"";var n=[],r=this.tokenArray;for(var i=0,s=r.length;i<s;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?""(?:"":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf(""(?="")!=-1){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,s,o,u,a){return r?r=u!=""]"":u?r=!0:o?(n==i.stack&&(i.end=a+1,i.stack=-1),n--):s&&(n++,s.length!=1&&(i.stack=n,i.start=a)),e}),i.end!=null&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return e.charAt(0)!=""^""&&(e=""^""+e),e.charAt(e.length-1)!=""$""&&(e+=""$""),new RegExp(e,(t||"""").replace(""g"",""""))},this.getLineTokens=function(e,t){if(t&&typeof t!=""string""){var n=t.slice(0);t=n[0],t===""#tmp""&&(n.shift(),t=n.shift())}else var n=[];var r=t||""start"",s=this.states[r];s||(r=""start"",s=this.states[r]);var o=this.matchMappings[r],u=this.regExps[r];u.lastIndex=0;var a,f=[],l=0,c=0,h={type:null,value:""""};while(a=u.exec(e)){var p=o.defaultToken,d=null,v=a[0],m=u.lastIndex;if(m-v.length>l){var g=e.substring(l,m-v.length);h.type==p?h.value+=g:(h.type&&f.push(h),h={type:p,value:g})}for(var y=0;y<a.length-2;y++){if(a[y+1]===undefined)continue;d=s[o[y]],d.onMatch?p=d.onMatch(v,r,n,e):p=d.token,d.next&&(typeof d.next==""string""?r=d.next:r=d.next(r,n),s=this.states[r],s||(this.reportError(""state doesn't exist"",r),r=""start"",s=this.states[r]),o=this.matchMappings[r],l=m,u=this.regExps[r],u.lastIndex=m),d.consumeLineEnd&&(l=m);break}if(v)if(typeof p==""string"")!!d&&d.merge===!1||h.type!==p?(h.type&&f.push(h),h={type:p,value:v}):h.value+=v;else if(p){h.type&&f.push(h),h={type:null,value:""""};for(var y=0;y<p.length;y++)f.push(p[y])}if(l==e.length)break;l=m;if(c++>i){c>2*e.length&&this.reportError(""infinite loop with in ace tokenizer"",{startState:t,line:e});while(l<e.length)h.type&&f.push(h),h={value:e.substring(l,l+=2e3),type:""overflow""};r=""start"",n=[];break}}return h.type&&f.push(h),n.length>1&&n[0]!==r&&n.unshift(""#tmp"",r),{tokens:f,state:n.length?n:r}},this.reportError=r.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define(""ace/mode/text_highlight_rules"",[""require"",""exports"",""module"",""ace/lib/lang""],function(e,t,n){""use strict"";var r=e(""../lib/lang""),i=function(){this.$rules={start:[{token:""empty_line"",regex:""^$""},{defaultToken:""text""}]}};(function(){this.addRules=function(e,t){if(!t){for(var n in e)this.$rules[n]=e[n];return}for(var n in e){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i];if(s.next||s.onMatch)typeof s.next==""string""&&s.next.indexOf(t)!==0&&(s.next=t+s.next),s.nextState&&s.nextState.indexOf(t)!==0&&(s.nextState=t+s.nextState)}this.$rules[t+n]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,s){var o=typeof e==""function""?(new e).getRules():e;if(i)for(var u=0;u<i.length;u++)i[u]=t+i[u];else{i=[];for(var a in o)i.push(t+a)}this.addRules(o,t);if(n){var f=Array.prototype[s?""push"":""unshift""];for(var u=0;u<i.length;u++)f.apply(this.$rules[i[u]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(e!=""start""||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||""start""};this.normalizeRules=function(){function i(s){var o=r[s];o.processed=!0;for(var u=0;u<o.length;u++){var a=o[u],f=null;Array.isArray(a)&&(f=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+"".end"",regex:a.end||a.start,next:""pop""}),a.token=a.token+"".start"",a.push=!0);var l=a.next||a.push;if(l&&Array.isArray(l)){var c=a.stateName;c||(c=a.token,typeof c!=""string""&&(c=c[0]||""""),r[c]&&(c+=n++)),r[c]=l,a.next=c,i(c)}else l==""pop""&&(a.next=t);a.push&&(a.nextState=a.next||a.push,a.next=e,delete a.push);if(a.rules)for(var h in a.rules)r[h]?r[h].push&&r[h].push.apply(r[h],a.rules[h]):r[h]=a.rules[h];var p=typeof a==""string""?a:a.include;p&&(Array.isArray(p)?f=p.map(function(e){return r[e]}):f=r[p]);if(f){var d=[u,1].concat(f);a.noEscape&&(d=d.filter(function(e){return!e.next})),o.splice.apply(o,d),u--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||""text"",a.caseInsensitive),delete a.defaultToken)}}var n=0,r=this.$rules;Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach(function(t){var s=e[t];n&&(s=s.toLowerCase());var o=s.split(r||""|"");for(var u=o.length;u--;)i[o[u]]=t}),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i}),ace.define(""ace/mode/behaviour"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(typeof e==""function"")var n=(new e).getBehaviours(t);else var n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;var t={};for(var n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(r.prototype),t.Behaviour=r}),ace.define(""ace/token_iterator"",[""require"",""exports"",""module"",""ace/range""],function(e,t,n){""use strict"";var r=e(""./range"").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;var e;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1,e||(e=this.$session.getLength());if(this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(n!==undefined)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i}),ace.define(""ace/mode/behaviour/cstyle"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/mode/behaviour"",""ace/token_iterator"",""ace/lib/lang""],function(e,t,n){""use strict"";var r=e(""../../lib/oop""),i=e(""../behaviour"").Behaviour,s=e(""../../token_iterator"").TokenIterator,o=e(""../../lib/lang""),u=[""text"",""paren.rparen"",""punctuation.operator""],a=[""text"",""paren.rparen"",""punctuation.operator"",""comment""],f,l={},c={'""':'""',""'"":""'""},h=function(e){var t=-1;e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount}));if(l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"""",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"""",maybeInsertedLineEnd:""""}},p=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},d=function(e){this.add(""braces"",""insertion"",function(t,n,r,i,s){var u=r.getCursorPosition(),a=i.doc.getLine(u.row);if(s==""{""){h(r);var l=r.getSelectionRange(),c=i.doc.getTextRange(l);if(c!==""""&&c!==""{""&&r.getWrapBehavioursEnabled())return p(l,c,""{"",""}"");if(d.isSaneInsertion(r,i))return/[\]\}\)]/.test(a[u.column])||r.inMultiSelectMode||e&&e.braces?(d.recordAutoInsert(r,i,""}""),{text:""{}"",selection:[1,1]}):(d.recordMaybeInsert(r,i,""{""),{text:""{"",selection:[1,1]})}else if(s==""}""){h(r);var v=a.substring(u.column,u.column+1);if(v==""}""){var m=i.$findOpeningBracket(""}"",{column:u.column+1,row:u.row});if(m!==null&&d.isAutoInsertedClosing(u,a,s))return d.popAutoInsertedClosing(),{text:"""",selection:[1,1]}}}else{if(s==""\n""||s==""\r\n""){h(r);var g="""";d.isMaybeInsertedClosing(u,a)&&(g=o.stringRepeat(""}"",f.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var v=a.substring(u.column,u.column+1);if(v===""}""){var y=i.findMatchingBracket({row:u.row,column:u.column+1},""}"");if(!y)return null;var b=this.$getIndent(i.getLine(y.row))}else{if(!g){d.clearMaybeInsertedClosing();return}var b=this.$getIndent(a)}var w=b+i.getTabString();return{text:""\n""+w+""\n""+b+g,selection:[1,w.length,1,w.length]}}d.clearMaybeInsertedClosing()}}),this.add(""braces"",""deletion"",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==""{""){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.end.column,i.end.column+1);if(u==""}"")return i.end.column++,i;f.maybeInsertedBrackets--}}),this.add(""parens"",""insertion"",function(e,t,n,r,i){if(i==""(""){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""""&&n.getWrapBehavioursEnabled())return p(s,o,""("","")"");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,"")""),{text:""()"",selection:[1,1]}}else if(i=="")""){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f=="")""){var l=r.$findOpeningBracket("")"",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:"""",selection:[1,1]}}}}),this.add(""parens"",""deletion"",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==""(""){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u=="")"")return i.end.column++,i}}),this.add(""brackets"",""insertion"",function(e,t,n,r,i){if(i==""[""){h(n);var s=n.getSelectionRange(),o=r.doc.getTextRange(s);if(o!==""""&&n.getWrapBehavioursEnabled())return p(s,o,""["",""]"");if(d.isSaneInsertion(n,r))return d.recordAutoInsert(n,r,""]""),{text:""[]"",selection:[1,1]}}else if(i==""]""){h(n);var u=n.getCursorPosition(),a=r.doc.getLine(u.row),f=a.substring(u.column,u.column+1);if(f==""]""){var l=r.$findOpeningBracket(""]"",{column:u.column+1,row:u.row});if(l!==null&&d.isAutoInsertedClosing(u,a,i))return d.popAutoInsertedClosing(),{text:"""",selection:[1,1]}}}}),this.add(""brackets"",""deletion"",function(e,t,n,r,i){var s=r.doc.getTextRange(i);if(!i.isMultiLine()&&s==""[""){h(n);var o=r.doc.getLine(i.start.row),u=o.substring(i.start.column+1,i.start.column+2);if(u==""]"")return i.end.column++,i}}),this.add(""string_dquotes"",""insertion"",function(e,t,n,r,i){var s=r.$mode.$quotes||c;if(i.length==1&&s[i]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(i)!=-1)return;h(n);var o=i,u=n.getSelectionRange(),a=r.doc.getTextRange(u);if(a!==""""&&(a.length!=1||!s[a])&&n.getWrapBehavioursEnabled())return p(u,a,o,o);if(!a){var f=n.getCursorPosition(),l=r.doc.getLine(f.row),d=l.substring(f.column-1,f.column),v=l.substring(f.column,f.column+1),m=r.getTokenAt(f.row,f.column),g=r.getTokenAt(f.row,f.column+1);if(d==""\\""&&m&&/escape/.test(m.type))return null;var y=m&&/string|escape/.test(m.type),b=!g||/string|escape/.test(g.type),w;if(v==o)w=y!==b,w&&/string\.end/.test(g.type)&&(w=!1);else{if(y&&!b)return null;if(y&&b)return null;var E=r.$mode.tokenRe;E.lastIndex=0;var S=E.test(d);E.lastIndex=0;var x=E.test(d);if(S||x)return null;if(v&&!/[\s;,.})\]\\]/.test(v))return null;w=!0}return{text:w?o+o:"""",selection:[1,1]}}}}),this.add(""string_dquotes"",""deletion"",function(e,t,n,r,i){var s=r.$mode.$quotes||c,o=r.doc.getTextRange(i);if(!i.isMultiLine()&&s.hasOwnProperty(o)){h(n);var u=r.doc.getLine(i.start.row),a=u.substring(i.start.column+1,i.start.column+2);if(a==o)return i.end.column++,i}})};d.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new s(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||""text"",u)){var i=new s(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||""text"",u))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||""text"",a)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,i,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=r.row,f.autoInsertedLineEnd=n+i.substr(r.column),f.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),i=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,i)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=r.row,f.maybeInsertedLineStart=i.substr(0,r.column)+n,f.maybeInsertedLineEnd=i.substr(r.column),f.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,n){return f.autoInsertedBrackets>0&&e.row===f.autoInsertedRow&&n===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return f.maybeInsertedBrackets>0&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},r.inherits(d,i),t.CstyleBehaviour=d}),ace.define(""ace/unicode"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,s=[];for(var o=0;o<r.length;o+=2)s.push(i+=r[o]),r[o+1]&&s.push(45,i+=r[o+1]);t.wordChars=String.fromCharCode.apply(null,s)}),ace.define(""ace/mode/text"",[""require"",""exports"",""module"",""ace/config"",""ace/tokenizer"",""ace/mode/text_highlight_rules"",""ace/mode/behaviour/cstyle"",""ace/unicode"",""ace/lib/lang"",""ace/token_iterator"",""ace/range""],function(e,t,n){""use strict"";var r=e(""../config""),i=e(""../tokenizer"").Tokenizer,s=e(""./text_highlight_rules"").TextHighlightRules,o=e(""./behaviour/cstyle"").CstyleBehaviour,u=e(""../unicode""),a=e(""../lib/lang""),f=e(""../token_iterator"").TokenIterator,l=e(""../range"").Range,c=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp(""^[""+u.wordChars+""\\$_]+"",""g""),this.nonTokenRe=new RegExp(""^(?:[^""+u.wordChars+""\\$_]|\\s])+"",""g""),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="""",this.blockComment="""",this.toggleCommentLines=function(e,t,n,r){function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var i=t.doc,s=!0,o=!0,u=Infinity,f=t.getTabSize(),l=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var c=this.blockComment.start,h=this.blockComment.end,p=new RegExp(""^(\\s*)(?:""+a.escapeRegExp(c)+"")""),d=new RegExp(""(?:""+a.escapeRegExp(h)+"")\\s*$""),v=function(e,t){if(g(e,t))return;if(!s||/\S/.test(e))i.insertInLine({row:t,column:e.length},h),i.insertInLine({row:t,column:u},c)},m=function(e,t){var n;(n=e.match(d))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(p))&&i.removeInLine(t,n[1].length,n[0].length)},g=function(e,n){if(p.test(e))return!0;var r=t.getTokens(n);for(var i=0;i<r.length;i++)if(r[i].type===""comment"")return!0}}else{if(Array.isArray(this.lineCommentStart))var p=this.lineCommentStart.map(a.escapeRegExp).join(""|""),c=this.lineCommentStart[0];else var p=a.escapeRegExp(this.lineCommentStart),c=this.lineCommentStart;p=new RegExp(""^(\\s*)(?:""+p+"") ?""),l=t.getUseSoftTabs();var m=function(e,t){var n=e.match(p);if(!n)return;var r=n[1].length,s=n[0].length;!b(e,r,s)&&n[0][s-1]=="" ""&&s--,i.removeInLine(t,r,s)},y=c+"" "",v=function(e,t){if(!s||/\S/.test(e))b(e,u,u)?i.insertInLine({row:t,column:u},y):i.insertInLine({row:t,column:u},c)},g=function(e,t){return p.test(e)},b=function(e,t,n){var r=0;while(t--&&e.charAt(t)=="" "")r++;if(r%f!=0)return!1;var r=0;while(e.charAt(n++)=="" "")r++;return f>2?r%f!=f-1:r%f==0}}var E=Infinity;w(function(e,t){var n=e.search(/\S/);n!==-1?(n<u&&(u=n),o&&!g(e,t)&&(o=!1)):E>e.length&&(E=e.length)}),u==Infinity&&(u=E,s=!1,o=!1),l&&u%f!=0&&(u=Math.floor(u/f)*f),w(o?m:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(!i)return;!i.start&&i[0]&&(i=i[0]);var s=new f(t,r.row,r.column),o=s.getCurrentToken(),u=t.selection,a=t.selection.toOrientedRange(),c,h;if(o&&/comment/.test(o.type)){var p,d;while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.start);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;p=new l(m,g,m,g+i.start.length);break}o=s.stepBackward()}var s=new f(t,r.row,r.column),o=s.getCurrentToken();while(o&&/comment/.test(o.type)){var v=o.value.indexOf(i.end);if(v!=-1){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+v;d=new l(m,g,m,g+i.end.length);break}o=s.stepForward()}d&&t.remove(d),p&&(t.remove(p),c=p.start.row,h=-i.start.length)}else h=i.start.length,c=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);a.start.row==c&&(a.start.column+=h),a.end.row==c&&(a.end.column+=h),t.selection.fromOrientedRange(a)},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)if(e[t]){var n=e[t],i=n.prototype.$id,s=r.$modes[i];s||(r.$modes[i]=s=new n),r.$modes[t]||(r.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=[""toggleBlockComment"",""toggleCommentLines"",""getNextLineIndent"",""checkOutdent"",""autoOutdent"",""transformAction"",""getCompletions""];for(var t=0;t<o.length;t++)(function(e){var n=o[t],r=e[n];e[o[t]]=function(){return this.$delegator(n,arguments,r)}})(this)},this.$delegator=function(e,t,n){var r=t[0]||""start"";if(typeof r!=""string""){if(Array.isArray(r[2])){var i=r[2][r[2].length-1],s=this.$modes[i];if(s)return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||""start""}for(var o=0;o<this.$embeds.length;o++){if(!this.$modes[this.$embeds[o]])continue;var u=r.split(this.$embeds[o]);if(!u[0]&&u[1]){t[0]=u[1];var s=this.$modes[this.$embeds[o]];return s[e].apply(s,t)}}var a=n.apply(this,t);return n?a:undefined},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var u=s[o][t].apply(this,arguments);if(u)return u}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t){var i=t[r];for(var s=0,o=i.length;s<o;s++)if(typeof i[s].token==""string"")/keyword|support|storage/.test(i[s].token)&&n.push(i[s].regex);else if(typeof i[s].token==""object"")for(var u=0,a=i[s].token.length;u<a;u++)if(/keyword|support|storage/.test(i[s].token[u])){var r=i[s].regex.match(/\(.+?\)/g)[u];n.push(r.substr(1,r.length-2))}}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map(function(e){return{name:e,value:e,score:0,meta:""keyword""}})},this.$id=""ace/mode/text""}).call(c.prototype),t.Mode=c}),ace.define(""ace/apply_delta"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";function r(e,t){throw console.log(""Invalid Delta:"",e),""Invalid Delta: ""+t}function i(e,t){return t.row>=0&&t.row<e.length&&t.column>=0&&t.column<=e[t.row].length}function s(e,t){t.action!=""insert""&&t.action!=""remove""&&r(t,""delta.action must be 'insert' or 'remove'""),t.lines instanceof Array||r(t,""delta.lines must be an Array""),(!t.start||!t.end)&&r(t,""delta.start/end must be an present"");var n=t.start;i(e,t.start)||r(t,""delta.start must be contained in document"");var s=t.end;t.action==""remove""&&!i(e,s)&&r(t,""delta.end must contained in document for 'remove' actions"");var o=s.row-n.row,u=s.column-(o==0?n.column:0);(o!=t.lines.length-1||t.lines[o].length!=u)&&r(t,""delta.range must match delta lines"")}t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,s=e[r]||"""";switch(t.action){case""insert"":var o=t.lines;if(o.length===1)e[r]=s.substring(0,i)+t.lines[0]+s.substring(i);else{var u=[r,1].concat(t.lines);e.splice.apply(e,u),e[r]=s.substring(0,i)+e[r],e[r+t.lines.length-1]+=s.substring(i)}break;case""remove"":var a=t.end.column,f=t.end.row;r===f?e[r]=s.substring(0,i)+s.substring(a):e.splice(r,f-r+1,s.substring(0,i)+e[f].substring(a))}}}),ace.define(""ace/anchor"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/event_emitter""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/event_emitter"").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),typeof n==""undefined""?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i=t.action==""insert"",s=(i?1:-1)*(t.end.row-t.start.row),o=(i?1:-1)*(t.end.column-t.start.column),u=t.start,a=i?u:t.end;return e(n,u,r)?{row:n.row,column:n.column}:e(a,n,!r)?{row:n.row+s,column:n.column+(n.row==a.row?o:0)}:{row:u.row,column:u.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(e.start.row==e.end.row&&e.start.row!=this.row)return;if(e.start.row>this.row)return;var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)},this.setPosition=function(e,t,n){var r;n?r={row:e,column:t}:r=this.$clipPositionToDocument(e,t);if(this.row==r.row&&this.column==r.column)return;var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal(""change"",{old:i,value:r})},this.detach=function(){this.document.removeEventListener(""change"",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on(""change"",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)}),ace.define(""ace/document"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/apply_delta"",""ace/lib/event_emitter"",""ace/range"",""ace/anchor""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./apply_delta"").applyDelta,s=e(""./lib/event_emitter"").EventEmitter,o=e(""./range"").Range,u=e(""./anchor"").Anchor,a=function(e){this.$lines=[""""],e.length===0?this.$lines=[""""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new u(this,e,t)},""aaa"".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,""\n"").split(""\n"")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:""\n"",this._signal(""changeNewLineMode"")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case""windows"":return""\r\n"";case""unix"":return""\n"";default:return this.$autoNewLine||""\n""}},this.$autoNewLine="""",this.$newLineMode=""auto"",this.setNewLineMode=function(e){if(this.$newLineMode===e)return;this.$newLineMode=e,this._signal(""changeNewLineMode"")},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e==""\r\n""||e==""\r""||e==""\n""},this.getLine=function(e){return this.$lines[e]||""""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"""").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn(""Use of document.insertLines is deprecated. Use the insertFullLines method instead.""),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn(""Use of document.removeLines is deprecated. Use the removeFullLines method instead.""),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn(""Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.""),this.insertMergedLines(e,["""",""""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:""insert"",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();e===undefined?e=n:e<0?e=0:e>=n&&(e=n-1,t=undefined);var r=this.getLine(e);return t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""""]),n=0):(t=[""""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(t.length==1?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:""insert"",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:""remove"",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:""remove"",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,s=n?this.getLine(i).length:0,u=r?t+1:t,a=r?0:this.getLine(u).length,f=new o(i,s,u,a),l=this.$lines.slice(e,t+1);return this.applyDelta({start:f.start,end:f.end,action:""remove"",lines:this.getLinesForRange(f)}),l},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:""remove"",lines:["""",""""]})},this.replace=function(e,t){e instanceof o||(e=o.fromPoints(e.start,e.end));if(t.length===0&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;this.remove(e);var n;return t?n=this.insert(e.start,t):n=e.start,n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n=e.action==""insert"";if(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))return;n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal(""change"",e))},this.$splitAndapplyLargeDelta=function(e,t){var n=e.lines,r=n.length-t+1,i=e.start.row,s=e.start.column;for(var o=0,u=0;o<r;o=u){u+=t-1;var a=n.slice(o,u);a.push(""""),this.applyDelta({start:this.pos(i+o,s),end:this.pos(i+u,s=0),action:e.action,lines:a},!0)}e.lines=n.slice(o),e.start.row=i+o,e.start.column=s,this.applyDelta(e,!0)},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action==""insert""?""remove"":""insert"",lines:e.lines.slice()})},this.indexToPosition=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length;for(var i=t||0,s=n.length;i<s;i++){e-=n[i].length+r;if(e<0)return{row:i,column:e+n[i].length+r}}return{row:s-1,column:e+n[s-1].length+r}},this.positionToIndex=function(e,t){var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,s=Math.min(e.row,n.length);for(var o=t||0;o<s;++o)i+=n[o].length+r;return i+e.column}}).call(a.prototype),t.Document=a}),ace.define(""ace/background_tokenizer"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/event_emitter""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/event_emitter"").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(!n.running)return;var e=new Date,t=n.currentLine,r=-1,i=n.doc,s=t;while(n.lines[t])t++;var o=i.getLength(),u=0;n.running=!1;while(t<o){n.$tokenizeRow(t),r=t;do t++;while(n.lines[t]);u++;if(u%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,r==-1&&(r=t),s<=r&&n.fireUpdateEvent(s,r)}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal(""update"",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.lines[t]=null;else if(e.action==""remove"")this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||""start""},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""""!=r.state+""""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(s.prototype),t.BackgroundTokenizer=s}),ace.define(""ace/search_highlight"",[""require"",""exports"",""module"",""ace/lib/lang"",""ace/lib/oop"",""ace/range""],function(e,t,n){""use strict"";var r=e(""./lib/lang""),i=e(""./lib/oop""),s=e(""./range"").Range,o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||""text""};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){if(this.regExp+""""==e+"""")return;this.regExp=e,this.cache=[]},this.update=function(e,t,n,i){if(!this.regExp)return;var o=i.firstRow,u=i.lastRow;for(var a=o;a<=u;a++){var f=this.cache[a];f==null&&(f=r.getMatchOffsets(n.getLine(a),this.regExp),f.length>this.MAX_RANGES&&(f=f.slice(0,this.MAX_RANGES)),f=f.map(function(e){return new s(a,e.offset,a,e.offset+e.length)}),this.cache[a]=f.length?f:"""");for(var l=f.length;l--;)t.drawSingleLineMarker(e,f[l].toScreenRange(n),this.clazz,i)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define(""ace/edit_session/fold_line"",[""require"",""exports"",""module"",""ace/range""],function(e,t,n){""use strict"";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e(""../range"").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error(""Can't add a fold to this FoldLine as it has no connection"");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error(""Trying to add fold to FoldRow that doesn't have a matching row"");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r=0,i=this.folds,s,o,u,a=!0;t==null&&(t=this.end.row,n=this.end.column);for(var f=0;f<i.length;f++){s=i[f],o=s.range.compareStart(t,n);if(o==-1){e(null,t,n,r,a);return}u=e(null,s.start.row,s.start.column,r,a),u=!u&&e(s.placeholder,s.start.row,s.start.column,r);if(u||o===0)return;a=!s.sameRow,r=s.end.column}e(null,t,n,r,a)},this.getNextFoldTo=function(e,t){var n,r;for(var i=0;i<this.folds.length;i++){n=this.folds[i],r=n.range.compareEnd(e,t);if(r==-1)return{fold:n,kind:""after""};if(r===0)return{fold:n,kind:""inside""}}return null},this.addRemoveChars=function(e,t,n){var r=this.getNextFoldTo(e,t),i,s;if(r){i=r.fold;if(r.kind==""inside""&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){s=this.folds;var o=s.indexOf(i);o===0&&(this.start.column+=n);for(o;o<s.length;o++){i=s[o],i.start.column+=n;if(!i.sameRow)return;i.end.column+=n}this.end.column+=n}}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||n.kind==""inside"")return null;var r=n.fold,s=this.folds,o=this.foldData,u=s.indexOf(r),a=s[u-1];this.end.row=a.end.row,this.end.column=a.end.column,s=s.splice(u,s.length-u);var f=new i(o,s);return o.splice(o.indexOf(this)+1,0,f),f},this.merge=function(e){var t=e.folds;for(var n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+"": [""];return this.folds.forEach(function(t){e.push(""  ""+t.toString())}),e.push(""]""),e.join(""\n"")},this.idxToPosition=function(e){var t=0;for(var n=0;n<this.folds.length;n++){var r=this.folds[n];e-=r.start.column-t;if(e<0)return{row:r.start.row,column:r.start.column+e};e-=r.placeholder.length;if(e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i}),ace.define(""ace/range_list"",[""require"",""exports"",""module"",""ace/range""],function(e,t,n){""use strict"";var r=e(""./range"").Range,i=r.comparePoints,s=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){var r=this.ranges;for(var s=n||0;s<r.length;s++){var o=r[s],u=i(e,o.end);if(u>0)continue;var a=i(e,o.start);return u===0?t&&a!==0?-s-2:s:a>0||a===0&&!t?s:-s-1}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){var t=[];for(var n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return i(e.start,t.start)});var n=t[0],r;for(var s=1;s<t.length;s++){r=n,n=t[s];var o=i(r.end,n.start);if(o<0)continue;if(o==0&&!r.isEmpty()&&!n.isEmpty())continue;i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(s,1),e.push(n),n=r,s--}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);var s=[];for(var o=r;o<i;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on(""change"",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener(""change"",this.onChange),this.session=null},this.$onChange=function(e){var t=e.start,n=e.end,r=t.row,i=n.row,s=this.ranges;for(var o=0,u=s.length;o<u;o++){var a=s[o];if(a.end.row>=r)break}if(e.action==""insert""){var f=i-r,l=-t.column+n.column;for(;o<u;o++){var a=s[o];if(a.start.row>r)break;a.start.row==r&&a.start.column>=t.column&&(a.start.column!=t.column||!this.$insertRight)&&(a.start.column+=l,a.start.row+=f);if(a.end.row==r&&a.end.column>=t.column){if(a.end.column==t.column&&this.$insertRight)continue;a.end.column==t.column&&l>0&&o<u-1&&a.end.column>a.start.column&&a.end.column==s[o+1].start.column&&(a.end.column-=l),a.end.column+=l,a.end.row+=f}}}else{var f=r-i,l=t.column-n.column;for(;o<u;o++){var a=s[o];if(a.start.row>i)break;if(a.end.row<i&&(r<a.end.row||r==a.end.row&&t.column<a.end.column))a.end.row=r,a.end.column=t.column;else if(a.end.row==i)if(a.end.column<=n.column){if(f||a.end.column>t.column)a.end.column=t.column,a.end.row=t.row}else a.end.column+=l,a.end.row+=f;else a.end.row>i&&(a.end.row+=f);if(a.start.row<i&&(r<a.start.row||r==a.start.row&&t.column<a.start.column))a.start.row=r,a.start.column=t.column;else if(a.start.row==i)if(a.start.column<=n.column){if(f||a.start.column>t.column)a.start.column=t.column,a.start.row=t.row}else a.start.column+=l,a.start.row+=f;else a.start.row>i&&(a.start.row+=f)}}if(f!=0&&o<u)for(;o<u;o++){var a=s[o];a.start.row+=f,a.end.row+=f}}}).call(s.prototype),t.RangeList=s}),ace.define(""ace/edit_session/fold"",[""require"",""exports"",""module"",""ace/range"",""ace/range_list"",""ace/lib/oop""],function(e,t,n){""use strict"";function u(e,t){e.row-=t.row,e.row==0&&(e.column-=t.column)}function a(e,t){u(e.start,t),u(e.end,t)}function f(e,t){e.row==0&&(e.column+=t.column),e.row+=t.row}function l(e,t){f(e.start,t),f(e.end,t)}var r=e(""../range"").Range,i=e(""../range_list"").RangeList,s=e(""../lib/oop""),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};s.inherits(o,i),function(){this.toString=function(){return'""'+this.placeholder+'"" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(this.range.isEqual(e))return;if(!this.range.containsRange(e))throw new Error(""A fold can't intersect already existing fold""+e.range+this.range);a(e,this.start);var t=e.start.row,n=e.start.column;for(var r=0,i=-1;r<this.subFolds.length;r++){i=this.subFolds[r].range.compare(t,n);if(i!=1)break}var s=this.subFolds[r];if(i==0)return s.addSubFold(e);var t=e.range.end.row,n=e.range.end.column;for(var o=r,i=-1;o<this.subFolds.length;o++){i=this.subFolds[o].range.compare(t,n);if(i!=1)break}var u=this.subFolds[o];if(i==0)throw new Error(""A fold can't intersect already existing fold""+e.range+this.range);var f=this.subFolds.splice(r,o-r,e);return e.setFoldLine(this.foldLine),e},this.restoreRange=function(e){return l(e,this.start)}}.call(o.prototype)}),ace.define(""ace/edit_session/folding"",[""require"",""exports"",""module"",""ace/range"",""ace/edit_session/fold_line"",""ace/edit_session/fold"",""ace/token_iterator""],function(e,t,n){""use strict"";function u(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;var i=r.folds;for(var s=0;s<i.length;s++){var o=i[s];if(o.range.contains(e,t)){if(n==1&&o.range.isEnd(e,t))continue;if(n==-1&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var s=0;s<r.length;s++){var o=r[s].range.compareRange(e);if(o==2)continue;if(o==-2)break;var u=r[s].folds;for(var a=0;a<u.length;a++){var f=u[a];o=f.range.compareRange(e);if(o==-2)break;if(o==2)continue;if(o==42)break;i.push(f)}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){var e=[],t=this.$foldData;for(var n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){r=r||this.getFoldLine(e);if(!r)return null;var i={end:{column:0}},s,o;for(var u=0;u<r.folds.length;u++){o=r.folds[u];var a=o.range.compareEnd(e,t);if(a==-1){s=this.getLine(o.start.row).substring(i.end.column,o.start.column);break}if(a===0)return null;i=o}return s||(s=this.getLine(o.start.row).substring(i.end.column)),n==-1?s.substring(0,t-i.end.column):n==1?s.substring(t-i.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;t&&(r=n.indexOf(t)),r==-1&&(r=0);for(r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){var n=this.$foldData,r=t-e+1;for(var i=0;i<n.length;i++){var s=n[i],o=s.end.row,u=s.start.row;if(o>=t){u<t&&(u>=e?r-=t-u:r=0);break}o>=e&&(u>=e?r-=o-u:r-=o-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var n=this.$foldData,r=!1,o;e instanceof s?o=e:(o=new s(t,e),o.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(o.range);var u=o.start.row,a=o.start.column,f=o.end.row,l=o.end.column;if(u<f||u==f&&a<=l-2){var c=this.getFoldAt(u,a,1),h=this.getFoldAt(f,l,-1);if(c&&h==c)return c.addSubFold(o);c&&!c.range.isStart(u,a)&&this.removeFold(c),h&&!h.range.isEnd(f,l)&&this.removeFold(h);var p=this.getFoldsInRange(o.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){o.addSubFold(e)}));for(var d=0;d<n.length;d++){var v=n[d];if(f==v.start.row){v.addFold(o),r=!0;break}if(u==v.end.row){v.addFold(o),r=!0;if(!o.sameRow){var m=n[d+1];if(m&&m.start.row==f){v.merge(m);break}}break}if(f<=v.start.row)break}return r||(v=this.$addFoldLine(new i(this.$foldData,o))),this.$useWrapMode?this.$updateWrapData(v.start.row,v.start.row):this.$updateRowLengthCache(v.start.row,v.start.row),this.$modified=!0,this._signal(""changeFold"",{data:o,action:""add""}),o}throw new Error(""The range has to be at least 2 characters width"")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,s=t.folds;if(s.length==1)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);s=o.folds,s.shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal(""changeFold"",{data:e,action:""remove""})},this.removeFolds=function(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var n,i;e==null?(n=new r(0,0,this.getLength(),0),t=!0):typeof e==""number""?n=new r(e,0,e,this.getLine(e).length):""row""in e?n=r.fromPoints(e,e):n=e,i=this.getFoldsInRangeList(n);if(t)this.removeFolds(i);else{var s=i;while(s.length)this.expandFolds(s),s=this.getFoldsInRangeList(n)}if(i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){r==null&&(r=e.start.row),i==null&&(i=0),t==null&&(t=e.end.row),n==null&&(n=this.getLine(t).length);var s=this.doc,o="""";return e.walk(function(e,t,n,u){if(t<r)return;if(t==r){if(n<i)return;u=Math.max(i,u)}e!=null?o+=e:o+=s.getLine(t).substring(u,n)},t,n),o},this.getDisplayLine=function(e,t,n,r){var i=this.getFoldLine(e);if(!i){var s;return s=this.doc.getLine(e),s.substring(r||0,t||s.length)}return this.getFoldDisplayLine(i,e,t,n,r)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var n=t.folds.map(function(e){return e.clone()});return new i(e,n)}),e},this.toggleFold=function(e){var t=this.selection,n=t.getRange(),r,i;if(n.isEmpty()){var s=n.start;r=this.getFoldAt(s.row,s.column);if(r){this.expandFold(r);return}(i=this.findMatchingBracket(s))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length){this.expandFolds(o);return}o.length==1&&(r=o[0])}r||(r=this.getFoldAt(n.start.row,n.start.column));if(r&&r.range.toString()==n.toString()){this.expandFold(r);return}var u=""..."";if(!n.isMultiLine()){u=this.getTextRange(n);if(u.length<4)return;u=u.trim().substring(0,2)+""..""}this.addFold(u,n)},this.getCommentFoldRange=function(e,t,n){var i=new o(this,e,t),s=i.getCurrentToken(),u=s.type;if(s&&/^comment|string/.test(u)){u=u.match(/comment|string/)[0],u==""comment""&&(u+=""|doc-start"");var a=new RegExp(u),f=new r;if(n!=1){do s=i.stepBackward();while(s&&a.test(s.type));i.stepForward()}f.start.row=i.getCurrentTokenRow(),f.start.column=i.getCurrentTokenColumn()+2,i=new o(this,e,t);if(n!=-1){var l=-1;do{s=i.stepForward();if(l==-1){var c=this.getState(i.$row);a.test(c)||(l=i.$row)}else if(i.$row>l)break}while(s&&a.test(s.type));s=i.stepBackward()}else s=i.getCurrentToken();return f.end.row=i.getCurrentTokenRow(),f.end.column=i.getCurrentTokenColumn()+s.value.length-2,f}},this.foldAll=function(e,t,n){n==undefined&&(n=1e5);var r=this.foldWidgets;if(!r)return;t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++){r[i]==null&&(r[i]=this.getFoldWidget(i));if(r[i]!=""start"")continue;var s=this.getFoldWidgetRange(i);if(s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e){i=s.end.row;try{var o=this.addFold(""..."",s);o&&(o.collapseChildren=n)}catch(u){}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle=""markbegin"",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error(""invalid fold style: ""+e+""[""+Object.keys(this.$foldStyles).join("", "")+""]"");if(this.$foldStyle==e)return;this.$foldStyle=e,e==""manual""&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)},this.$setFolding=function(e){if(this.$foldMode==e)return;this.$foldMode=e,this.off(""change"",this.$updateFoldWidgets),this.off(""tokenizerUpdate"",this.$tokenizerUpdateFoldWidgets),this._signal(""changeAnnotation"");if(!e||this.$foldStyle==""manual""){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on(""change"",this.$updateFoldWidgets),this.on(""tokenizerUpdate"",this.$tokenizerUpdateFoldWidgets)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r=e-1,i;while(r>=0){var s=n[r];s==null&&(s=n[r]=this.getFoldWidget(r));if(s==""start""){var o=this.getFoldWidgetRange(r);i||(i=o);if(o&&o.end.row>=e)break}r--}return{range:r!==-1&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+="" ace_invalid"")}},this.$toggleFoldWidget=function(e,t){if(!this.getFoldWidget)return;var n=this.getFoldWidget(e),r=this.getLine(e),i=n===""end""?-1:1,s=this.getFoldAt(e,i===-1?0:r.length,i);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()){s=this.getFoldAt(o.start.row,o.start.column,1);if(s&&o.isEqual(s.range))return this.removeFold(s),s}if(t.siblings){var u=this.getParentFoldRangeData(e);if(u.range)var a=u.range.start.row+1,f=u.range.end.row;this.foldAll(a,f,t.all?1e4:0)}else t.children?(f=o?o.end.row:this.getLength(),this.foldAll(e+1,f,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold(""..."",o));return o},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(n)return;var r=this.getParentFoldRangeData(t,!0);n=r.range||r.firstRange;if(n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold(""..."",n)}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(n===0)this.foldWidgets[t]=null;else if(e.action==""remove"")this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var r=e(""../range"").Range,i=e(""./fold_line"").FoldLine,s=e(""./fold"").Fold,o=e(""../token_iterator"").TokenIterator;t.Folding=u}),ace.define(""ace/edit_session/bracket_match"",[""require"",""exports"",""module"",""ace/token_iterator"",""ace/range""],function(e,t,n){""use strict"";function s(){this.findMatchingBracket=function(e,t){if(e.column==0)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(n=="""")return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t=this.getLine(e.row),n=!0,r,s=t.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);o||(s=t.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1);if(!o)return null;if(o[1]){var u=this.$findClosingBracket(o[1],e);if(!u)return null;r=i.fromPoints(e,u),n||(r.end.column++,r.start.column--),r.cursor=r.end}else{var u=this.$findOpeningBracket(o[2],e);if(!u)return null;r=i.fromPoints(u,e),n||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.$brackets={"")"":""("",""("":"")"",""]"":""["",""["":""]"",""{"":""}"",""}"":""{"",""<"":"">"","">"":""<""},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(""(\\.?""+u.type.replace(""."",""\\."").replace(""rparen"","".paren"").replace(/\b(?:end)\b/,""(?:start|begin|end)"")+"")+""));var a=t.column-o.getCurrentTokenColumn()-2,f=u.value;for(;;){while(a>=0){var l=f.charAt(a);if(l==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else l==e&&(s+=1);a-=1}do u=o.stepBackward();while(u&&!n.test(u.type));if(u==null)break;f=u.value,a=f.length-1}return null},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],s=1,o=new r(this,t.row,t.column),u=o.getCurrentToken();u||(u=o.stepForward());if(!u)return;n||(n=new RegExp(""(\\.?""+u.type.replace(""."",""\\."").replace(""lparen"","".paren"").replace(/\b(?:start|begin)\b/,""(?:start|begin|end)"")+"")+""));var a=t.column-o.getCurrentTokenColumn();for(;;){var f=u.value,l=f.length;while(a<l){var c=f.charAt(a);if(c==i){s-=1;if(s==0)return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}do u=o.stepForward();while(u&&!n.test(u.type));if(u==null)break;a=0}return null}}var r=e(""../token_iterator"").TokenIterator,i=e(""../range"").Range;t.BracketMatch=s}),ace.define(""ace/edit_session"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/lang"",""ace/bidihandler"",""ace/config"",""ace/lib/event_emitter"",""ace/selection"",""ace/mode/text"",""ace/range"",""ace/document"",""ace/background_tokenizer"",""ace/search_highlight"",""ace/edit_session/folding"",""ace/edit_session/bracket_match""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/lang""),s=e(""./bidihandler"").BidiHandler,o=e(""./config""),u=e(""./lib/event_emitter"").EventEmitter,a=e(""./selection"").Selection,f=e(""./mode/text"").Mode,l=e(""./range"").Range,c=e(""./document"").Document,h=e(""./background_tokenizer"").BackgroundTokenizer,p=e(""./search_highlight"").SearchHighlight,d=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id=""session""+ ++d.$uid,this.$foldData.toString=function(){return this.join(""\n"")},this.on(""changeFold"",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this);if(typeof e!=""object""||!e.getLine)e=new c(e);this.setDocument(e),this.selection=new a(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(t),o._signal(""session"",this)};d.$uid=0,function(){function m(e){return e<4352?!1:e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510}r.implement(this,u),this.setDocument=function(e){this.doc&&this.doc.removeListener(""change"",this.$onChange),this.doc=e,e.on(""change"",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e){this.$docRowCache=[],this.$screenRowCache=[];return}var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,s=e[i];if(t>s)n=i+1;else{if(!(t<s))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:""removeFolds"",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal(""change"",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n=this.bgTokenizer.getTokens(e),r,i=0;if(t==null){var s=n.length-1;i=this.getLine(e).length}else for(var s=0;s<n.length;s++){i+=n[s].value.length;if(i>=t)break}return r=n[s],r?(r.index=s,r.start=i-r.value.length,r):null},this.setUndoManager=function(e){this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel();if(e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat("" "",this.getTabSize()):""	""},this.setUseSoftTabs=function(e){this.setOption(""useSoftTabs"",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption(""tabSize"",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption(""navigateWithinSoftTabs"",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption(""overwrite"",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""""),this.$decorations[e]+="" ""+t,this._signal(""changeBreakpoint"",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"""").replace("" ""+t,""""),this._signal(""changeBreakpoint"",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]=""ace_breakpoint"";this._signal(""changeBreakpoint"",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal(""changeBreakpoint"",{})},this.setBreakpoint=function(e,t){t===undefined&&(t=""ace_breakpoint""),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal(""changeBreakpoint"",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal(""changeBreakpoint"",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,s={range:e,type:n||""line"",renderer:typeof n==""function""?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=s,this._signal(""changeFrontMarker"")):(this.$backMarkers[i]=s,this._signal(""changeBackMarker"")),i},this.addDynamicMarker=function(e,t){if(!e.update)return;var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal(""changeFrontMarker"")):(this.$backMarkers[n]=e,this._signal(""changeBackMarker"")),e},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(!t)return;var n=t.inFront?this.$frontMarkers:this.$backMarkers;delete n[e],this._signal(t.inFront?""changeFrontMarker"":""changeBackMarker"")},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,""ace_selected-word"",""text"");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){typeof t!=""number""&&(n=t,t=e),n||(n=""ace_step"");var i=new l(e,0,t,Infinity);return i.id=this.addMarker(i,n,""fullLine"",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal(""changeAnnotation"",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine=""\n""},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe));if(r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))var i=/\s/;else var i=this.nonTokenRe;var s=t;if(s>0){do s--;while(s>=0&&n.charAt(s).match(i));s++}var o=t;while(o<n.length&&n.charAt(o).match(i))o++;return new l(e,s,e,o)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption(""useWorker"",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal(""tokenizerUpdate"",e)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&typeof e==""object""){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||""ace/mode/text"";this.$modes[""ace/mode/text""]||(this.$modes[""ace/mode/text""]=new f);if(this.$modes[r]&&!n){this.$onChangeMode(this.$modes[r]),t&&t();return}this.$modeId=r,o.loadModule([""mode"",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes[""ace/mode/text""],!0)},this.$onChangeMode=function(e,t){t||(this.$modeId=e.$id);if(this.$mode===e)return;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(n.addEventListener!==undefined){var r=this.onReloadTokenizer.bind(this);n.addEventListener(""update"",r)}if(!this.bgTokenizer){this.bgTokenizer=new h(n);var i=this;this.bgTokenizer.addEventListener(""update"",function(e){i._signal(""tokenizerUpdate"",e)})}else this.bgTokenizer.setTokenizer(n);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit(""changeMode""))},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn(""Could not load worker"",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){if(this.$scrollTop===e||isNaN(e))return;this.$scrollTop=e,this._signal(""changeScrollTop"",e)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){if(this.$scrollLeft===e||isNaN(e))return;this.$scrollLeft=e,this._signal(""changeScrollLeft"",e)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,s=this.$foldData[i],o=s?s.start.row:Infinity,u=t.length;for(var a=0;a<u;a++){if(a>o){a=s.end.row+1;if(a>=u)break;s=this.$foldData[i++],o=s?s.start.row:Infinity}n[a]==null&&(n[a]=this.$getStringScreenWidth(t[a])[0]),n[a]>r&&(r=n[a])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=e.length-1;n!=-1;n--){var r=e[n];r.action==""insert""||r.action==""remove""?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1},this.redoChanges=function(e,t){if(!e.length)return;this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];(r.action==""insert""||r.action==""remove"")&&this.doc.applyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?e.action!==""insert"":e.action===""insert""}var r,i,s;for(var o=0;o<e.length;o++){var u=e[o];if(!u.start)continue;if(!r){n(u)?(r=l.fromPoints(u.start,u.end),s=!0):(r=l.fromPoints(u.start,u.start),s=!1);continue}n(u)?(i=u.start,r.compare(i.row,i.column)==-1&&r.setStart(i),i=u.end,r.compare(i.row,i.column)==1&&r.setEnd(i),s=!0):(i=u.start,r.compare(i.row,i.column)==-1&&(r=l.fromPoints(u.start,u.start)),s=!1)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),s=l.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row,u=o?-e.end.column:e.start.column-e.end.column;u&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=u),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=u)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}s.end=this.insert(s.start,r);if(i.length){var a=e.start,f=s.start,o=f.row-a.row,u=f.column-a.column;this.addFolds(i.map(function(e){return e=e.clone(),e.start.row==a.row&&(e.start.column+=u),e.end.row==a.row&&(e.end.column+=u),e.start.row+=o,e.end.row+=o,e}))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){var t=e.collapseRows(),n=new l(0,0,0,0),r=this.getTabSize();for(var i=t.start.row;i<=t.end.row;++i){var s=this.getLine(i);n.start.row=i,n.end.row=i;for(var o=0;o<r;++o)if(s.charAt(o)!="" "")break;o<r&&s.charAt(o)==""	""?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t);if(n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){var r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;var i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var i=t-e+1}var s=new l(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map(function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e}),u=n==0?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,u),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){t=Math.max(0,t);if(e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0);if(e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal(""changeWrapMode"")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){if(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal(""changeWrapMode"")},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal(""changeWrapLimit"")),!0):!1},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,s=r.row,o=i.row,u=o-s,a=null;this.$updating=!0;if(u!=0)if(n===""remove""){this[t?""$wrapData"":""$rowLengthCache""].splice(s,u);var f=this.$foldData;a=this.getFoldsInRange(e),this.removeFolds(a);var l=this.getFoldLine(i.row),c=0;if(l){l.addRemoveChars(i.row,i.column,r.column-i.column),l.shiftRow(-u);var h=this.getFoldLine(s);h&&h!==l&&(h.merge(l),l=h),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=i.row&&l.shiftRow(-u)}o=s}else{var p=Array(u);p.unshift(s,0);var d=t?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,p);var f=this.$foldData,l=this.getFoldLine(s),c=0;if(l){var v=l.range.compareInside(r.row,r.column);v==0?(l=l.split(r.row,r.column),l&&(l.shiftRow(u),l.addRemoveChars(o,0,i.column-r.column))):v==-1&&(l.addRemoveChars(s,0,i.column-r.column),l.shiftRow(u)),c=f.indexOf(l)+1}for(c;c<f.length;c++){var l=f[c];l.start.row>=s&&l.shiftRow(u)}}else{u=Math.abs(e.start.column-e.end.column),n===""remove""&&(a=this.getFoldsInRange(e),this.removeFolds(a),u=-u);var l=this.getFoldLine(s);l&&l.addRemoveChars(s,r.column,u)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error(""doc.getLength() and $wrapData.length have to be the same!""),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),a},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r=this.doc.getAllLines(),i=this.getTabSize(),o=this.$wrapData,u=this.$wrapLimit,a,f,l=e;t=Math.min(t,r.length-1);while(l<=t)f=this.getFoldLine(l,f),f?(a=[],f.walk(function(e,t,i,o){var u;if(e!=null){u=this.$getDisplayTokens(e,a.length),u[0]=n;for(var f=1;f<u.length;f++)u[f]=s}else u=this.$getDisplayTokens(r[t].substring(o,i),a.length);a=a.concat(u)}.bind(this),f.end.row,r[f.end.row].length+1),o[f.start.row]=this.$computeWrapSplits(a,u,i),l=f.end.row+1):(a=this.$getDisplayTokens(r[l]),o[l]=this.$computeWrapSplits(a,u,i),l++)};var e=1,t=2,n=3,s=4,a=9,c=10,d=11,v=12;this.$computeWrapSplits=function(e,r,i){function g(){var t=0;if(m===0)return t;if(p)for(var n=0;n<e.length;n++){var r=e[n];if(r==c)t+=1;else{if(r!=d){if(r==v)continue;break}t+=i}}return h&&p!==!1&&(t+=i),Math.min(t,m)}function y(t){var n=t-f;for(var r=f;r<t;r++){var i=e[r];if(i===12||i===2)n-=1}o.length||(b=g(),o.indent=b),l+=n,o.push(l),f=t}if(e.length==0)return[];var o=[],u=e.length,f=0,l=0,h=this.$wrapAsCode,p=this.$indentedSoftWrap,m=r<=Math.max(2*i,8)||p===!1?0:Math.floor(r/2),b=0;while(u-f>r-b){var w=f+r-b;if(e[w-1]>=c&&e[w]>=c){y(w);continue}if(e[w]==n||e[w]==s){for(w;w!=f-1;w--)if(e[w]==n)break;if(w>f){y(w);continue}w=f+r;for(w;w<e.length;w++)if(e[w]!=s)break;if(w==e.length)break;y(w);continue}var E=Math.max(w-(r-(r>>2)),f-1);while(w>E&&e[w]<n)w--;if(h){while(w>E&&e[w]<n)w--;while(w>E&&e[w]==a)w--}else while(w>E&&e[w]<c)w--;if(w>E){y(++w);continue}w=f+r,e[w]==t&&w--,y(w-b)}return o},this.$getDisplayTokens=function(n,r){var i=[],s;r=r||0;for(var o=0;o<n.length;o++){var u=n.charCodeAt(o);if(u==9){s=this.getScreenTabSize(i.length+r),i.push(d);for(var f=1;f<s;f++)i.push(v)}else u==32?i.push(c):u>39&&u<48||u>57&&u<64?i.push(a):u>=4352&&m(u)?i.push(e,t):i.push(e)}return i},this.$getStringScreenWidth=function(e,t,n){if(t==0)return[0,0];t==null&&(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length;i++){r=e.charCodeAt(i),r==9?n+=this.getScreenTabSize(n):r>=4352&&m(r)?n+=2:n+=1;if(n>t)break}return[n,i]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.getRowLineCount=function(e){return!this.$useWrapMode||!this.$wrapData[e]?1:this.$wrapData[e].length+1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:undefined},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i=0,s=0,o,u=0,a=0,f=this.$screenRowCache,l=this.$getRowCacheIndex(f,e),c=f.length;if(c&&l>=0)var u=f[l],i=this.$docRowCache[l],h=e>f[c-1];else var h=!c;var p=this.getLength()-1,d=this.getNextFoldLine(i),v=d?d.start.row:Infinity;while(u<=e){a=this.getRowLength(i);if(u+a>e||i>=p)break;u+=a,i++,i>v&&(i=d.end.row+1,d=this.getNextFoldLine(i,d),v=d?d.start.row:Infinity),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(u))}if(d&&d.start.row<=i)r=this.getFoldDisplayLine(d),i=d.start.row;else{if(u+a<=e||i>p)return{row:p,column:this.getLine(p).length};r=this.getLine(i),d=null}var m=0,g=Math.floor(e-u);if(this.$useWrapMode){var y=this.$wrapData[i];y&&(o=y[g],g>0&&y.length&&(m=y.indent,s=y[g-1]||y[y.length-1],r=r.substring(s)))}return n!==undefined&&this.$bidiHandler.isBidiRow(u+g,i,g)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=o&&(s=o-1),d?d.idxToPosition(s):{row:i,column:s}},this.documentToScreenPosition=function(e,t){if(typeof t==""undefined"")var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,s=null;s=this.getFoldAt(e,t,1),s&&(e=s.start.row,t=s.start.column);var o,u=0,a=this.$docRowCache,f=this.$getRowCacheIndex(a,e),l=a.length;if(l&&f>=0)var u=a[f],r=this.$screenRowCache[f],c=e>a[l-1];else var c=!l;var h=this.getNextFoldLine(u),p=h?h.start.row:Infinity;while(u<e){if(u>=p){o=h.end.row+1;if(o>e)break;h=this.getNextFoldLine(o,h),p=h?h.start.row:Infinity}else o=u+1;r+=this.getRowLength(u),u=o,c&&(this.$docRowCache.push(u),this.$screenRowCache.push(r))}var d="""";h&&u>=p?(d=this.getFoldDisplayLine(h,e,t),i=h.start.row):(d=this.getLine(e).substring(0,t),i=e);var v=0;if(this.$useWrapMode){var m=this.$wrapData[i];if(m){var g=0;while(d.length>=m[g])r++,g++;d=d.substring(m[g-1]||0,d.length),v=g>0?m.indent:0}}return{row:r,column:v+this.$getStringScreenWidth(d)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(!this.$useWrapMode){e=this.getLength();var n=this.$foldData;for(var r=0;r<n.length;r++)t=n[r],e-=t.end.row-t.start.row}else{var i=this.$wrapData.length,s=0,r=0,t=this.$foldData[r++],o=t?t.start.row:Infinity;while(s<i){var u=this.$wrapData[s];e+=u?u.length+1:1,s++,s>o&&(s=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:Infinity)}}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(t,n,r){if(n===0)return[0,0];n||(n=Infinity),r=r||0;var i,s;for(s=0;s<t.length;s++){i=t.charAt(s),i===""	""?r+=this.getScreenTabSize(r):r+=e.getCharacterWidth(i);if(r>n)break}return[r,s]}},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=m}.call(d.prototype),e(""./edit_session/folding"").Folding.call(d.prototype),e(""./edit_session/bracket_match"").BracketMatch.call(d.prototype),o.defineOptions(d.prototype,""session"",{wrap:{set:function(e){!e||e==""off""?e=!1:e==""free""?e=!0:e==""printMargin""?e=-1:typeof e==""string""&&(e=parseInt(e,10)||!1);if(this.$wrap==e)return;this.$wrap=e;if(!e)this.setUseWrapMode(!1);else{var t=typeof e==""number""?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?""printMargin"":this.getWrapLimitRange().min?this.$wrap:""free"":""off""},handlesSet:!0},wrapMethod:{set:function(e){e=e==""auto""?this.$mode.type!=""text"":e!=""text"",e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:""auto""},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal(""changeBreakpoint"")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){e=parseInt(e);if(isNaN(e)||this.$tabSize===e)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal(""changeTabSize"")},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal(""changeOverwrite"")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=d}),ace.define(""ace/search"",[""require"",""exports"",""module"",""ace/lib/lang"",""ace/lib/oop"",""ace/range""],function(e,t,n){""use strict"";function u(e,t){function n(e){return/\w/.test(e)||t.regExp?""\\b"":""""}return n(e[0])+e+n(e[e.length-1])}var r=e(""./lib/lang""),i=e(""./lib/oop""),s=e(""./range"").Range,o=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach(function(e,n,i,o){return r=new s(e,n,i,o),n==o&&t.start&&t.start.start&&t.skipCurrent!=0&&r.isEqual(t.start)?(r=null,!1):!0}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],u=t.re;if(t.$isMultiLine){var a=u.length,f=i.length-a,l;e:for(var c=u.offset||0;c<=f;c++){for(var h=0;h<a;h++)if(i[c+h].search(u[h])==-1)continue e;var p=i[c],d=i[c+a-1],v=p.length-p.match(u[0])[0].length,m=d.match(u[a-1])[0].length;if(l&&l.end.row===c&&l.end.column>v)continue;o.push(l=new s(c,v,c+a-1,m)),a>2&&(c=c+a-2)}}else for(var g=0;g<i.length;g++){var y=r.getMatchOffsets(i[g],u);for(var h=0;h<y.length;h++){var b=y[h];o.push(new s(g,b.offset,g,b.offset+b.length))}}if(n){var w=n.start.column,E=n.start.column,g=0,h=o.length-1;while(g<h&&o[g].start.column<w&&o[g].start.row==n.start.row)g++;while(g<h&&o[h].end.column>E&&o[h].end.row==n.end.row)h--;o=o.slice(g,h+1);for(g=0,h=o.length;g<h;g++)o[g].start.row+=n.start.row,o[g].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(!r)return;var i=r.exec(e);if(!i||i[0].length!=e.length)return null;t=e.replace(r,t);if(n.preserveCase){t=t.split("""");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("""")}return t},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=u(n,e));var i=e.caseSensitive?""gm"":""gmi"";e.$isMultiLine=!t&&/[\n\r]/.test(n);if(e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var s=new RegExp(n,i)}catch(o){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){var n=e.replace(/\r\n|\r|\n/g,""$\n^"").split(""\n""),r=[];for(var i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(s){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=t.backwards==1,i=t.skipCurrent!=0,s=t.range,o=t.start;o||(o=s?s[r?""end"":""start""]:e.selection.getRange()),o.start&&(o=o[i!=r?""end"":""start""]);var u=s?s.start.row:0,a=s?s.end.row:e.getLength()-1;if(r)var f=function(e){var n=o.row;if(c(n,o.column,e))return;for(n--;n>=u;n--)if(c(n,Number.MAX_VALUE,e))return;if(t.wrap==0)return;for(n=a,u=o.row;n>=u;n--)if(c(n,Number.MAX_VALUE,e))return};else var f=function(e){var n=o.row;if(c(n,o.column,e))return;for(n+=1;n<=a;n++)if(c(n,0,e))return;if(t.wrap==0)return;for(n=u,a=o.row;n<=a;n++)if(c(n,0,e))return};if(t.$isMultiLine)var l=n.length,c=function(t,i,s){var o=r?t-l+1:t;if(o<0)return;var u=e.getLine(o),a=u.search(n[0]);if(!r&&a<i||a===-1)return;for(var f=1;f<l;f++){u=e.getLine(o+f);if(u.search(n[f])==-1)return}var c=u.match(n[l-1])[0].length;if(r&&c>i)return;if(s(o,a,o+l-1,c))return!0};else if(r)var c=function(t,r,i){var s=e.getLine(t),o=[],u,a=0;n.lastIndex=0;while(u=n.exec(s)){var f=u[0].length;a=u.index;if(!f){if(a>=s.length)break;n.lastIndex=a+=1}if(u.index+f>r)break;o.push(u.index,f)}for(var l=o.length-1;l>=0;l-=2){var c=o[l-1],f=o[l];if(i(t,c,t,c+f))return!0}};else var c=function(t,r,i){var s=e.getLine(t),o,u;n.lastIndex=r;while(u=n.exec(s)){var a=u[0].length;o=u.index;if(i(t,o,t,o+a))return!0;if(!a){n.lastIndex=o+=1;if(o>=s.length)return!1}}};return{forEach:f}}}).call(o.prototype),t.Search=o}),ace.define(""ace/keyboard/hash_handler"",[""require"",""exports"",""module"",""ace/lib/keys"",""ace/lib/useragent""],function(e,t,n){""use strict"";function o(e,t){this.platform=t||(i.isMac?""mac"":""win""),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function u(e,t){o.call(this,e,t),this.$singleCommand=!1}var r=e(""../lib/keys""),i=e(""../lib/useragent""),s=r.KEY_MODS;u.prototype=o.prototype,function(){function e(e){return typeof e==""object""&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&(typeof e==""string""?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var s=r[i];if(s==e)delete r[i];else if(Array.isArray(s)){var o=s.indexOf(e);o!=-1&&(s.splice(o,1),s.length==1&&(r[i]=s[0]))}}},this.bindKey=function(e,t,n){typeof e==""object""&&e&&(n==undefined&&(n=e.position),e=e[this.platform]);if(!e)return;if(typeof t==""function"")return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split(""|"").forEach(function(e){var r="""";if(e.indexOf("" "")!=-1){var i=e.split(/\s+/);e=i.pop(),i.forEach(function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?"" "":"""")+n,this._addCommandToBinding(r,""chainKeys"")},this),r+="" ""}var o=this.parseKeys(e),u=s[o.hashId]+o.key;this._addCommandToBinding(r+u,t,n)},this)},this._addCommandToBinding=function(t,n,r){var i=this.commandKeyBinding,s;if(!n)delete i[t];else if(!i[t]||this.$singleCommand)i[t]=n;else{Array.isArray(i[t])?(s=i[t].indexOf(n))!=-1&&i[t].splice(s,1):i[t]=[i[t]],typeof r!=""number""&&(r=e(n));var o=i[t];for(s=0;s<o.length;s++){var u=o[s],a=e(u);if(a>r)break}o.splice(s,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var n=e[t];if(!n)return;if(typeof n==""string"")return this.bindKey(n,t);typeof n==""function""&&(n={exec:n});if(typeof n!=""object"")return;n.name||(n.name=t),this.addCommand(n)},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(t.length==1&&t[0]==""shift"")return{key:n.toUpperCase(),hashId:-1}}var s=0;for(var o=t.length;o--;){var u=r.KEY_MODS[t[o]];if(u==null)return typeof console!=""undefined""&&console.error(""invalid modifier ""+t[o]+"" in ""+e),!1;s|=u}return{key:n,hashId:s}},this.findKeyCommand=function(t,n){var r=s[t]+n;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,t,n,r){if(r<0)return;var i=s[t]+n,o=this.commandKeyBinding[i];e.$keyChain&&(e.$keyChain+="" ""+i,o=this.commandKeyBinding[e.$keyChain]||o);if(o)if(o==""chainKeys""||o[o.length-1]==""chainKeys"")return e.$keyChain=e.$keyChain||i,{command:""null""};if(e.$keyChain)if(!!t&&t!=4||n.length!=1){if(t==-1||r>0)e.$keyChain=""""}else e.$keyChain=e.$keyChain.slice(0,-i.length-1);return{command:o}},this.getStatusText=function(e,t){return t.$keyChain||""""}}.call(o.prototype),t.HashHandler=o,t.MultiHashHandler=u}),ace.define(""ace/commands/command_manager"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/keyboard/hash_handler"",""ace/lib/event_emitter""],function(e,t,n){""use strict"";var r=e(""../lib/oop""),i=e(""../keyboard/hash_handler"").MultiHashHandler,s=e(""../lib/event_emitter"").EventEmitter,o=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler(""exec"",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(o,i),function(){r.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}typeof e==""string""&&(e=this.commands[e]);if(!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(this.$checkCommandState!=0&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit(""exec"",i),this._signal(""afterExec"",i),i.returnValue===!1?!1:!0},this.toggleRecording=function(e){if(this.$inReplay)return;return e&&e._emit(""changeStatus""),this.recording?(this.macro.pop(),this.removeEventListener(""exec"",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on(""exec"",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t==""string""?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(e){return e.map(function(e){return typeof e[0]!=""string""&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(o.prototype),t.CommandManager=o}),ace.define(""ace/commands/default_commands"",[""require"",""exports"",""module"",""ace/lib/lang"",""ace/config"",""ace/range""],function(e,t,n){""use strict"";function o(e,t){return{win:e,mac:t}}var r=e(""../lib/lang""),i=e(""../config""),s=e(""../range"").Range;t.commands=[{name:""showSettingsMenu"",bindKey:o(""Ctrl-,"",""Command-,""),exec:function(e){i.loadModule(""ace/ext/settings_menu"",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:""goToNextError"",bindKey:o(""Alt-E"",""F4""),exec:function(e){i.loadModule(""./ext/error_marker"",function(t){t.showErrorMarker(e,1)})},scrollIntoView:""animate"",readOnly:!0},{name:""goToPreviousError"",bindKey:o(""Alt-Shift-E"",""Shift-F4""),exec:function(e){i.loadModule(""./ext/error_marker"",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:""animate"",readOnly:!0},{name:""selectall"",bindKey:o(""Ctrl-A"",""Command-A""),exec:function(e){e.selectAll()},readOnly:!0},{name:""centerselection"",bindKey:o(null,""Ctrl-L""),exec:function(e){e.centerSelection()},readOnly:!0},{name:""gotoline"",bindKey:o(""Ctrl-L"",""Command-L""),exec:function(e,t){typeof t!=""number""&&(t=parseInt(prompt(""Enter line number:""),10)),isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:""fold"",bindKey:o(""Alt-L|Ctrl-F1"",""Command-Alt-L|Command-F1""),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""unfold"",bindKey:o(""Alt-Shift-L|Ctrl-Shift-F1"",""Command-Alt-Shift-L|Command-Shift-F1""),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""toggleFoldWidget"",bindKey:o(""F2"",""F2""),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""toggleParentFoldWidget"",bindKey:o(""Alt-F2"",""Alt-F2""),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""foldall"",bindKey:o(null,""Ctrl-Command-Option-0""),exec:function(e){e.session.foldAll()},scrollIntoView:""center"",readOnly:!0},{name:""foldOther"",bindKey:o(""Alt-0"",""Command-Option-0""),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:""center"",readOnly:!0},{name:""unfoldall"",bindKey:o(""Alt-Shift-0"",""Command-Option-Shift-0""),exec:function(e){e.session.unfold()},scrollIntoView:""center"",readOnly:!0},{name:""findnext"",bindKey:o(""Ctrl-K"",""Command-G""),exec:function(e){e.findNext()},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""findprevious"",bindKey:o(""Ctrl-Shift-K"",""Command-Shift-G""),exec:function(e){e.findPrevious()},multiSelectAction:""forEach"",scrollIntoView:""center"",readOnly:!0},{name:""selectOrFindNext"",bindKey:o(""Alt-K"",""Ctrl-G""),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:""selectOrFindPrevious"",bindKey:o(""Alt-Shift-K"",""Ctrl-Shift-G""),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:""find"",bindKey:o(""Ctrl-F"",""Command-F""),exec:function(e){i.loadModule(""ace/ext/searchbox"",function(t){t.Search(e)})},readOnly:!0},{name:""overwrite"",bindKey:""Insert"",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:""selecttostart"",bindKey:o(""Ctrl-Shift-Home"",""Command-Shift-Home|Command-Shift-Up""),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:""forEach"",readOnly:!0,scrollIntoView:""animate"",aceCommandGroup:""fileJump""},{name:""gotostart"",bindKey:o(""Ctrl-Home"",""Command-Home|Command-Up""),exec:function(e){e.navigateFileStart()},multiSelectAction:""forEach"",readOnly:!0,scrollIntoView:""animate"",aceCommandGroup:""fileJump""},{name:""selectup"",bindKey:o(""Shift-Up"",""Shift-Up|Ctrl-Shift-P""),exec:function(e){e.getSelection().selectUp()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""golineup"",bindKey:o(""Up"",""Up|Ctrl-P""),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selecttoend"",bindKey:o(""Ctrl-Shift-End"",""Command-Shift-End|Command-Shift-Down""),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:""forEach"",readOnly:!0,scrollIntoView:""animate"",aceCommandGroup:""fileJump""},{name:""gotoend"",bindKey:o(""Ctrl-End"",""Command-End|Command-Down""),exec:function(e){e.navigateFileEnd()},multiSelectAction:""forEach"",readOnly:!0,scrollIntoView:""animate"",aceCommandGroup:""fileJump""},{name:""selectdown"",bindKey:o(""Shift-Down"",""Shift-Down|Ctrl-Shift-N""),exec:function(e){e.getSelection().selectDown()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""golinedown"",bindKey:o(""Down"",""Down|Ctrl-N""),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectwordleft"",bindKey:o(""Ctrl-Shift-Left"",""Option-Shift-Left""),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotowordleft"",bindKey:o(""Ctrl-Left"",""Option-Left""),exec:function(e){e.navigateWordLeft()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selecttolinestart"",bindKey:o(""Alt-Shift-Left"",""Command-Shift-Left|Ctrl-Shift-A""),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotolinestart"",bindKey:o(""Alt-Left|Home"",""Command-Left|Home|Ctrl-A""),exec:function(e){e.navigateLineStart()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectleft"",bindKey:o(""Shift-Left"",""Shift-Left|Ctrl-Shift-B""),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotoleft"",bindKey:o(""Left"",""Left|Ctrl-B""),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectwordright"",bindKey:o(""Ctrl-Shift-Right"",""Option-Shift-Right""),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotowordright"",bindKey:o(""Ctrl-Right"",""Option-Right""),exec:function(e){e.navigateWordRight()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selecttolineend"",bindKey:o(""Alt-Shift-Right"",""Command-Shift-Right|Shift-End|Ctrl-Shift-E""),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotolineend"",bindKey:o(""Alt-Right|End"",""Command-Right|End|Ctrl-E""),exec:function(e){e.navigateLineEnd()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectright"",bindKey:o(""Shift-Right"",""Shift-Right""),exec:function(e){e.getSelection().selectRight()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""gotoright"",bindKey:o(""Right"",""Right|Ctrl-F""),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectpagedown"",bindKey:""Shift-PageDown"",exec:function(e){e.selectPageDown()},readOnly:!0},{name:""pagedown"",bindKey:o(null,""Option-PageDown""),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:""gotopagedown"",bindKey:o(""PageDown"",""PageDown|Ctrl-V""),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:""selectpageup"",bindKey:""Shift-PageUp"",exec:function(e){e.selectPageUp()},readOnly:!0},{name:""pageup"",bindKey:o(null,""Option-PageUp""),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:""gotopageup"",bindKey:""PageUp"",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:""scrollup"",bindKey:o(""Ctrl-Up"",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:""scrolldown"",bindKey:o(""Ctrl-Down"",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:""selectlinestart"",bindKey:""Shift-Home"",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""selectlineend"",bindKey:""Shift-End"",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""togglerecording"",bindKey:o(""Ctrl-Alt-E"",""Command-Option-E""),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:""replaymacro"",bindKey:o(""Ctrl-Shift-E"",""Command-Shift-E""),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:""jumptomatching"",bindKey:o(""Ctrl-P"",""Ctrl-P""),exec:function(e){e.jumpToMatching()},multiSelectAction:""forEach"",scrollIntoView:""animate"",readOnly:!0},{name:""selecttomatching"",bindKey:o(""Ctrl-Shift-P"",""Ctrl-Shift-P""),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:""forEach"",scrollIntoView:""animate"",readOnly:!0},{name:""expandToMatching"",bindKey:o(""Ctrl-Shift-M"",""Ctrl-Shift-M""),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:""forEach"",scrollIntoView:""animate"",readOnly:!0},{name:""passKeysToBrowser"",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:""copy"",exec:function(e){},readOnly:!0},{name:""cut"",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty(),n=t?e.selection.getLineRange():e.selection.getRange();e._emit(""cut"",n),n.isEmpty()||e.session.remove(n),e.clearSelection()},scrollIntoView:""cursor"",multiSelectAction:""forEach""},{name:""paste"",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:""cursor""},{name:""removeline"",bindKey:o(""Ctrl-D"",""Command-D""),exec:function(e){e.removeLines()},scrollIntoView:""cursor"",multiSelectAction:""forEachLine""},{name:""duplicateSelection"",bindKey:o(""Ctrl-Shift-D"",""Command-Shift-D""),exec:function(e){e.duplicateSelection()},scrollIntoView:""cursor"",multiSelectAction:""forEach""},{name:""sortlines"",bindKey:o(""Ctrl-Alt-S"",""Command-Alt-S""),exec:function(e){e.sortLines()},scrollIntoView:""selection"",multiSelectAction:""forEachLine""},{name:""togglecomment"",bindKey:o(""Ctrl-/"",""Command-/""),exec:function(e){e.toggleCommentLines()},multiSelectAction:""forEachLine"",scrollIntoView:""selectionPart""},{name:""toggleBlockComment"",bindKey:o(""Ctrl-Shift-/"",""Command-Shift-/""),exec:function(e){e.toggleBlockComment()},multiSelectAction:""forEach"",scrollIntoView:""selectionPart""},{name:""modifyNumberUp"",bindKey:o(""Ctrl-Shift-Up"",""Alt-Shift-Up""),exec:function(e){e.modifyNumber(1)},scrollIntoView:""cursor"",multiSelectAction:""forEach""},{name:""modifyNumberDown"",bindKey:o(""Ctrl-Shift-Down"",""Alt-Shift-Down""),exec:function(e){e.modifyNumber(-1)},scrollIntoView:""cursor"",multiSelectAction:""forEach""},{name:""replace"",bindKey:o(""Ctrl-H"",""Command-Option-F""),exec:function(e){i.loadModule(""ace/ext/searchbox"",function(t){t.Search(e,!0)})}},{name:""undo"",bindKey:o(""Ctrl-Z"",""Command-Z""),exec:function(e){e.undo()}},{name:""redo"",bindKey:o(""Ctrl-Shift-Z|Ctrl-Y"",""Command-Shift-Z|Command-Y""),exec:function(e){e.redo()}},{name:""copylinesup"",bindKey:o(""Alt-Shift-Up"",""Command-Option-Up""),exec:function(e){e.copyLinesUp()},scrollIntoView:""cursor""},{name:""movelinesup"",bindKey:o(""Alt-Up"",""Option-Up""),exec:function(e){e.moveLinesUp()},scrollIntoView:""cursor""},{name:""copylinesdown"",bindKey:o(""Alt-Shift-Down"",""Command-Option-Down""),exec:function(e){e.copyLinesDown()},scrollIntoView:""cursor""},{name:""movelinesdown"",bindKey:o(""Alt-Down"",""Option-Down""),exec:function(e){e.moveLinesDown()},scrollIntoView:""cursor""},{name:""del"",bindKey:o(""Delete"",""Delete|Ctrl-D|Shift-Delete""),exec:function(e){e.remove(""right"")},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""backspace"",bindKey:o(""Shift-Backspace|Backspace"",""Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H""),exec:function(e){e.remove(""left"")},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""cut_or_delete"",bindKey:o(""Shift-Delete"",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove(""left"")},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removetolinestart"",bindKey:o(""Alt-Backspace"",""Command-Backspace""),exec:function(e){e.removeToLineStart()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removetolineend"",bindKey:o(""Alt-Delete"",""Ctrl-K|Command-Delete""),exec:function(e){e.removeToLineEnd()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removetolinestarthard"",bindKey:o(""Ctrl-Shift-Backspace"",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removetolineendhard"",bindKey:o(""Ctrl-Shift-Delete"",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removewordleft"",bindKey:o(""Ctrl-Backspace"",""Alt-Backspace|Ctrl-Alt-Backspace""),exec:function(e){e.removeWordLeft()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""removewordright"",bindKey:o(""Ctrl-Delete"",""Alt-Delete""),exec:function(e){e.removeWordRight()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""outdent"",bindKey:o(""Shift-Tab"",""Shift-Tab""),exec:function(e){e.blockOutdent()},multiSelectAction:""forEach"",scrollIntoView:""selectionPart""},{name:""indent"",bindKey:o(""Tab"",""Tab""),exec:function(e){e.indent()},multiSelectAction:""forEach"",scrollIntoView:""selectionPart""},{name:""blockoutdent"",bindKey:o(""Ctrl-["",""Ctrl-[""),exec:function(e){e.blockOutdent()},multiSelectAction:""forEachLine"",scrollIntoView:""selectionPart""},{name:""blockindent"",bindKey:o(""Ctrl-]"",""Ctrl-]""),exec:function(e){e.blockIndent()},multiSelectAction:""forEachLine"",scrollIntoView:""selectionPart""},{name:""insertstring"",exec:function(e,t){e.insert(t)},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""inserttext"",exec:function(e,t){e.insert(r.stringRepeat(t.text||"""",t.times||1))},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""splitline"",bindKey:o(null,""Ctrl-O""),exec:function(e){e.splitLine()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""transposeletters"",bindKey:o(""Alt-Shift-X"",""Ctrl-T""),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:""cursor""},{name:""touppercase"",bindKey:o(""Ctrl-U"",""Ctrl-U""),exec:function(e){e.toUpperCase()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""tolowercase"",bindKey:o(""Ctrl-Shift-U"",""Ctrl-Shift-U""),exec:function(e){e.toLowerCase()},multiSelectAction:""forEach"",scrollIntoView:""cursor""},{name:""expandtoline"",bindKey:o(""Ctrl-Shift-L"",""Command-Shift-L""),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:""forEach"",scrollIntoView:""cursor"",readOnly:!0},{name:""joinlines"",bindKey:o(null,null),exec:function(e){var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,u=e.session.doc.getTextRange(e.selection.getRange()),a=u.replace(/\n\s*/,"" "").length,f=e.session.doc.getLine(n.row);for(var l=n.row+1;l<=i.row+1;l++){var c=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));c.length!==0&&(c="" ""+c),f+=c}i.row+1<e.session.doc.getLength()-1&&(f+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,i.row+2,0),f),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:""forEach"",readOnly:!0},{name:""invertSelection"",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==t||r[o].end.column!==n)&&i.push(new s(r[o].end.row,r[o].end.column,t,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new s(0,0,r[o].start.row,r[o].start.column)):i.push(new s(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<i.length;o++)e.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:""none""}]}),ace.define(""ace/clipboard"",[""require"",""exports"",""module""],function(e,t,n){""use strict"";n.exports={lineMode:!1}}),ace.define(""ace/editor"",[""require"",""exports"",""module"",""ace/lib/fixoldbrowsers"",""ace/lib/oop"",""ace/lib/dom"",""ace/lib/lang"",""ace/lib/useragent"",""ace/keyboard/textinput"",""ace/mouse/mouse_handler"",""ace/mouse/fold_handler"",""ace/keyboard/keybinding"",""ace/edit_session"",""ace/search"",""ace/range"",""ace/lib/event_emitter"",""ace/commands/command_manager"",""ace/commands/default_commands"",""ace/config"",""ace/token_iterator"",""ace/clipboard""],function(e,t,n){""use strict"";e(""./lib/fixoldbrowsers"");var r=e(""./lib/oop""),i=e(""./lib/dom""),s=e(""./lib/lang""),o=e(""./lib/useragent""),u=e(""./keyboard/textinput"").TextInput,a=e(""./mouse/mouse_handler"").MouseHandler,f=e(""./mouse/fold_handler"").FoldHandler,l=e(""./keyboard/keybinding"").KeyBinding,c=e(""./edit_session"").EditSession,h=e(""./search"").Search,p=e(""./range"").Range,d=e(""./lib/event_emitter"").EventEmitter,v=e(""./commands/command_manager"").CommandManager,m=e(""./commands/default_commands"").commands,g=e(""./config""),y=e(""./token_iterator"").TokenIterator,b=e(""./clipboard""),w=function(e,t,n){var r=e.getContainerElement();this.container=r,this.renderer=e,this.id=""editor""+ ++w.$uid,this.commands=new v(o.isMac?""mac"":""win"",m),typeof document==""object""&&(this.textInput=new u(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new f(this)),this.keyBinding=new l(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on(""exec"",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal(""input"",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on(""change"",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||n&&n.session||new c("""")),g.resetOptions(this),n&&this.setOptions(n),g._signal(""editor"",this)};w.$uid=0,function(){r.implement(this,d),this.$initOperationListeners=function(){this.commands.on(""exec"",this.startOperation.bind(this),!0),this.commands.on(""afterExec"",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on(""change"",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on(""changeSelection"",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===!1)return this.curOp=null;if(e==1&&this.curOp.command&&this.curOp.command.name==""mouse"")return;this._signal(""beforeEndOperation"");if(!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case""center-animate"":n=""animate"";case""center"":this.renderer.scrollCursorIntoView(null,.5);break;case""animate"":case""cursor"":this.renderer.scrollCursorIntoView();break;case""selectionPart"":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}n==""animate""&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=[""backspace"",""del"",""insertstring""],this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if(e.command.name==""insertstring""){var i=e.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&n.indexOf(e.command.name)!==-1;this.$mergeUndoDeltas!=""always""&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:n.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())},this.setKeyboardHandler=function(e,t){if(e&&typeof e==""string""&&e!=""ace""){this.$keybindingId=e;var n=this;g.loadModule([""keybinding"",e],function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session==e)return;this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off(""change"",this.$onDocumentChange),this.session.off(""changeMode"",this.$onChangeMode),this.session.off(""tokenizerUpdate"",this.$onTokenizerUpdate),this.session.off(""changeTabSize"",this.$onChangeTabSize),this.session.off(""changeWrapLimit"",this.$onChangeWrapLimit),this.session.off(""changeWrapMode"",this.$onChangeWrapMode),this.session.off(""changeFold"",this.$onChangeFold),this.session.off(""changeFrontMarker"",this.$onChangeFrontMarker),this.session.off(""changeBackMarker"",this.$onChangeBackMarker),this.session.off(""changeBreakpoint"",this.$onChangeBreakpoint),this.session.off(""changeAnnotation"",this.$onChangeAnnotation),this.session.off(""changeOverwrite"",this.$onCursorChange),this.session.off(""changeScrollTop"",this.$onScrollTopChange),this.session.off(""changeScrollLeft"",this.$onScrollLeftChange);var n=this.session.getSelection();n.off(""changeCursor"",this.$onCursorChange),n.off(""changeSelection"",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on(""change"",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on(""changeMode"",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on(""tokenizerUpdate"",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on(""changeTabSize"",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on(""changeWrapLimit"",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on(""changeWrapMode"",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on(""changeFold"",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on(""changeFrontMarker"",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on(""changeBackMarker"",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on(""changeBreakpoint"",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on(""changeAnnotation"",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on(""changeOverwrite"",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on(""changeScrollTop"",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on(""changeScrollLeft"",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on(""changeCursor"",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on(""changeSelection"",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal(""changeSession"",{session:e,oldSession:t}),this.curOp=null,t&&t._signal(""changeEditor"",{oldEditor:this}),e&&e._signal(""changeEditor"",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption(""fontSize"")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption(""fontSize"",e)},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)var r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,""ace_bracket"",""text""))},50)},this.$highlightTags=function(){if(this.$highlightTagPending)return;var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(!t||!t.bgTokenizer)return;var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type)){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}if(i.type.indexOf(""tag-open"")!=-1){i=r.stepForward();if(!i)return}var s=i.value,o=0,u=r.stepBackward();if(u.value==""<""){do u=i,i=r.stepForward(),i&&i.value===s&&i.type.indexOf(""tag-name"")!==-1&&(u.value===""<""?o++:u.value===""</""&&o--);while(i&&o>=0)}else{do i=u,u=r.stepBackward(),i&&i.value===s&&i.type.indexOf(""tag-name"")!==-1&&(u.value===""<""?o++:u.value===""</""&&o--);while(u&&o<=0);r.stepForward()}if(!i){t.removeMarker(t.$tagHighlight),t.$tagHighlight=null;return}var a=r.getCurrentTokenRow(),f=r.getCurrentTokenColumn(),l=new p(a,f,a,f+i.value.length),c=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&c!=undefined&&l.compareRange(c.range)!==0&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(l,""ace_bracket"",""text""))},50)},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit(""focus"",e)},this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit(""blur"",e)},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:Infinity;this.renderer.updateLines(e.start.row,n,t),this._signal(""change"",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal(""changeSelection"")},this.$updateHighlightActiveLine=function(){var e=this.getSession(),t;if(this.$highlightActiveLine){if(this.$selectionStyle!=""line""||!this.selection.isMultiLine())t=this.getCursorPosition();this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(t=!1)}if(e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new p(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,""ace_active-line"",""screenLine""),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal(""changeBackMarker""))},this.onSelectionChange=function(e){var t=this.session;t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null;if(!this.selection.isEmpty()){var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,""ace_selection"",r)}else this.$updateHighlightActiveLine();var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal(""changeSelection"")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(t.isEmpty()||t.isMultiLine())return;var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),s=i.substring(n,r);if(s.length>5e3||!/[\w\d]/.test(s))return;var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),u=i.substring(n-1,r+1);if(!o.test(u))return;return o},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit(""changeMode"",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;var r=this.selection.getAllRanges();for(var i=0;i<r.length;i++){var s=r[i];if(i&&r[i-1].start.row==s.start.row)continue;e+=this.session.getLine(s.start.row)+t}}var o={text:e};return this._signal(""copy"",o),b.lineMode=n?o.text:"""",o.text},this.onCopy=function(){this.commands.exec(""copy"",this)},this.onCut=function(){this.commands.exec(""cut"",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec(""paste"",this,n)},this.$handlePaste=function(e){typeof e==""string""&&(e={text:e}),this._signal(""paste"",e);var t=e.text,n=t==b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach(function(e){r.insert({row:e.start.row,column:0},t)});else{var i=t.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges;if(i.length>s.length||i.length<2||!i[1])return this.commands.exec(""insertstring"",this,t);for(var o=s.length;o--;){var u=s[o];u.isEmpty()||r.remove(u),r.insert(u.start,i[o])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=r.transformAction(n.getState(i.row),""insertion"",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}e==""	""&&(e=this.session.getTabString());if(!this.selection.isEmpty()){var o=this.getSelectionRange();i=this.session.remove(o),this.clearSelection()}else if(this.session.getOverwrite()&&e.indexOf(""\n"")==-1){var o=new p.fromPoints(i,i);o.end.column+=e.length,this.session.remove(o)}if(e==""\n""||e==""\r\n""){var u=n.getLine(i.row);if(i.column>u.search(/\S|$/)){var a=u.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+a)}}this.clearSelection();var f=i.column,l=n.getState(i.row),u=n.getLine(i.row),c=r.checkOutdent(l,u,e),h=n.insert(i,e);s&&s.selection&&(s.selection.length==2?this.selection.setSelectionRange(new p(i.row,f+s.selection[0],i.row,f+s.selection[1])):this.selection.setSelectionRange(new p(i.row+s.selection[0],s.selection[1],i.row+s.selection[2],s.selection[3])));if(n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(l,u.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}c&&r.autoOutdent(l,n,i.row)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:""insertstring""}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){if(t.extendLeft||t.extendRight){var n=this.selection.getRange();n.start.column-=t.extendLeft,n.end.column+=t.extendRight,this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove()}(e||!this.selection.isEmpty())&&this.insert(e,!0);if(t.restoreStart||t.restoreEnd){var n=this.selection.getRange();n.start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n)}},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption(""scrollSpeed"",e)},this.getScrollSpeed=function(){return this.getOption(""scrollSpeed"")},this.setDragDelay=function(e){this.setOption(""dragDelay"",e)},this.getDragDelay=function(){return this.getOption(""dragDelay"")},this.setSelectionStyle=function(e){this.setOption(""selectionStyle"",e)},this.getSelectionStyle=function(){return this.getOption(""selectionStyle"")},this.setHighlightActiveLine=function(e){this.setOption(""highlightActiveLine"",e)},this.getHighlightActiveLine=function(){return this.getOption(""highlightActiveLine"")},this.setHighlightGutterLine=function(e){this.setOption(""highlightGutterLine"",e)},this.getHighlightGutterLine=function(){return this.getOption(""highlightGutterLine"")},this.setHighlightSelectedWord=function(e){this.setOption(""highlightSelectedWord"",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption(""readOnly"",e)},this.getReadOnly=function(){return this.getOption(""readOnly"")},this.setBehavioursEnabled=function(e){this.setOption(""behavioursEnabled"",e)},this.getBehavioursEnabled=function(){return this.getOption(""behavioursEnabled"")},this.setWrapBehavioursEnabled=function(e){this.setOption(""wrapBehavioursEnabled"",e)},this.getWrapBehavioursEnabled=function(){return this.getOption(""wrapBehavioursEnabled"")},this.setShowFoldWidgets=function(e){this.setOption(""showFoldWidgets"",e)},this.getShowFoldWidgets=function(){return this.getOption(""showFoldWidgets"")},this.setFadeFoldWidgets=function(e){this.setOption(""fadeFoldWidgets"",e)},this.getFadeFoldWidgets=function(){return this.getOption(""fadeFoldWidgets"")},this.remove=function(e){this.selection.isEmpty()&&(e==""left""?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,""deletion"",this,n,t);if(t.end.column===0){var s=n.getTextRange(t);if(s[s.length-1]==""\n""){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert(""\n""),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var e=this.getCursorPosition(),t=e.column;if(t===0)return;var n=this.session.getLine(e.row),r,i;t<n.length?(r=n.charAt(t)+n.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(r=n.charAt(t-1)+n.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,r),this.session.selection.moveToPosition(i.end)},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,""	"");return}if(t.start.column<t.end.column){var r=e.getTextRange(t);if(!/^\s+$/.test(r)){var n=this.$getSelectedRows();e.indentRows(n.first,n.last,""	"");return}}var i=e.getLine(t.start.row),o=t.start,u=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var f=u-a%u,l=s.stringRepeat("" "",f);else{var f=a%u;while(i[t.start.column-1]=="" ""&&f)t.start.column--,f--;this.selection.setSelectionRange(t),l=""	""}return this.insert(l)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,""	"")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(var r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var i=new p(0,0,0,0);for(var r=e.first;r<=e.last;r++){var s=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=s.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var s={value:i[0],start:i.index,end:i.index+i[0].length};return s}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new p(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(""."")>=0?s.start+s.value.indexOf(""."")+1:s.end,u=s.start+s.value.length-o,a=parseFloat(s.value);a*=Math.pow(10,u),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),a+=e,a/=Math.pow(10,u);var f=a.toFixed(u),l=new p(t,s.start,t,s.end);this.session.replace(l,f),this.moveCursorTo(t,Math.max(s.start+1,n+f.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[[""first"",""last""],[""true"",""false""],[""yes"",""no""],[""width"",""height""],[""top"",""bottom""],[""right"",""left""],[""on"",""off""],[""x"",""y""],[""get"",""set""],[""max"",""min""],[""horizontal"",""vertical""],[""show"",""hide""],[""add"",""remove""],[""up"",""down""],[""before"",""after""],[""even"",""odd""],[""inside"",""outside""],[""next"",""previous""],[""increase"",""decrease""],[""attach"",""detach""],[""&&"",""||""],[""=="",""!=""]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,""$1 "").split(/\s/),o=t-r-1;o<0&&(o=0);var u=0,a=0,f=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach(function(t,i){a=u+t.length,o>=u&&o<=a&&(n=t,f.selection.clearSelection(),f.moveCursorTo(e,u+r),f.selection.selectTo(e,a+r)),u=a});var l=this.$toggleWordPairs,c;for(var h=0;h<l.length;h++){var p=l[h];for(var d=0;d<=1;d++){var v=+!d,m=n.match(new RegExp(""^\\s?_?(""+s.escapeRegExp(p[d])+"")\\s?$"",""i""));if(m){var g=n.match(new RegExp(""([_]|^|\\s)(""+s.escapeRegExp(m[1])+"")($|\\s)"",""g""));g&&(c=n.replace(new RegExp(s.escapeRegExp(p[d]),""i""),function(e){var t=p[v];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[v].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(c),c="""")}}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var s=r?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var s=i.toOrientedRange();n=this.$getSelectedRows(s),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&e==-1&&(r=0),s.moveBy(r,0),i.fromOrientedRange(s)}else{var o=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;var u=0,a=0,f=o.length;for(var l=0;l<f;l++){var c=l;o[l].moveBy(u,0),n=this.$getSelectedRows(o[l]);var h=n.first,p=n.last;while(++l<f){a&&o[l].moveBy(a,0);var d=this.$getSelectedRows(o[l]);if(t&&d.first!=p)break;if(!t&&d.first>p+1)break;p=d.last}l--,u=this.session.$moveLines(h,p,t?0:e),t&&e==-1&&(c=l+1);while(c<=l)o[c].moveBy(u,0),c++;t||(u=0),a+=u}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(i,0)}):t===!1&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,i*r.lineHeight),t!=null&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),s=i||r.stepForward();if(!s)return;var o,u=!1,a={},f=n.column-s.start,l,c={"")"":""("",""("":""("",""]"":""["",""["":""["",""{"":""{"",""}"":""{""};do{if(s.value.match(/[{}()\[\]]/g))for(;f<s.value.length&&!u;f++){if(!c[s.value[f]])continue;l=c[s.value[f]]+"".""+s.type.replace(""rparen"",""lparen""),isNaN(a[l])&&(a[l]=0);switch(s.value[f]){case""("":case""["":case""{"":a[l]++;break;case"")"":case""]"":case""}"":a[l]--,a[l]===-1&&(o=""bracket"",u=!0)}}else s.type.indexOf(""tag-name"")!==-1&&(isNaN(a[s.value])&&(a[s.value]=0),i.value===""<""?a[s.value]++:i.value===""</""&&a[s.value]--,a[s.value]===-1&&(o=""tag"",u=!0));u||(i=s,s=r.stepForward(),f=0)}while(s&&!u);if(!o)return;var h,d;if(o===""bracket""){h=this.session.getBracketRange(n);if(!h){h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+f-1),d=h.start;if(t||d.row===n.row&&Math.abs(d.column-n.column)<2)h=this.session.getBracketRange(d)}}else if(o===""tag""){if(!s||s.type.indexOf(""tag-name"")===-1)return;var v=s.value;h=new p(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2);if(h.compare(n.row,n.column)===0){u=!1;do s=i,i=r.stepBackward(),i&&(i.type.indexOf(""tag-close"")!==-1&&h.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),s.value===v&&s.type.indexOf(""tag-name"")!==-1&&(i.value===""<""?a[v]++:i.value===""</""&&a[v]--,a[v]===0&&(u=!0)));while(i&&!u)}s&&s.type.indexOf(""tag-name"")&&(d=h.start,d.row==n.row&&Math.abs(d.column-n.column)<2&&(d=h.end))}d=h&&h.cursor||d,d&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):this.selection.moveTo(d.row,d.column))},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(e){if(!this.selection.isEmpty()){var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}else{e=e||1;while(e--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),t!==null?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),typeof e==""string""||e instanceof RegExp?t.needle=e:typeof e==""object""&&r.mixin(t,e);var i=this.selection.getRange();t.needle==null&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);if(t.preventScroll)return s;if(s)return this.revealRange(s,n),s;t.backwards?i.start=i.end:i.end=i.start,this.selection.setRange(i)},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal(""destroy"",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(!e)return;var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement(""div""));var i=this.$scrollAnchor;i.style.cssText=""position:absolute"",this.container.insertBefore(i,this.container.firstChild);var s=this.on(""changeSelection"",function(){r=!0}),o=this.renderer.on(""beforeRender"",function(){r&&(t=n.renderer.container.getBoundingClientRect())}),u=this.renderer.on(""afterRender"",function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,u=s.top-o.offset;s.top>=0&&u+t.top<0?r=!0:s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight?r=!1:r=null,r!=null&&(i.style.top=u+""px"",i.style.left=s.left+""px"",i.style.height=o.lineHeight+""px"",i.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){if(e)return;delete this.setAutoScrollEditorIntoView,this.off(""changeSelection"",s),this.renderer.off(""afterRender"",u),this.renderer.off(""beforeRender"",o)}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||""ace"",t=this.renderer.$cursorLayer;if(!t)return;t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&e!=""wide"",i.setCssClass(t.element,""ace_slim-cursors"",/slim/.test(e))}}.call(w.prototype),g.defineOptions(w.prototype,""editor"",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal(""changeSelectionStyle"",{data:e})},initialValue:""line""},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:[""ace"",""slim"",""smooth"",""wide""],initialValue:""ace""},mergeUndoDeltas:{values:[!1,!0,""always""],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?E.attach(this):E.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?E.attach(this):E.detach(this)}},hScrollBarAlwaysVisible:""renderer"",vScrollBarAlwaysVisible:""renderer"",highlightGutterLine:""renderer"",animatedScroll:""renderer"",showInvisibles:""renderer"",showPrintMargin:""renderer"",printMarginColumn:""renderer"",printMargin:""renderer"",fadeFoldWidgets:""renderer"",showFoldWidgets:""renderer"",displayIndentGuides:""renderer"",showGutter:""renderer"",fontSize:""renderer"",fontFamily:""renderer"",maxLines:""renderer"",minLines:""renderer"",scrollPastEnd:""renderer"",fixedWidthGutter:""renderer"",theme:""renderer"",hasCssTransforms:""renderer"",maxPixelHeight:""renderer"",useTextareaForIME:""renderer"",scrollSpeed:""$mouseHandler"",dragDelay:""$mouseHandler"",dragEnabled:""$mouseHandler"",focusTimeout:""$mouseHandler"",tooltipFollowsMouse:""$mouseHandler"",firstLineNumber:""session"",overwrite:""session"",newLineMode:""session"",useWorker:""session"",useSoftTabs:""session"",navigateWithinSoftTabs:""session"",tabSize:""session"",wrap:""session"",indentedSoftWrap:""session"",foldStyle:""session"",mode:""session""});var E={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?""\u00b7"":""""))+""""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on(""changeSelection"",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off(""changeSelection"",this.update),this.update(null,e)}};t.Editor=w}),ace.define(""ace/undomanager"",[""require"",""exports"",""module"",""ace/range""],function(e,t,n){""use strict"";function i(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){while(n<t-1){var i=d(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}function a(e){var t=e.action==""insert"",n=e.start,r=e.end,i=(r.row-n.row)*(t?1:-1),s=(r.column-n.column)*(t?1:-1);t&&(r=n);for(var o in this.marks){var a=this.marks[o],f=u(a,n);if(f<0)continue;if(f===0&&t){if(a.bias!=1){a.bias==-1;continue}f=1}var l=t?f:u(a,r);if(l>0){a.row+=i,a.column+=a.row==r.row?s:0;continue}!t&&l<=0&&(a.row=n.row,a.column=n.column,l===0&&(a.bias=1))}}function f(e){return{row:e.row,column:e.column}}function l(e){return{start:f(e.start),end:f(e.end),action:e.action,lines:e.lines.slice()}}function c(e){e=e||this;if(Array.isArray(e))return e.map(c).join(""\n"");var t="""";e.action?(t=e.action==""insert""?""+"":""-"",t+=""[""+e.lines+""]""):e.value&&(Array.isArray(e.value)?t=e.value.map(h).join(""\n""):t=h(e.value)),e.start&&(t+=h(e));if(e.id||e.rev)t+=""	(""+(e.id||e.rev)+"")"";return t}function h(e){return e.start.row+"":""+e.start.column+""=>""+e.end.row+"":""+e.end.column}function p(e,t){var n=e.action==""insert"",r=t.action==""insert"";if(n&&r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}else if(!n&&r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;m(e,t,1)}else if(!n&&!r)if(o(t.start,e.start)>=0)m(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;m(e,t,-1)}return[t,e]}function d(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!p(e[n],t[r])){while(n<e.length){while(r--)p(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function v(e,t){var n=e.action==""insert"",r=t.action==""insert"";if(n&&r)o(e.start,t.start)<0?m(t,e,1):m(e,t,1);else if(n&&!r)o(e.start,t.end)>=0?m(e,t,-1):o(e.start,t.start)<=0?m(t,e,1):(m(e,s.fromPoints(t.start,e.start),-1),m(t,e,1));else if(!n&&r)o(t.start,e.end)>=0?m(t,e,-1):o(t.start,e.start)<=0?m(e,t,1):(m(t,s.fromPoints(e.start,t.start),-1),m(e,t,1));else if(!n&&!r)if(o(t.start,e.end)>=0)m(t,e,-1);else{if(!(o(t.end,e.start)<=0)){var i,u;return o(e.start,t.start)<0&&(i=e,e=y(e,t.start)),o(e.end,t.end)>0&&(u=y(e,t.end)),g(t.end,e.start,e.end,-1),u&&!i&&(e.lines=u.lines,e.start=u.start,e.end=u.end,u=e),[t,i,u].filter(Boolean)}m(e,t,-1)}return[t,e]}function m(e,t,n){g(e.start,t.start,t.end,n),g(e.end,t.start,t.end,n)}function g(e,t,n,r){e.row==(r==1?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function y(e,t){var n=e.lines,r=e.end;e.end=f(t);var i=e.end.row-e.start.row,s=n.splice(i,n.length),o=i?t.column:t.column-e.start.column;n.push(s[0].substring(0,o)),s[0]=s[0].substr(o);var u={start:f(t),end:r,lines:s,action:e.action};return u}function b(e,t){t=l(t);for(var n=e.length;n--;){var r=e[n];for(var i=0;i<r.length;i++){var s=r[i],o=v(s,t);t=o[0],o.length!=2&&(o[2]?(r.splice(i+1,1,o[1],o[2]),i++):o[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];for(var i=0;i<r.length;i++)b(e,r[i])}}var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(this.$fromUndo)return;if(e==this.$lastDelta)return;if(t===!1||!this.lastDeltas)this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev;if(e.action==""remove""||e.action==""insert"")this.$lastDelta=e;this.lastDeltas.push(e)},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack;for(var r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){var n=this.selections;for(var r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){t==null&&(t=this.$rev+1);var n=this.$undoStack,r=null,i=0;for(var s=n.length;s--;){var o=n[s][0];o.id<t&&!r&&(r=s+1);if(o.id<=e){i=s+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){t==null&&(t=this.$rev+1)},this.getChangedLines=function(e,t){t==null&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(!i(n,n.length))return;e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),s=null;return r&&r.length&&(s=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,s},this.redo=function(e,t){this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0;if(this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);w(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){e==undefined&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?c(e):c(this.$undoStack)+""\n---\n""+c(this.$redoStack)}}).call(r.prototype);var s=e(""./range"").Range,o=s.comparePoints,u=s.comparePoints;t.UndoManager=r}),ace.define(""ace/layer/lines"",[""require"",""exports"",""module"",""ace/lib/dom""],function(e,t,n){""use strict"";var r=e(""../lib/dom""),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=this.canvasHeight*2+""px"",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-(e.firstRowScreen*e.lineHeight%this.canvasHeight)-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight),s=n.documentToScreenRow(e,0)*t.lineHeight;return s-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLength(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);var t=r.createFragment(this.element);for(var n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement(""afterbegin"",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){if(!e)return;e.element.remove(),this.cellCache.push(e)},this.createCell=function(e,t,n,i){var s=this.cellCache.pop();if(!s){var o=r.createElement(""div"");i&&i(o),this.element.appendChild(o),s={element:o,text:"""",row:e}}return s.row=e,s}}).call(i.prototype),t.Lines=i}),ace.define(""ace/layer/gutter"",[""require"",""exports"",""module"",""ace/lib/dom"",""ace/lib/oop"",""ace/lib/lang"",""ace/lib/event_emitter"",""ace/layer/lines""],function(e,t,n){""use strict"";function f(e){var t=document.createTextNode("""");e.appendChild(t);var n=r.createElement(""span"");return e.appendChild(n),e}var r=e(""../lib/dom""),i=e(""../lib/oop""),s=e(""../lib/lang""),o=e(""../lib/event_emitter"").EventEmitter,u=e(""./lines"").Lines,a=function(e){this.element=r.createElement(""div""),this.element.className=""ace_layer ace_gutter-layer"",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1};(function(){i.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener(""change"",this.$updateAnnotations),this.session=e,e&&e.on(""change"",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(""deprecated use session.addGutterDecoration""),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(""deprecated use session.removeGutterDecoration""),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"""",i.text.indexOf(o)===-1&&i.text.push(o);var u=n.type;u==""error""?i.className="" ace_error"":u==""warning""&&i.className!="" ace_error""?i.className="" ace_warning"":u==""info""&&!i.className&&(i.className="" ace_info"")}},this.$updateAnnotations=function(e){if(!this.$annotations.length)return;var t=e.start.row,n=e.end.row-t;if(n!==0)if(e.action==""remove"")this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var i=t.getNextFoldLine(n),s=i?i.start.row:Infinity,o=null,u=-1,a=n;for(;;){a>s&&(a=i.end.row+1,i=t.getNextFoldLine(a,i),s=i?i.start.row:Infinity);if(a>r){while(this.$lines.getLength()>u+1)this.$lines.pop();break}o=this.$lines.get(++u),o?o.row=a:(o=this.$lines.createCell(a,e,this.session,f),this.$lines.push(o)),this.$renderCell(o,e,i,a),a++}this._signal(""afterRender""),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"""";if(this.$fixedWidth||t.$useWrapMode)i=t.getLength()+r-1;var s=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();s+=o.left+o.right,s!==this.gutterWidth&&!isNaN(s)&&(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+""px"",this._signal(""changeGutterWidth"",s))},this.$updateCursorRow=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.getCursor();if(this.$cursorRow===e.row)return;this.$cursorRow=e.row},this.updateLineHighlight=function(){if(!this.$highlightGutterLine)return;var e=this.session.selection.cursor.row;this.$cursorRow=e;if(this.$cursorCell&&this.$cursorCell.row==e)return;this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(""ace_gutter-active-line "",""""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className=""ace_gutter-active-line ""+r.element.className,this.$cursorCell=r;break}}},this.scrollLines=function(e){var t=this.config;this.config=e,this.$updateCursorRow();if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;this.oldLastRow=n;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(var i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal(""afterRender""),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){var r=[],i=t,s=this.session.getNextFoldLine(i),o=s?s.start.row:Infinity;for(;;){i>o&&(i=s.end.row+1,s=this.session.getNextFoldLine(i,s),o=s?s.start.row:Infinity);if(i>n)break;var u=this.$lines.createCell(i,e,this.session,f);this.$renderCell(u,e,s,i),r.push(u),i++}return r},this.$renderCell=function(e,t,n,i){var s=e.element,o=this.session,u=s.childNodes[0],a=s.childNodes[1],f=o.$firstLineNumber,l=o.$breakpoints,c=o.$decorations,h=o.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&o.foldWidgets,d=n?n.start.row:Number.MAX_VALUE,v=""ace_gutter-cell "";this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=d&&this.$cursorRow<=n.end.row)&&(v+=""ace_gutter-active-line "",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(""ace_gutter-active-line "","""")),this.$cursorCell=e)),l[i]&&(v+=l[i]),c[i]&&(v+=c[i]),this.$annotations[i]&&(v+=this.$annotations[i].className),s.className!=v&&(s.className=v);if(p){var m=p[i];m==null&&(m=p[i]=o.getFoldWidget(i))}if(m){var v=""ace_fold-widget ace_""+m;m==""start""&&i==d&&i<n.end.row?v+="" ace_closed"":v+="" ace_open"",a.className!=v&&(a.className=v);var g=t.lineHeight+""px"";r.setStyle(a.style,""height"",g),r.setStyle(a.style,""display"",""inline-block"")}else a&&r.setStyle(a.style,""display"",""none"");var y=(h?h.getText(o,i):i+f).toString();return y!==u.data&&(u.data=y),r.setStyle(e.element.style,""height"",this.$lines.computeLineHeight(i,t,o)+""px""),r.setStyle(e.element.style,""top"",this.$lines.computeLineTop(i,t,o)+""px""),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="""",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="""",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,""ace_folding-enabled""):r.removeCssClass(this.element,""ace_folding-enabled""),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();if(e.x<t.left+n.left)return""markers"";if(this.$showFoldWidgets&&e.x>n.right-t.right)return""foldWidgets""}}).call(a.prototype),t.Gutter=a}),ace.define(""ace/layer/marker"",[""require"",""exports"",""module"",""ace/range"",""ace/lib/dom""],function(e,t,n){""use strict"";var r=e(""../range"").Range,i=e(""../lib/dom""),s=function(e){this.element=i.createElement(""div""),this.element.className=""ace_layer ace_marker-layer"",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=this.i!=-1&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement(""div""),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(!e)return;this.config=e,this.i=0;var t;for(var n in this.markers){var r=this.markers[n];if(!r.range){r.update(t,this,this.session,e);continue}var i=r.range.clipRows(e.firstRow,e.lastRow);if(i.isEmpty())continue;i=i.toScreenRange(this.session);if(r.renderer){var s=this.$getTop(i.start.row,e),o=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,o,s,e)}else r.type==""fullLine""?this.drawFullLineMarker(t,i,r.clazz,e):r.type==""screenLine""?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?r.type==""text""?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+"" ace_start""+"" ace_br15"",e)}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,s,o){var u=this.session,a=n.start.row,f=n.end.row,l=a,c=0,h=0,p=u.getScreenLastRowColumn(l),d=new r(l,n.start.column,l,h);for(;l<=f;l++)d.start.row=d.end.row=l,d.start.column=l==a?n.start.column:u.getRowWrapIndent(l),d.end.column=p,c=h,h=p,p=l+1<f?u.getScreenLastRowColumn(l+1):l==f?0:n.end.column,this.drawSingleLineMarker(t,d,i+(l==a?"" ace_start"":"""")+"" ace_br""+e(l==a||l==a+1&&n.start.column,c<h,h>p,l==f),s,l==f?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var s=this.$padding,o=r.lineHeight,u=this.$getTop(t.start.row,r),a=s+t.start.column*r.characterWidth;i=i||"""";if(this.session.$bidiHandler.isBidiRow(t.start.row)){var f=t.clone();f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(e,f,n+"" ace_br1 ace_start"",r,null,i)}else this.elt(n+"" ace_br1 ace_start"",""height:""+o+""px;""+""right:0;""+""top:""+u+""px;left:""+a+""px;""+(i||""""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var f=t.clone();f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(e,f,n+"" ace_br12"",r,null,i)}else{u=this.$getTop(t.end.row,r);var l=t.end.column*r.characterWidth;this.elt(n+"" ace_br12"",""height:""+o+""px;""+""width:""+l+""px;""+""top:""+u+""px;""+""left:""+s+""px;""+(i||""""))}o=(t.end.row-t.start.row-1)*r.lineHeight;if(o<=0)return;u=this.$getTop(t.start.row+1,r);var c=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(c?"" ace_br""+c:""""),""height:""+o+""px;""+""right:0;""+""top:""+u+""px;""+""left:""+s+""px;""+(i||""""))},this.drawSingleLineMarker=function(e,t,n,r,i,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,s);var o=r.lineHeight,u=(t.end.column+(i||0)-t.start.column)*r.characterWidth,a=this.$getTop(t.start.row,r),f=this.$padding+t.start.column*r.characterWidth;this.elt(n,""height:""+o+""px;""+""width:""+u+""px;""+""top:""+a+""px;""+""left:""+f+""px;""+(s||""""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,s){var o=r.lineHeight,u=this.$getTop(t.start.row,r),a=this.$padding,f=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);f.forEach(function(e){this.elt(n,""height:""+o+""px;""+""width:""+e.width+(i||0)+""px;""+""top:""+u+""px;""+""left:""+(a+e.left)+""px;""+(s||""""))},this)},this.drawFullLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,r)-s),this.elt(n,""height:""+o+""px;""+""top:""+s+""px;""+""left:0;right:0;""+(i||""""))},this.drawScreenLineMarker=function(e,t,n,r,i){var s=this.$getTop(t.start.row,r),o=r.lineHeight;this.elt(n,""height:""+o+""px;""+""top:""+s+""px;""+""left:0;right:0;""+(i||""""))}}).call(s.prototype),t.Marker=s}),ace.define(""ace/layer/text"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom"",""ace/lib/lang"",""ace/layer/lines"",""ace/lib/event_emitter""],function(e,t,n){""use strict"";var r=e(""../lib/oop""),i=e(""../lib/dom""),s=e(""../lib/lang""),o=e(""./lines"").Lines,u=e(""../lib/event_emitter"").EventEmitter,a=function(e){this.dom=i,this.element=this.dom.createElement(""div""),this.element.className=""ace_layer ace_text-layer"",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){r.implement(this,u),this.EOF_CHAR=""\u00b6"",this.EOL_CHAR_LF=""\u00ac"",this.EOL_CHAR_CRLF=""\u00a4"",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR=""\u2014"",this.SPACE_CHAR=""\u00b7"",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t=e.getNewLineCharacter()==""\n""&&e.getNewLineMode()!=""windows"",n=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin=""0 ""+e+""px""},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on(""changeCharacterSize"",function(e){this._signal(""changeCharacterSize"",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;var t=this.$tabStrings=[0];for(var n=1;n<e+1;n++)if(this.showInvisibles){var r=this.dom.createElement(""span"");r.className=""ace_invisible ace_invisible_tab"",r.textContent=s.stringRepeat(this.TAB_CHAR,n),t.push(r)}else t.push(this.dom.createTextNode(s.stringRepeat("" "",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i=""ace_indent-guide"",o="""",u="""";if(this.showInvisibles){i+="" ace_invisible"",o="" ace_invisible_space"",u="" ace_invisible_tab"";var a=s.stringRepeat(this.SPACE_CHAR,this.tabSize),f=s.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=s.stringRepeat("" "",this.tabSize),f=a;var r=this.dom.createElement(""span"");r.className=i+o,r.textContent=a,this.$tabStrings["" ""]=r;var r=this.dom.createElement(""span"");r.className=i+u,r.textContent=f,this.$tabStrings[""	""]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),s=this.element.childNodes,o=0;for(var u=e.firstRow;u<r;u++){var a=this.session.getFoldLine(u);if(a){if(a.containsRow(r)){r=a.start.row;break}u=a.end.row}o++}var f=!1,u=r,a=this.session.getNextFoldLine(u),l=a?a.start.row:Infinity;for(;;){u>l&&(u=a.end.row+1,a=this.session.getNextFoldLine(u,a),l=a?a.start.row:Infinity);if(u>i)break;var c=s[o++];if(c){this.dom.removeChildren(c),this.$renderLine(c,u,u==l?a:!1);var h=e.lineHeight*this.session.getRowLength(u)+""px"";c.style.height!=h&&(f=!0,c.style.height=h)}u++}if(f)while(o<this.$lines.cells.length){var p=this.$lines.cells[o++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+""px""}},this.scrollLines=function(e){var t=this.config;this.config=e;if(this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(var i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){var r=[],s=t,o=this.session.getNextFoldLine(s),u=o?o.start.row:Infinity;for(;;){s>u&&(s=o.end.row+1,o=this.session.getNextFoldLine(s,o),u=o?o.start.row:Infinity);if(s>n)break;var a=this.$lines.createCell(s,e,this.session),f=a.element;this.dom.removeChildren(f),i.setStyle(f.style,""height"",this.$lines.computeLineHeight(s,e,this.session)+""px""),i.setStyle(f.style,""top"",this.$lines.computeLineTop(s,e,this.session)+""px""),this.$renderLine(f,s,s==u?o:!1),this.$useLineGroups()?f.className=""ace_line_group"":f.className=""ace_line"",r.push(a),s++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;var t=e.firstRow,n=e.lastRow,r=this.$lines;while(r.getLength())r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var o=this,u=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),f,l=0;while(f=u.exec(r)){var c=f[1],h=f[2],p=f[3],d=f[4],v=f[5];if(!o.showInvisibles&&h)continue;var m=l!=f.index?r.slice(l,f.index):"""";l=f.index+f[0].length,m&&a.appendChild(this.dom.createTextNode(m,this.element));if(c){var g=o.session.getScreenTabSize(t+f.index);a.appendChild(o.$tabStrings[g].cloneNode(!0)),t+=g-1}else if(h)if(o.showInvisibles){var y=this.dom.createElement(""span"");y.className=""ace_invisible ace_invisible_space"",y.textContent=s.stringRepeat(o.SPACE_CHAR,h.length),a.appendChild(y)}else a.appendChild(this.com.createTextNode(h,this.element));else if(p){var y=this.dom.createElement(""span"");y.className=""ace_invisible ace_invisible_space ace_invalid"",y.textContent=s.stringRepeat(o.SPACE_CHAR,p.length),a.appendChild(y)}else if(d){var b=o.showInvisibles?o.SPACE_CHAR:"""";t+=1;var y=this.dom.createElement(""span"");y.style.width=o.config.characterWidth*2+""px"",y.className=o.showInvisibles?""ace_cjk ace_invisible ace_invisible_space"":""ace_cjk"",y.textContent=o.showInvisibles?o.SPACE_CHAR:"""",a.appendChild(y)}else if(v){t+=1;var y=i.createElement(""span"");y.style.width=o.config.characterWidth*2+""px"",y.className=""ace_cjk"",y.textContent=v,a.appendChild(y)}}a.appendChild(this.dom.createTextNode(l?r.slice(l):r,this.element));if(!this.$textToken[n.type]){var w=""ace_""+n.type.replace(/\./g,"" ace_""),y=this.dom.createElement(""span"");n.type==""fold""&&(y.style.width=n.value.length*this.config.characterWidth+""px""),y.className=w,y.appendChild(a),e.appendChild(y)}else e.appendChild(a);return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(t[0]=="" ""){r-=r%this.tabSize;var i=r/this.tabSize;for(var s=0;s<i;s++)e.appendChild(this.$tabStrings["" ""].cloneNode(!0));return t.substr(r)}if(t[0]==""	""){for(var s=0;s<r;s++)e.appendChild(this.$tabStrings[""	""].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement(""div"");return t.className=""ace_line"",t.style.height=this.config.lineHeight+""px"",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,o=n[0],u=0,a=this.$createLineElement();e.appendChild(a);for(var f=0;f<t.length;f++){var l=t[f],c=l.value;if(f==0&&this.displayIndentGuides){r=c.length,c=this.renderIndentGuide(a,c,o);if(!c)continue;r-=c.length}if(r+c.length<o)u=this.$renderToken(a,u,l,c),r+=c.length;else{while(r+c.length>=o)u=this.$renderToken(a,u,l,c.substring(0,o-r)),c=c.substring(o-r),r=o,a=this.$createLineElement(),e.appendChild(a),a.appendChild(this.dom.createTextNode(s.stringRepeat(""\u00a0"",n.indent),this.element)),i++,u=0,o=n[i]||Number.MAX_VALUE;c.length!=0&&(r+=c.length,u=this.$renderToken(a,u,l,c))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var s=1;s<t.length;s++){r=t[s],i=r.value;if(n+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,i);n=this.$renderToken(e,n,r,i)}},this.$renderOverflowMessage=function(e,t,n,r){this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var i=this.dom.createElement(""span"");i.className=""ace_inline_button ace_keyword ace_toggle_wrap"",i.style.position=""absolute"",i.style.right=""0"",i.textContent=""<click to see more...>"",e.appendChild(i)},this.$renderLine=function(e,t,n){!n&&n!=0&&(n=this.session.getFoldLine(t));if(n)var r=this.$getFoldLineTokens(t,n);else var r=this.session.getTokens(t);var i=e;if(r.length){var s=this.session.getRowSplitData(t);if(s&&s.length){this.$renderWrappedLine(e,r,s);var i=e.lastChild}else{var i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showInvisibles&&i){n&&(t=n.end.row);var o=this.dom.createElement(""span"");o.className=""ace_invisible ace_invisible_eol"",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(o)}},this.$getFoldLineTokens=function(e,t){function i(e,t,n){var i=0,s=0;while(s+e[i].value.length<t){s+=e[i].value.length,i++;if(i==e.length)return}if(s!=t){var o=e[i].value.substring(t-s);o.length>n-t&&(o=o.substring(0,n-t)),r.push({type:e[i].type,value:o}),s=t+o.length,i+=1}while(s<n&&i<e.length){var o=e[i].value;o.length+s>n?r.push({type:e[i].type,value:o.substring(0,n-s)}):r.push(e[i]),s+=o.length,i+=1}}var n=this.session,r=[],s=n.getTokens(e);return t.walk(function(e,t,o,u,a){e!=null?r.push({type:""fold"",value:e}):(a&&(s=n.getTokens(t)),s.length&&i(s,u,o))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(a.prototype),t.Text=a}),ace.define(""ace/layer/cursor"",[""require"",""exports"",""module"",""ace/lib/dom""],function(e,t,n){""use strict"";var r=e(""../lib/dom""),i=function(e){this.element=r.createElement(""div""),this.element.className=""ace_layer ace_cursor-layer"",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,""ace_hidden-cursors""),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){var t=this.cursors;for(var n=t.length;n--;)r.setStyle(t[n].style,""opacity"",e?"""":""0"")},this.$startCssAnimation=function(){var e=this.cursors;for(var t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+""ms"";setTimeout(function(){r.addCssClass(this.element,""ace_animate-blinking"")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,""ace_animate-blinking"")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,""ace_smooth-blinking"",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement(""div"");return e.className=""ace_cursor"",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,""ace_hidden-cursors""),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,""ace_hidden-cursors""),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,""ace_smooth-blinking""),e(!0);if(!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,""ace_smooth-blinking"")}.bind(this));if(r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;if(t===undefined||t.length===0)t=[{cursor:null}];for(var n=0,s=t.length;n<s;n++){var o=this.getPixelPosition(t[n].cursor,!0);if((o.top>e.height+e.offset||o.top<0)&&n>1)continue;var u=this.cursors[i++]||this.addCursor(),a=u.style;this.drawCursor?this.drawCursor(u,o,e,t[n],this.session):this.isCursorInView(o,e)?(r.setStyle(a,""display"",""block""),r.translate(u,o.left,o.top),r.setStyle(a,""width"",Math.round(e.characterWidth)+""px""),r.setStyle(a,""height"",e.lineHeight+""px"")):r.setStyle(a,""display"",""none"")}while(this.cursors.length>i)this.removeCursor();var f=this.session.getOverwrite();this.$setOverwrite(f),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,""ace_overwrite-cursors""):r.removeCssClass(this.element,""ace_overwrite-cursors""))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i}),ace.define(""ace/scrollbar"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom"",""ace/lib/event"",""ace/lib/event_emitter""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/dom""),s=e(""./lib/event""),o=e(""./lib/event_emitter"").EventEmitter,u=32768,a=function(e){this.element=i.createElement(""div""),this.element.className=""ace_scrollbar ace_scrollbar""+this.classSuffix,this.inner=i.createElement(""div""),this.inner.className=""ace_scrollbar-inner"",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,""scroll"",this.onScroll.bind(this)),s.addListener(this.element,""mousedown"",s.preventDefault)};(function(){r.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"""":""none"",this.isVisible=e,this.coeff=1}}).call(a.prototype);var f=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+""px"",this.$minWidth=0};r.inherits(f,a),function(){this.classSuffix=""-v"",this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit(""scroll"",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+""px""},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>u?(this.coeff=u/e,e=u):this.coeff!=1&&(this.coeff=1),this.inner.style.height=e+""px""},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(f.prototype);var l=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+""px""};r.inherits(l,a),function(){this.classSuffix=""-h"",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit(""scroll"",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+""px""},this.setInnerWidth=function(e){this.inner.style.width=e+""px""},this.setScrollWidth=function(e){this.inner.style.width=e+""px""},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=f,t.ScrollBarV=f,t.ScrollBarH=l,t.VScrollBar=f,t.HScrollBar=l}),ace.define(""ace/renderloop"",[""require"",""exports"",""module"",""ace/lib/event""],function(e,t,n){""use strict"";var r=e(""./lib/event""),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;t&&(r.blockIdle(100),n.changes=0,n.onRender(t));if(n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i}),ace.define(""ace/layer/font_metrics"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom"",""ace/lib/lang"",""ace/lib/event"",""ace/lib/useragent"",""ace/lib/event_emitter""],function(e,t,n){var r=e(""../lib/oop""),i=e(""../lib/dom""),s=e(""../lib/lang""),o=e(""../lib/event""),u=e(""../lib/useragent""),a=e(""../lib/event_emitter"").EventEmitter,f=256,l=typeof ResizeObserver==""function"",c=200,h=t.FontMetrics=function(e){this.el=i.createElement(""div""),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement(""div""),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement(""div""),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.innerHTML=s.stringRepeat(""X"",f),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,a),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height=""auto"",e.left=e.top=""0px"",e.visibility=""hidden"",e.position=""absolute"",e.whiteSpace=""pre"",u.isIE<8?e[""font-family""]=""inherit"":e.font=""inherit"",e.overflow=t?""hidden"":""visible""},this.checkForSizeChanges=function(e){e===undefined&&(e=this.$measureSizes());if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight=""bold"";var t=this.$measureSizes();this.$measureNode.style.fontWeight="""",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit(""changeCharacterSize"",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){var n=t[0].contentRect;e.checkForSizeChanges({height:n.height,width:n.width/f})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle(function t(){e.checkForSizeChanges(),o.onIdle(t,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/f};return t.width===0||t.height===0?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=s.stringRepeat(e,f);var t=this.$main.getBoundingClientRect();return t.width/f},this.getCharacterWidth=function(e){var t=this.charSizes[e];return t===undefined&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return[""div"",{style:""position: absolute;top:""+e+""px;left:""+t+""px;""}]};this.els=i.buildDom([e(0,0),e(c,0),e(0,c),e(c,c)],this.el)},this.transformCoordinates=function(e,t){function r(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function u(e){var t=e.getBoundingClientRect();return[t.left,t.top]}if(e){var n=this.$getZoom(this.el);e=o(1/n,e)}this.els||this.$initTransformMeasureNodes();var a=u(this.els[0]),f=u(this.els[1]),l=u(this.els[2]),h=u(this.els[3]),p=r(i(h,f),i(h,l),i(s(f,l),s(h,a))),d=o(1+p[0],i(f,a)),v=o(1+p[1],i(l,a));if(t){var m=t,g=p[0]*m[0]/c+p[1]*m[1]/c+1,y=s(o(m[0],d),o(m[1],v));return s(o(1/g/c,y),a)}var b=i(e,a),w=r(i(d,o(p[0],b)),i(v,o(p[1],b)),b);return o(c,w)}}).call(h.prototype)}),ace.define(""ace/virtual_renderer"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom"",""ace/config"",""ace/layer/gutter"",""ace/layer/marker"",""ace/layer/text"",""ace/layer/cursor"",""ace/scrollbar"",""ace/scrollbar"",""ace/renderloop"",""ace/layer/font_metrics"",""ace/lib/event_emitter"",""ace/lib/useragent""],function(e,t,n){""use strict"";var r=e(""./lib/oop""),i=e(""./lib/dom""),s=e(""./config""),o=e(""./layer/gutter"").Gutter,u=e(""./layer/marker"").Marker,a=e(""./layer/text"").Text,f=e(""./layer/cursor"").Cursor,l=e(""./scrollbar"").HScrollBar,c=e(""./scrollbar"").VScrollBar,h=e(""./renderloop"").RenderLoop,p=e(""./layer/font_metrics"").FontMetrics,d=e(""./lib/event_emitter"").EventEmitter,v='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg=="");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg=="");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII="");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC"");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=""),url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII="");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=""),url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC"");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg=="");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg=="");}.ace_fold-widget.ace_closed {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA=="");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC"");}.ace_dark .ace_fold-widget.ace_end {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg=="");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg=="");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}',m=e(""./lib/useragent""),g=m.isIE;i.importCssString(v,""ace_editor.css"");var y=function(e,t){var n=this;this.container=e||i.createElement(""div""),i.addCssClass(this.container,""ace_editor""),i.HI_DPI&&i.addCssClass(this.container,""ace_hidpi""),this.setTheme(t),this.$gutter=i.createElement(""div""),this.$gutter.className=""ace_gutter"",this.container.appendChild(this.$gutter),this.$gutter.setAttribute(""aria-hidden"",!0),this.scroller=i.createElement(""div""),this.scroller.className=""ace_scroller"",this.container.appendChild(this.scroller),this.content=i.createElement(""div""),this.content.className=""ace_content"",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on(""changeGutterWidth"",this.onGutterResize.bind(this)),this.$markerBack=new u(this.content);var r=this.$textLayer=new a(this.content);this.canvas=r.element,this.$markerFront=new u(this.content),this.$cursorLayer=new f(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.addEventListener(""scroll"",function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener(""scroll"",function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener(""changeCharacterSize"",function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal(""changeCharacterSize"",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._emit(""renderer"",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle(""ace_nobold"",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off(""changeNewLineMode"",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e);if(!e)return;this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on(""changeNewLineMode"",this.onChangeNewLineMode)},this.updateLines=function(e,t,n){t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t};if(this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(this.resizing>2)return;this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var s=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var s=0,o=this.$size,u={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};r&&(e||o.height!=r)&&(o.height=r,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+""px"",s|=this.CHANGE_SCROLL);if(n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,""left"",t+""px""),i.setStyle(this.scroller.style,""left"",t+this.margin.left+""px""),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,""left"",this.margin.left+""px"");var a=this.scrollBarV.getWidth()+""px"";i.setStyle(this.scrollBarH.element.style,""right"",a),i.setStyle(this.scroller.style,""right"",a),i.setStyle(this.scroller.style,""bottom"",this.scrollBarH.getHeight());if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)s|=this.CHANGE_FULL}return o.$dirty=!n||!r,s&&this._signal(""resize"",u),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption(""animatedScroll"",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption(""showInvisibles"",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption(""showInvisibles"")},this.getDisplayIndentGuides=function(){return this.getOption(""displayIndentGuides"")},this.setDisplayIndentGuides=function(e){this.setOption(""displayIndentGuides"",e)},this.setShowPrintMargin=function(e){this.setOption(""showPrintMargin"",e)},this.getShowPrintMargin=function(){return this.getOption(""showPrintMargin"")},this.setPrintMarginColumn=function(e){this.setOption(""printMarginColumn"",e)},this.getPrintMarginColumn=function(){return this.getOption(""printMarginColumn"")},this.getShowGutter=function(){return this.getOption(""showGutter"")},this.setShowGutter=function(e){return this.setOption(""showGutter"",e)},this.getFadeFoldWidgets=function(){return this.getOption(""fadeFoldWidgets"")},this.setFadeFoldWidgets=function(e){this.setOption(""fadeFoldWidgets"",e)},this.setHighlightGutterLine=function(e){this.setOption(""highlightGutterLine"",e)},this.getHighlightGutterLine=function(){return this.getOption(""highlightGutterLine"")},this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var e=i.createElement(""div"");e.className=""ace_layer ace_print-margin-layer"",this.$printMarginEl=i.createElement(""div""),this.$printMarginEl.className=""ace_print-margin"",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+""px"",t.visibility=this.$showPrintMargin?""visible"":""hidden"",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e=this.textarea.style;if(!this.$keepTextAreaAtCursor){i.translate(this.textarea,-100,0);return}var t=this.$cursorLayer.$pixelPos;if(!t)return;var n=this.$composition;n&&n.markerRange&&(t=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var r=this.layerConfig,s=t.top,o=t.left;s-=r.offset;var u=n&&n.useTextareaForIME?this.lineHeight:g?0:1;if(s<0||s>r.height-u){i.translate(this.textarea,0,0);return}var a=1;if(!n)s+=this.lineHeight;else if(n.useTextareaForIME){var f=this.textarea.value;a=this.characterWidth*this.session.$getStringScreenWidth(f)[0],u+=2}else s+=this.lineHeight+2;o-=this.scrollLeft,o>this.$size.scrollerWidth-a&&(o=this.$size.scrollerWidth-a),o+=this.gutterWidth+this.margin.left,i.setStyle(e,""height"",u+""px""),i.setStyle(e,""width"",a+""px""),i.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-a),Math.min(s,this.$size.height-u))},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.top=e|0,i.bottom=t|0,i.right=r|0,i.left=n|0,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption(""hScrollBarAlwaysVisible"",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption(""vScrollBarAlwaysVisible"",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){this.$changes&&(e|=this.$changes,this.$changes=0);if(!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t){this.$changes|=e;return}if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal(""beforeRender""),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){e|=this.$computeLayerConfig()|this.$loop.clear();if(n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var s=n.width+2*this.$padding+""px"",o=n.minHeight+""px"";i.setStyle(this.content.style,""width"",s),i.setStyle(this.content.style,""height"",o)}e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?""ace_scroller"":""ace_scroller ace_scroll-left"");if(e&this.CHANGE_FULL){this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal(""afterRender"");return}if(e&this.CHANGE_SCROLL){e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this._signal(""afterRender"");return}e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal(""afterRender"")},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=n<=2*this.lineHeight,i=!r&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var s=this.container.clientWidth;this.container.style.height=n+""px"",this.$updateCachedSize(!0,this.$gutterWidth,s,n),this.desiredHeight=n,this._signal(""autosize"")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),u=this.$horizScroll!==o;u&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var f=t.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=l;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,i-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+c.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+l<0||this.scrollTop>c.top),p=a!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var d=this.scrollTop%this.lineHeight,v=Math.ceil(f/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-d)/this.lineHeight)),g=m+v,y,b,w=this.lineHeight;m=e.screenToDocumentRow(m,0);var E=e.getFoldLine(m);E&&(m=E.start.row),y=e.documentToScreenRow(m,0),b=e.getRowLength(m)*w,g=Math.min(e.screenToDocumentRow(g,0),e.getLength()-1),f=t.scrollerHeight+e.getRowLength(g)*w+b,d=this.scrollTop-y*w;var S=0;if(this.layerConfig.width!=s||u)S=this.CHANGE_H_SCROLL;if(u||p)S=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal(""scrollbarVisibilityChanged""),p&&(s=this.$getLongestLine());return this.layerConfig={width:s,padding:this.$padding,firstRow:m,firstRowScreen:y,lastRow:g,lineHeight:w,characterWidth:this.characterWidth,minHeight:f,maxHeight:i,offset:d,gutterOffset:w?Math.max(0,Math.ceil((d+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),S},this.$updateLines=function(){if(!this.$changedLines)return;var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(e>n.lastRow+1)return;if(t<n.firstRow)return;if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n),this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,e,t),!0},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(this.$size.scrollerHeight===0)return;var r=this.$cursorLayer.getPixelPosition(e),i=r.left,s=r.top,o=n&&n.top||0,u=n&&n.bottom||0,a=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;a+o>s?(t&&a+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),s===0&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):a+this.$size.scrollerHeight-u<s+this.lineHeight&&(t&&a+this.$size.scrollerHeight-u<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+u-this.$size.scrollerHeight));var f=this.scrollLeft;f>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):f+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):f<=this.$padding&&i-f<this.characterWidth&&this.session.setScrollLeft(0)},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){typeof e==""number""&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],s=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(s(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),s=i.top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),n!==!1&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(!this.$animatedScroll)return;var r=this;if(e==n)return;if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length){e=i[0];if(e==n)return}}var s=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),r.session.setScrollTop(s.shift()),r.session.$scrollTop=n,this.$timer=setInterval(function(){s.length?(r.session.setScrollTop(s.shift()),r.session.$scrollTop=n):n!=null?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return!0;if(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return!0;if(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return!0;if(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),u=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:u,side:s-u>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,s=i/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),u=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(u,Math.max(o,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),s=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,""ace_focus"")},this.visualizeBlur=function(){i.removeCssClass(this.container,""ace_focus"")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText,e.keepTextAreaAtCursor=this.$keepTextAreaAtCursor),e.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,""ace_composition""),this.textarea.style.cssText="""",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display=""none""):e.markerId=this.session.addMarker(e.markerRange,""ace_composition_marker"",""text"")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,""composition_placeholder"",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,""ace_composition""),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display=""""},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=i.getTokens(n);if(r==null)o.push(s);else{var u=0;for(var a=0;a<o.length;a++){var f=o[a];u+=f.value.length;if(r<=u){var l=f.value.length-(u-r),c=f.value.slice(0,l),h=f.value.slice(l);o.splice(a,1,{type:f.type,value:c},s,{type:f.type,value:h});break}}}this.updateLines(n,n)},this.setTheme=function(e,t){function o(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error(""couldn't load module ""+e+"" or it didn't call define"");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var s=""padding""in r?r.padding:""padding""in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,""ace_dark"",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent(""themeLoaded"",{theme:r}),t&&t()}var n=this;this.$themeId=e,n._dispatchEvent(""themeChange"",{theme:e});if(!e||typeof e==""string""){var r=e||this.$options.theme.initialValue;s.loadModule([""theme"",r],o)}else o(e)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,""cursor"",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,""cursor"",e)},this.attachToShadowRoot=function(){i.importCssString(v,""ace_editor.css"",this.container)},this.destroy=function(){this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(y.prototype),s.defineOptions(y.prototype,""renderer"",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){typeof e==""number""&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?""block"":""none"",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,""ace_fade-fold-widgets"",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){typeof e==""number""&&(e+=""px""),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0;if(this.$scrollPastEnd==e)return;this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:""./theme/textmate"",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y}),ace.define(""ace/worker/worker_client"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/net"",""ace/lib/event_emitter"",""ace/config""],function(e,t,n){""use strict"";function u(e){var t=""importScripts('""+i.qualifyURL(e)+""');"";try{return new Blob([t],{type:""application/javascript""})}catch(n){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,s=new r;return s.append(t),s.getBlob(""application/javascript"")}}function a(e){if(typeof Worker==""undefined"")return{postMessage:function(){},terminate:function(){}};if(o.get(""loadWorkerFromBlob"")){var t=u(e),n=window.URL||window.webkitURL,r=n.createObjectURL(t);return new Worker(r)}return new Worker(e)}var r=e(""../lib/oop""),i=e(""../lib/net""),s=e(""../lib/event_emitter"").EventEmitter,o=e(""../config""),f=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.$createWorkerFromOldConfig=function(t,n,r,i,s){e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl);if(o.get(""packaged"")||!e.toUrl)i=i||o.moduleUrl(n,""worker"");else{var u=this.$normalizePath;i=i||u(e.toUrl(""ace/worker/worker.js"",null,""_""));var f={};t.forEach(function(t){f[t]=u(e.toUrl(t,null,""_"").replace(/(\.js)?(\?.*)?$/,""""))})}return this.$worker=a(i),s&&this.send(""importScripts"",s),this.$worker.postMessage({init:!0,tlns:f,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case""event"":this._signal(t.name,{data:t.data});break;case""call"":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case""error"":this.reportError(t.data);break;case""log"":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal(""terminate"",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off(""change"",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call(""setValue"",[e.getValue()]),e.on(""change"",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),e.action==""insert""?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;if(!e)return;this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call(""setValue"",[this.$doc.getValue()]):this.emit(""change"",{data:e})}}).call(f.prototype);var l=function(e,t,n){var r=null,i=!1,u=Object.create(s),a=[],l=new f({messageBuffer:a,terminate:function(){},postMessage:function(e){a.push(e);if(!r)return;i?setTimeout(c):c()}});l.setEmitSync=function(e){i=e};var c=function(){var e=a.shift();e.command?r[e.command].apply(r,e.args):e.event&&u._signal(e.event,e.data)};return u.postMessage=function(e){l.onMessage({data:e})},u.callback=function(e,t){this.postMessage({type:""call"",id:t,data:e})},u.emit=function(e,t){this.postMessage({type:""event"",name:e,data:t})},o.loadModule([""worker"",t],function(e){r=new e[n](u);while(a.length)c()}),l};t.UIWorkerClient=l,t.WorkerClient=f,t.createWorker=a}),ace.define(""ace/placeholder"",[""require"",""exports"",""module"",""ace/range"",""ace/lib/event_emitter"",""ace/lib/oop""],function(e,t,n){""use strict"";var r=e(""./range"").Range,i=e(""./lib/event_emitter"").EventEmitter,s=e(""./lib/oop""),o=function(e,t,n,r,i,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on(""change"",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=n;var u=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),e.selection.on(""changeCursor"",this.$onCursorChange)};(function(){s.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row!==t.end.row)return;if(t.start.row!==this.pos.row)return;this.$updating=!0;var n=e.action===""insert""?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;this.updateAnchors(e),i&&(this.length+=n);if(i&&!this.session.$fromUndo)if(e.action===""insert"")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.insertMergedLines(a,e.lines)}else if(e.action===""remove"")for(var o=this.others.length-1;o>=0;o--){var u=this.others[o],a={row:u.row,column:u.column+s};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(this.$updating)return;var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)},this.onCursorChange=function(e){if(this.$updating||!this.session)return;var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit(""cursorEnter"",e)):(this.hideOtherMarkers(),this._emit(""cursorLeave"",e))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener(""change"",this.$onUpdate),this.session.selection.removeEventListener(""changeCursor"",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth===-1)return;var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth;for(var n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(o.prototype),t.PlaceHolder=o}),ace.define(""ace/mouse/multi_select_handler"",[""require"",""exports"",""module"",""ace/lib/event"",""ace/lib/useragent""],function(e,t,n){function s(e,t){return e.row==t.row&&e.column==t.column}function o(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,u=t.ctrlKey,a=e.getAccelKey(),f=e.getButton();u&&i.isMac&&(f=t.button);if(e.editor.inMultiSelectMode&&f==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!u&&!n&&!a){f===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}if(f!==0)return;var l=e.editor,c=l.selection,h=l.inMultiSelectMode,p=e.getDocumentPosition(),d=c.getCursor(),v=e.inSelection()||c.isEmpty()&&s(p,d),m=e.x,g=e.y,y=function(e){m=e.clientX,g=e.clientY},b=l.session,w=l.renderer.pixelToScreenCoordinates(m,g),E=w,S;if(l.$mouseHandler.$enableJumpToDef)u&&n||a&&n?S=o?""block"":""add"":n&&l.$blockSelectEnabled&&(S=""block"");else if(a&&!n){S=""add"";if(!h&&o)return}else n&&l.$blockSelectEnabled&&(S=""block"");S&&i.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu();if(S==""add""){if(!h&&v)return;if(!h){var x=c.toOrientedRange();l.addSelectionMarker(x)}var T=c.rangeList.rangeAtPoint(p);l.inVirtualSelectionMode=!0,o&&(T=null,x=c.ranges[0]||x,l.removeSelectionMarker(x)),l.once(""mouseup"",function(){var e=c.toOrientedRange();T&&e.isEmpty()&&s(T.cursor,e.cursor)?c.substractPoint(e.cursor):(o?c.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),c.addRange(x)),c.addRange(e)),l.inVirtualSelectionMode=!1})}else if(S==""block""){e.stop(),l.inVirtualSelectionMode=!0;var N,C=[],k=function(){var e=l.renderer.pixelToScreenCoordinates(m,g),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);if(s(E,e)&&s(t,c.lead))return;E=e,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=c.rectangularRangeBlock(E,w),l.$mouseHandler.$clickSelection&&C.length==1&&C[0].isEmpty()&&(C[0]=l.$mouseHandler.$clickSelection.clone()),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers()};h&&!a?c.toSingleRange():!h&&a&&(N=c.toOrientedRange(),l.addSelectionMarker(N)),o?w=b.documentToScreenPosition(c.lead):c.moveToPosition(p),E={row:-1,column:-1};var L=function(e){k(),clearInterval(O),l.removeSelectionMarkers(C),C.length||(C=[c.toOrientedRange()]),N&&(l.removeSelectionMarker(N),c.toSingleRange(N));for(var t=0;t<C.length;t++)c.addRange(C[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},A=k;r.capture(l.container,y,L);var O=setInterval(function(){A()},20);return e.preventDefault()}}var r=e(""../lib/event""),i=e(""../lib/useragent"");t.onMouseDown=o}),ace.define(""ace/commands/multi_select_commands"",[""require"",""exports"",""module"",""ace/keyboard/hash_handler""],function(e,t,n){t.defaultCommands=[{name:""addCursorAbove"",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:""Ctrl-Alt-Up"",mac:""Ctrl-Alt-Up""},scrollIntoView:""cursor"",readOnly:!0},{name:""addCursorBelow"",exec:function(e){e.selectMoreLines(1)},bindKey:{win:""Ctrl-Alt-Down"",mac:""Ctrl-Alt-Down""},scrollIntoView:""cursor"",readOnly:!0},{name:""addCursorAboveSkipCurrent"",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:""Ctrl-Alt-Shift-Up"",mac:""Ctrl-Alt-Shift-Up""},scrollIntoView:""cursor"",readOnly:!0},{name:""addCursorBelowSkipCurrent"",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:""Ctrl-Alt-Shift-Down"",mac:""Ctrl-Alt-Shift-Down""},scrollIntoView:""cursor"",readOnly:!0},{name:""selectMoreBefore"",exec:function(e){e.selectMore(-1)},bindKey:{win:""Ctrl-Alt-Left"",mac:""Ctrl-Alt-Left""},scrollIntoView:""cursor"",readOnly:!0},{name:""selectMoreAfter"",exec:function(e){e.selectMore(1)},bindKey:{win:""Ctrl-Alt-Right"",mac:""Ctrl-Alt-Right""},scrollIntoView:""cursor"",readOnly:!0},{name:""selectNextBefore"",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:""Ctrl-Alt-Shift-Left"",mac:""Ctrl-Alt-Shift-Left""},scrollIntoView:""cursor"",readOnly:!0},{name:""selectNextAfter"",exec:function(e){e.selectMore(1,!0)},bindKey:{win:""Ctrl-Alt-Shift-Right"",mac:""Ctrl-Alt-Shift-Right""},scrollIntoView:""cursor"",readOnly:!0},{name:""splitIntoLines"",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:""Ctrl-Alt-L"",mac:""Ctrl-Alt-L""},readOnly:!0},{name:""alignCursors"",exec:function(e){e.alignCursors()},bindKey:{win:""Ctrl-Alt-A"",mac:""Ctrl-Alt-A""},scrollIntoView:""cursor""},{name:""findAll"",exec:function(e){e.findAll()},bindKey:{win:""Ctrl-Alt-K"",mac:""Ctrl-Alt-G""},scrollIntoView:""cursor"",readOnly:!0}],t.multiSelectCommands=[{name:""singleSelection"",bindKey:""esc"",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:""cursor"",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e(""../keyboard/hash_handler"").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define(""ace/multi_select"",[""require"",""exports"",""module"",""ace/range_list"",""ace/range"",""ace/selection"",""ace/mouse/multi_select_handler"",""ace/lib/event"",""ace/lib/lang"",""ace/commands/multi_select_commands"",""ace/search"",""ace/edit_session"",""ace/editor"",""ace/config""],function(e,t,n){function h(e,t,n){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=n==-1,c.find(e)}function v(e,t){return e.row==t.row&&e.column==t.column}function m(e){if(e.$multiselectOnSessionChange)return;e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on(""changeSession"",e.$multiselectOnSessionChange),e.on(""mousedown"",o),e.commands.addCommands(f.defaultCommands),g(e)}function g(e){function r(t){n&&(e.renderer.setMouseCursor(""""),n=!1)}var t=e.textInput.getElement(),n=!1;u.addListener(t,""keydown"",function(t){var i=t.keyCode==18&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor(""crosshair""),n=!0):n&&r()}),u.addListener(t,""keyup"",r),u.addListener(t,""blur"",r)}var r=e(""./range_list"").RangeList,i=e(""./range"").Range,s=e(""./selection"").Selection,o=e(""./mouse/multi_select_handler"").onMouseDown,u=e(""./lib/event""),a=e(""./lib/lang""),f=e(""./commands/multi_select_commands"");t.commands=f.defaultCommands.concat(f.multiSelectCommands);var l=e(""./search"").Search,c=new l,p=e(""./edit_session"").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(!e)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var n=this.toOrientedRange();this.rangeList.add(n),this.rangeList.add(e);if(this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal(""multiSelect""),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal(""addRange"",{range:e})},this.$onRemoveRange=function(e){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal(""removeRange"",{ranges:e}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal(""singleSelect""),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new r,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var n=this.getRange(),r=this.isBackwards(),s=n.start.row,o=n.end.row;if(s==o){if(r)var u=n.end,a=n.start;else var u=n.start,a=n.end;this.addRange(i.fromPoints(a,a)),this.addRange(i.fromPoints(u,u));return}var f=[],l=this.getLineRange(s,!0);l.start.column=n.start.column,f.push(l);for(var c=s+1;c<o;c++)f.push(this.getLineRange(c,!0));l=this.getLineRange(o,!0),l.end.column=n.end.column,f.push(l),f.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor),o=this.rectangularRangeBlock(r,s);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],s=e.column<t.column;if(s)var o=e.column,u=t.column,a=e.offsetX,f=t.offsetX;else var o=t.column,u=e.column,a=t.offsetX,f=e.offsetX;var l=e.row<t.row;if(l)var c=e.row,h=t.row;else var c=t.row,h=e.row;o<0&&(o=0),c<0&&(c=0),c==h&&(n=!0);var p;for(var d=c;d<=h;d++){var m=i.fromPoints(this.session.screenToDocumentPosition(d,o,a),this.session.screenToDocumentPosition(d,u,f));if(m.isEmpty()){if(p&&v(m.end,p))break;p=m.end}m.cursor=s?m.start:m.end,r.push(m)}l&&r.reverse();if(!n){var g=r.length-1;while(r[g].isEmpty()&&g>0)g--;if(g>0){var y=0;while(r[y].isEmpty())y++}for(var b=g;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(s.prototype);var d=e(""./editor"").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,""ace_selection"",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(!e.marker)return;this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(e){var t=this.session.$selectionMarkers;for(var n=e.length;n--;){var r=e[n];if(!r.marker)continue;this.session.removeMarker(r.marker);var i=t.indexOf(r);i!=-1&&t.splice(i,1)}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle(""ace_multiselect""),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler(""exec"",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle(""ace_multiselect""),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler(""exec"",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit(""changeSelection"")},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(!n.multiSelect)return;if(!t.multiSelectAction){var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}else t.multiSelectAction==""forEach""?r=n.forEachSelection(t,e.args):t.multiSelectAction==""forEachLine""?r=n.forEachSelection(t,e.args,!0):t.multiSelectAction==""single""?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});return r},this.forEachSelection=function(e,t,n){if(this.inVirtualSelectionMode)return;var r=n&&n.keepOrder,i=n==1||n&&n.$byLines,o=this.session,u=this.selection,a=u.rangeList,f=(r?u:a).ranges,l;if(!f.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=u._eventRegistry;u._eventRegistry={};var h=new s(o);this.inVirtualSelectionMode=!0;for(var p=f.length;p--;){if(i)while(p>0&&f[p].start.row==f[p-1].end.row)p--;h.fromOrientedRange(f[p]),h.index=p,this.selection=o.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!l&&d!==undefined&&(l=d),h.toOrientedRange(f[p])}h.detach(),this.selection=o.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=c,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var v=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),v&&v.from==v.to&&this.renderer.animateScrolling(v.from),l},this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="""";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.rangeList.ranges,n=[];for(var r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="""")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){t=t||{},t.needle=e||t.needle;if(t.needle==undefined){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var s=this.multiSelect;n||s.toSingleRange(i[0]);for(var o=i.length;o--;)s.addRange(i[o],!0);return r&&s.rangeList.rangeAtPoint(r.start)&&s.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(s.row+e,s.column);if(!n.isEmpty())var u=this.session.documentToScreenPosition(r?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+e,u.column);else var a=o;if(r){var f=i.fromPoints(o,a);f.cursor=f.start}else{var f=i.fromPoints(a,o);f.cursor=f.end}f.desiredColumn=s.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(n);else if(t)var l=n.cursor;this.selection.addRange(f),l&&this.selection.substractPoint(l)},this.transposeSelections=function(e){var t=this.session,n=t.multiSelect,r=n.ranges;for(var i=r.length;i--;){var s=r[i];if(s.isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var u=[];for(var i=r.length;i--;){var s=r[i];u.unshift(t.getTextRange(s))}e<0?u.unshift(u.pop()):u.push(u.shift());for(var i=r.length;i--;){var s=r[i],o=s.clone();t.replace(s,u[i]),s.start.row=o.start.row,s.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect,s=i.toOrientedRange();if(s.isEmpty()){s=r.getWordRange(s.start.row,s.start.column),s.cursor=e==-1?s.start:s.end,this.multiSelect.addRange(s);if(n)return}var o=r.getTextRange(s),u=h(r,o,e);u&&(u.cursor=e==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,s=n.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(!n.length||s.length==n.length-1){var o=this.selection.getRange(),u=o.start.row,f=o.end.row,l=u==f;if(l){var c=this.session.getLength(),h;do h=this.session.getLine(f);while(/[=:]/.test(h)&&++f<c);do h=this.session.getLine(u);while(/[=:]/.test(h)&&--u>0);u<0&&(u=0),f>=c&&(f=c-1)}var p=this.session.removeFullLines(u,f);p=this.$reAlignText(p,l),this.session.insert({row:u,column:0},p.join(""\n"")+""\n""),l||(o.start.column=0,o.end.column=p[p.length-1].length),this.selection.setRange(o)}else{s.forEach(function(e){t.substractPoint(e.cursor)});var d=0,v=Infinity,m=n.map(function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return i==-1&&(i=0),n.column>d&&(d=n.column),i<v&&(v=i),i});n.forEach(function(t,n){var r=t.cursor,s=d-r.column,o=m[n]-v;s>o?e.insert(r,a.stringRepeat("" "",s-o)):e.remove(new i(r.row,r.column,r.row,r.column-s+o)),t.start.column=t.end.column=d,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(e,t){function u(e){return a.stringRepeat("" "",e)}function f(e){return e[2]?u(i)+e[2]+u(s-e[2].length+o)+e[4].replace(/^([=:])\s+/,""$1 ""):e[0]}function l(e){return e[2]?u(i+s-e[2].length)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,""$1 ""):e[0]}function c(e){return e[2]?u(i)+e[2]+u(o)+e[4].replace(/^([=:])\s+/,""$1 ""):e[0]}var n=!0,r=!0,i,s,o;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,s=t[2].length,o=t[3].length,t):(i+s+o!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(n=!1),i>t[1].length&&(i=t[1].length),s<t[2].length&&(s=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?f:n?r?l:f:c)}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off(""addRange"",this.$onAddRange),n.multiSelect.off(""removeRange"",this.$onRemoveRange),n.multiSelect.off(""multiSelect"",this.$onMultiSelect),n.multiSelect.off(""singleSelect"",this.$onSingleSelect),n.multiSelect.lead.off(""change"",this.$checkMultiselectChange),n.multiSelect.anchor.off(""change"",this.$checkMultiselectChange)),t&&(t.multiSelect.on(""addRange"",this.$onAddRange),t.multiSelect.on(""removeRange"",this.$onRemoveRange),t.multiSelect.on(""multiSelect"",this.$onMultiSelect),t.multiSelect.on(""singleSelect"",this.$onSingleSelect),t.multiSelect.lead.on(""change"",this.$checkMultiselectChange),t.multiSelect.anchor.on(""change"",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e(""./config"").defineOptions(d.prototype,""editor"",{enableMultiselect:{set:function(e){m(this),e?(this.on(""changeSession"",this.$multiselectOnSessionChange),this.on(""mousedown"",o)):(this.off(""changeSession"",this.$multiselectOnSessionChange),this.off(""mousedown"",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define(""ace/mode/folding/fold_mode"",[""require"",""exports"",""module"",""ace/range""],function(e,t,n){""use strict"";var r=e(""../../range"").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?""start"":t==""markbeginend""&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?""end"":""""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,s=e.getLine(t),o=s.search(i);if(o==-1)return;var u=n||s.length,a=e.getLength(),f=t,l=t;while(++t<a){var c=e.getLine(t).search(i);if(c==-1)continue;if(c<=o)break;l=t}if(l>f){var h=e.getLine(l).length;return new r(f,u,l,h)}},this.openingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i+1},u=e.$findClosingBracket(t,o,s);if(!u)return;var a=e.foldWidgets[u.row];return a==null&&(a=e.getFoldWidget(u.row)),a==""start""&&u.row>o.row&&(u.row--,u.column=e.getLine(u.row).length),r.fromPoints(o,u)},this.closingBracketBlock=function(e,t,n,i,s){var o={row:n,column:i},u=e.$findOpeningBracket(t,o);if(!u)return;return u.column++,o.column--,r.fromPoints(u,o)}}).call(i.prototype)}),ace.define(""ace/theme/textmate"",[""require"",""exports"",""module"",""ace/lib/dom""],function(e,t,n){""use strict"";t.isDark=!1,t.cssClass=""ace-tm"",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url(""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg=="") right repeat-y;}',t.$id=""ace/theme/textmate"";var r=e(""../lib/dom"");r.importCssString(t.cssText,t.cssClass)}),ace.define(""ace/line_widgets"",[""require"",""exports"",""module"",""ace/lib/oop"",""ace/lib/dom"",""ace/range""],function(e,t,n){""use strict"";function o(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on(""change"",this.updateOnChange),this.session.on(""changeFold"",this.updateOnFold),this.session.on(""changeEditor"",this.$onChangeEditor)}var r=e(""./lib/oop""),i=e(""./lib/dom""),s=e(""./range"").Range;(function(){this.getRowLength=function(e){var t;return this.lineWidgets?t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:t=0,!this.$useWrapMode||!this.$wrapData[e]?1+t:this.$wrapData[e].length+1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach();if(this.editor==e)return;this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on(""beforeRender"",this.measureWidgets),e.renderer.on(""afterRender"",this.renderWidgets))},this.detach=function(e){var t=this.editor;if(!t)return;this.editor=null,t.widgetManager=null,t.renderer.off(""beforeRender"",this.measureWidgets),t.renderer.off(""afterRender"",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(!n||!e.action)return;var r=e.data,i=r.start.row,s=r.end.row,o=e.action==""add"";for(var u=i+1;u<s;u++)n[u]&&(n[u].hidden=o);n[s]&&(o?n[i]?n[s].hidden=o:n[i]=n[s]:(n[i]==n[s]&&(n[i]=undefined),n[s].hidden=o))},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(!t)return;var n=e.start.row,r=e.end.row-n;if(r!==0)if(e.action==""remove""){var i=t.splice(n+1,r);i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(r);s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}},this.$updateRows=function(){var e=this.session.lineWidgets;if(!e)return;var t=!0;e.forEach(function(e,n){if(e){t=!1,e.row=n;while(e.$oldWidget)e.$oldWidget.row=n,e=e.$oldWidget}}),t&&(this.session.lineWidgets=null)},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement(""div""),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,""ace_lineWidgetContainer""),e.el.style.position=""absolute"",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight==null&&(e.pixelHeight=e.el.offsetHeight),e.rowCount==null&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);e.$fold=r;if(r){var s=this.session.lineWidgets;e.row==r.end.row&&!s[r.start.row]?s[r.start.row]=e:e.hidden=!0}return this.session._emit(""changeFold"",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el);if(e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(t){}if(this.session.lineWidgets){var n=this.session.lineWidgets[e.row];if(n==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(n){if(n.$oldWidget==e){n.$oldWidget=e.$oldWidget;break}n=n.$oldWidget}}this.session._emit(""changeFold"",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,n=t&&t[e],r=[];while(n)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(!n||!n.length)return;var i=Infinity;for(var s=0;s<n.length;s++){var o=n[s];if(!o||!o.el)continue;if(o.session!=this.session)continue;if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/r.characterWidth));var u=o.h/r.lineHeight;o.coverLine&&(u-=this.session.getRowLineCount(o.row),u<0&&(u=0)),o.rowCount!=u&&(o.rowCount=u,o.row<i&&(i=o.row))}i!=Infinity&&(this.session._emit(""changeFold"",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(!r)return;var i=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=i;o<=s;o++){var u=r[o];if(!u||!u.el)continue;if(u.hidden){u.el.style.top=-100-(u.pixelHeight||0)+""px"";continue}u._inDocument||(u._inDocument=!0,t.container.appendChild(u.el));var a=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;u.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(u.row)),u.el.style.top=a-n.offset+""px"";var f=u.coverGutter?0:t.gutterWidth;u.fixedWidth||(f-=t.scrollLeft),u.el.style.left=f+""px"",u.fullWidth&&u.screenWidth&&(u.el.style.minWidth=n.width+2*n.padding+""px""),u.fixedWidth?u.el.style.right=t.scrollBar.getWidth()+""px"":u.el.style.right=""""}}}).call(o.prototype),t.LineWidgets=o}),ace.define(""ace/ext/error_marker"",[""require"",""exports"",""module"",""ace/line_widgets"",""ace/lib/dom"",""ace/range""],function(e,t,n){""use strict"";function o(e,t,n){var r=0,i=e.length-1;while(r<=i){var s=r+i>>1,o=n(t,e[s]);if(o>0)r=s+1;else{if(!(o<0))return s;i=s-1}}return-(r+1)}function u(e,t,n){var r=e.getAnnotations().sort(s.comparePoints);if(!r.length)return;var i=o(r,{row:t,column:-1},s.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:i===0&&n<0&&(i=r.length-1);var u=r[i];if(!u||!n)return;if(u.row===t){do u=r[i+=n];while(u&&u.row===t);if(!u)return r.slice()}var a=[];t=u.row;do a[n<0?""unshift"":""push""](u),u=r[i+=n];while(u&&u.row==t);return a.length&&a}var r=e(""../line_widgets"").LineWidgets,i=e(""../lib/dom""),s=e(""../range"").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),o=s.row,a=n.widgetManager.getWidgetsAtRow(o).filter(function(e){return e.type==""errorMarker""})[0];a?a.destroy():o-=t;var f=u(n,o,t),l;if(f){var c=f[0];s.column=(c.pos&&typeof c.column!=""number""?c.pos.sc:c.column)||0,s.row=c.row,l=e.renderer.$gutterLayer.$annotations[s.row]}else{if(a)return;l={text:[""Looks good!""],className:""ace_ok""}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement(""div""),type:""errorMarker""},p=h.el.appendChild(i.createElement(""div"")),d=h.el.appendChild(i.createElement(""div""));d.className=""error_widget_arrow ""+l.className;var v=e.renderer.$cursorLayer.getPixelPosition(s).left;d.style.left=v+e.renderer.gutterWidth-5+""px"",h.el.className=""error_widget_wrapper"",p.className=""error_widget ""+l.className,p.innerHTML=l.text.join(""<br>""),p.appendChild(i.createElement(""div""));var m=function(e,t,n){if(t===0&&(n===""esc""||n===""return""))return h.destroy(),{command:""null""}};h.destroy=function(){if(e.$mouseHandler.isMousePressed)return;e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(h),e.off(""changeSelection"",h.destroy),e.off(""changeSession"",h.destroy),e.off(""mouseup"",h.destroy),e.off(""change"",h.destroy)},e.keyBinding.addKeyboardHandler(m),e.on(""changeSelection"",h.destroy),e.on(""changeSession"",h.destroy),e.on(""mouseup"",h.destroy),e.on(""change"",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},i.importCssString(""    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }"","""")}),ace.define(""ace/ace"",[""require"",""exports"",""module"",""ace/lib/fixoldbrowsers"",""ace/lib/dom"",""ace/lib/event"",""ace/range"",""ace/editor"",""ace/edit_session"",""ace/undomanager"",""ace/virtual_renderer"",""ace/worker/worker_client"",""ace/keyboard/hash_handler"",""ace/placeholder"",""ace/multi_select"",""ace/mode/folding/fold_mode"",""ace/theme/textmate"",""ace/ext/error_marker"",""ace/config""],function(e,t,n){""use strict"";e(""./lib/fixoldbrowsers"");var r=e(""./lib/dom""),i=e(""./lib/event""),s=e(""./range"").Range,o=e(""./editor"").Editor,u=e(""./edit_session"").EditSession,a=e(""./undomanager"").UndoManager,f=e(""./virtual_renderer"").VirtualRenderer;e(""./worker/worker_client""),e(""./keyboard/hash_handler""),e(""./placeholder""),e(""./multi_select""),e(""./mode/folding/fold_mode""),e(""./theme/textmate""),e(""./ext/error_marker""),t.config=e(""./config""),t.require=e,typeof define==""function""&&(t.define=define),t.edit=function(e,n){if(typeof e==""string""){var s=e;e=document.getElementById(s);if(!e)throw new Error(""ace.edit can't find div #""+s)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var u="""";if(e&&/input|textarea/i.test(e.tagName)){var a=e;u=a.value,e=r.createElement(""pre""),a.parentNode.replaceChild(e,a)}else e&&(u=e.textContent,e.innerHTML="""");var l=t.createEditSession(u),c=new o(new f(e),l,n),h={document:l,editor:c,onResize:c.resize.bind(c,null)};return a&&(h.textarea=a),i.addListener(window,""resize"",h.onResize),c.on(""destroy"",function(){i.removeListener(window,""resize"",h.onResize),h.editor.container.env=null}),c.container.env=c.env=h,c},t.createEditSession=function(e,t){var n=new u(e,t);return n.setUndoManager(new a),n},t.Range=s,t.Editor=o,t.EditSession=u,t.UndoManager=a,t.VirtualRenderer=f,t.version=""1.4.3""});            (function() {"
userAgent = document._defaultView.navigator.userAgent;
userAgent = this._ownerDocument._defaultView.navigator.userAgent;
userAgent === 'string' && /\bEdge\/\d/.test(navigator.userAgent);
userAgent.indexOf('Chrome') > -1 && navigator.userAgent.indexOf('Edge') === -1 || navigator.userAgent.indexOf('Firefox') > -1) {
userAgent.indexOf('Firefox') === -1;
userAgent.innerHTML = navigator.userAgent;
useragent = useragent.$
useragent.useragent === 'string' && useragent.useragent.length > 0) {
useragent/badge.svg?branch=master&service=github)](https://coveralls.io/github/koppthe/random-fake-useragent?branch=master)
useragent/dev-status.svg)](https://david-dm.org/koppthe/random-fake-useragent#info=devDependencies)
useragents = []
useragents = require('./data/useragents.json')
