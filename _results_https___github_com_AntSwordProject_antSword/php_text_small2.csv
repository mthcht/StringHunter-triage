"<H2>"")};this.applyH3=function(){this._runCommand(""FormatBlock"",""<H3>"")};this.applyH4=function(){this._runCommand(""FormatBlock"",""<H4>"")};this.createNumList=function(){this._runCommand(""InsertOrderedList"")};this.createBulList=function(){this._runCommand(""InsertUnorderedList"")};this.increaseIndent=function(){this._runCommand(""Indent"")};this.decreaseIndent=function(){this._runCommand(""Outdent"")};this.clearFormatting=function(){this._runCommand(""RemoveFormat"");this.tb.setItemState(""applyBold"",false);this.tb.setItemState(""applyItalic"",false);this.tb.setItemState(""applyStrikethrough"",false);this.tb.setItemState(""applySub"",false);this.tb.setItemState(""applySuper"",false);this.tb.setItemState(""applyUnderscore"",false);var a=this.getContent();a=a.replace(/<\/?h\d>/gi,"""");this.setContent(a)}};dhtmlx.Group={_init:function(){dhtmlx.assert(this.data,""DataStore required for grouping"");this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(function(){if(this._settings.group){this.group(this._settings.group,false)}},this));this.attachEvent(""onBeforeRender"",dhtmlx.bind(function(a){if(this._settings.sort){a.block();a.sort(this._settings.sort);a.unblock()}},this));this.data.attachEvent(""onClearAll"",dhtmlx.bind(function(){this.data._not_grouped_order=this.data._not_grouped_pull=null},this));this.attachEvent(""onBeforeSort"",dhtmlx.bind(function(){this._settings.sort=null},this))},_init_group_data_event:function(c,a){c.attachEvent(""onClearAll"",dhtmlx.bind(function(){this.ungroup(false);this.block();this.clearAll();this.unblock()},a))},sum:function(c,a){c=dhtmlx.Template.setter(c);a=a||this.data;var e=0;a.each(function(g){e+=c(g)*1});return e},min:function(e,c){e=dhtmlx.Template.setter(e);c=c||this.data;var a=Infinity;c.each(function(g){if(e(g)*1<a){a=e(g)*1}});return a*1},max:function(e,c){e=dhtmlx.Template.setter(e);c=c||this.data;var a=-Infinity;c.each(function(g){if(e(g)*1>a){a=e(g)*1}});return a},_split_data_by:function(l){var n=function(r,q){r=dhtmlx.Template.setter(r);return r(q[0])};var o=dhtmlx.Template.setter(l.by);if(!l.map[o]){l.map[o]=[o,n]}var e={};var m=[];this.data.each(function(q){var r=o(q);if(!e[r]){m.push({id:r});e[r]=dhtmlx.toArray()}e[r].push(q)});for(var a in l.map){var h=(l.map[a][1]||n);if(typeof h!=""function""){h=this[h]}for(var g=0;g<m.length;g++){m[g][a]=h.call(this,l.map[a][0],e[m[g].id])}}this.data._not_grouped_order=this.data.order;this.data._not_grouped_pull=this.data.pull;this.data.order=dhtmlx.toArray();this.data.pull={};for(var g=0;g<m.length;g++){var c=this.data.id(m[g]);this.data.pull[c]=m[g];this.data.order.push(c)}this.callEvent(""onStoreUpdated"",[])},group:function(a,c){this.ungroup(false);this._split_data_by(a);if(c!==false){this.data.callEvent(""onStoreUpdated"",[])}},ungroup:function(a){if(this.data._not_grouped_order){this.data.order=this.data._not_grouped_order;this.data.pull=this.data._not_grouped_pull;this.data._not_grouped_pull=this.data._not_grouped_order=null}if(a!==false){this.data.callEvent(""onStoreUpdated"",[])}},group_setter:function(a){dhtmlx.assert(typeof a==""object"",""Incorrect group value"");dhtmlx.assert(a.by,""group.by is mandatory"");dhtmlx.assert(a.map,""group.map is mandatory"");return a},sort_setter:function(a){if(typeof a!=""object""){a={by:a}}this._mergeSettings(a,{as:""string"",dir:""asc""});return a}};dhtmlx.Date={Locale:{month_full:[""January"",""February"",""March"",""April"",""May"",""June"",""July"",""August"",""September"",""October"",""November"",""December""],month_short:[""Jan"",""Feb"",""Mar"",""Apr"",""May"",""Jun"",""Jul"",""Aug"",""Sep"",""Oct"",""Nov"",""Dec""],day_full:[""Sunday"",""Monday"",""Tuesday"",""Wednesday"",""Thursday"",""Friday"",""Saturday""],day_short:[""Sun"",""Mon"",""Tue"",""Wed"",""Thu"",""Fri"",""Sat""]},date_part:function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},time_part:function(a){return(a.valueOf()/1000-a.getTimezoneOffset()*60)%86400},week_start:function(c){var a=c.getDay();if(this.config.start_on_monday){if(a===0){a=6}else{a--}}return this.date_part(this.add(c,-1*a,""day""))},month_start:function(a){a.setDate(1);return this.date_part(a)},year_start:function(a){a.setMonth(0);return this.month_start(a)},day_start:function(a){return this.date_part(a)},add:function(c,e,g){var a=new Date(c.valueOf());switch(g){case""day"":a.setDate(a.getDate()+e);break;case""week"":a.setDate(a.getDate()+7*e);break;case""month"":a.setMonth(a.getMonth()+e);break;case""year"":a.setYear(a.getFullYear()+e);break;case""hour"":a.setHours(a.getHours()+e);break;case""minute"":a.setMinutes(a.getMinutes()+e);break;default:return dhtmlx.Date[""add_""+g](c,e,g)}return a},to_fixed:function(a){if(a<10){return""0""+a}return a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(c,a){c=c.replace(/%[a-zA-Z]/g,function(e){switch(e){case""%d"":return'""+dhtmlx.Date.to_fixed(date.getDate())+""';case""%m"":return'""+dhtmlx.Date.to_fixed((date.getMonth()+1))+""';case""%j"":return'""+date.getDate()+""';case""%n"":return'""+(date.getMonth()+1)+""';case""%y"":return'""+dhtmlx.Date.to_fixed(date.getFullYear()%100)+""';case""%Y"":return'""+date.getFullYear()+""';case""%D"":return'""+dhtmlx.Date.Locale.day_short[date.getDay()]+""';case""%l"":return'""+dhtmlx.Date.Locale.day_full[date.getDay()]+""';case""%M"":return'""+dhtmlx.Date.Locale.month_short[date.getMonth()]+""';case""%F"":return'""+dhtmlx.Date.Locale.month_full[date.getMonth()]+""';case""%h"":return'""+dhtmlx.Date.to_fixed((date.getHours()+11)%12+1)+""';case""%g"":return'""+((date.getHours()+11)%12+1)+""';case""%G"":return'""+date.getHours()+""';case""%H"":return'""+dhtmlx.Date.to_fixed(date.getHours())+""';case""%i"":return'""+dhtmlx.Date.to_fixed(date.getMinutes())+""';case""%a"":return'""+(date.getHours()>11?""pm"":""am"")+""';case""%A"":return'""+(date.getHours()>11?""PM"":""AM"")+""';case""%s"":return'""+dhtmlx.Date.to_fixed(date.getSeconds())+""';case""%W"":return'""+dhtmlx.Date.to_fixed(dhtmlx.Date.getISOWeek(date))+""';default:return e}});if(a){c=c.replace(/date\.get/g,""date.getUTC"")}return new Function(""date"",'return ""'+c+'"";')},str_to_date:function(h,e){var l=""var temp=date.split(/[^0-9a-zA-Z]+/g);"";var a=h.match(/%[a-zA-Z]/g);for(var c=0;c<a.length;c++){switch(a[c]){case""%j"":case""%d"":l+=""set[2]=temp[""+c+""]||1;"";break;case""%n"":case""%m"":l+=""set[1]=(temp[""+c+""]||1)-1;"";break;case""%y"":l+=""set[0]=temp[""+c+""]*1+(temp[""+c+""]>50?1900:2000);"";break;case""%g"":case""%G"":case""%h"":case""%H"":l+=""set[3]=temp[""+c+""]||0;"";break;case""%i"":l+=""set[4]=temp[""+c+""]||0;"";break;case""%Y"":l+=""set[0]=temp[""+c+""]||0;"";break;case""%a"":case""%A"":l+=""set[3]=set[3]%12+((temp[""+c+""]||'').toLowerCase()=='am'?0:12);"";break;case""%s"":l+=""set[5]=temp[""+c+""]||0;"";break}}var g=""set[0],set[1],set[2],set[3],set[4],set[5]"";if(e){g="" Date.UTC(""+g+"")""}return new Function(""date"",""var set=[0,0,1,0,0,0]; ""+l+"" return new Date(""+g+"");"")},getISOWeek:function(e){if(!e){return false}var c=e.getDay();if(c===0){c=7}var g=new Date(e.valueOf());g.setDate(e.getDate()+(4-c));var a=g.getFullYear();var l=Math.floor((g.getTime()-new Date(a,0,1).getTime())/86400000);var h=1+Math.floor(l/7);return h},getUTCISOWeek:function(a){return this.getISOWeek(a)}};dhtmlx.math={};dhtmlx.math._toHex=[""0"",""1"",""2"",""3"",""4"",""5"",""6"",""7"",""8"",""9"",""A"",""B"",""C"",""D"",""E"",""F""];dhtmlx.math.toHex=function(c,a){c=parseInt(c,10);str="""";while(c>0){str=this._toHex[c%16]+str;c=Math.floor(c/16)}while(str.length<a){str=""0""+str}return str};dhtmlx.math.hexToDec=function(a){return parseInt(a,16)};dhtmlx.math.toRgb=function(c){var h,e,a,l;if(typeof(c)!=""string""){h=c[0];e=c[1];a=c[2]}else{if(c.indexOf(""rgb"")!=-1){l=c.substr(c.indexOf(""("")+1,c.lastIndexOf("")"")-c.indexOf(""("")-1).split("","");h=l[0];e=l[1];a=l[2]}else{if(c.substr(0,1)==""#""){c=c.substr(1)}h=this.hexToDec(c.substr(0,2));e=this.hexToDec(c.substr(2,2));a=this.hexToDec(c.substr(4,2))}}h=(parseInt(h,10)||0);e=(parseInt(e,10)||0);a=(parseInt(a,10)||0);if(h<0||h>255){h=0}if(e<0||e>255){e=0}if(a<0||a>255){a=0}return[h,e,a]};dhtmlx.math.hsvToRgb=function(m,y,w){var l,o,e,c,x,a,n,u;l=Math.floor((m/60))%6;o=m/60-l;e=w*(1-y);c=w*(1-o*y);x=w*(1-(1-o)*y);a=0;n=0;u=0;switch(l){case 0:a=w;n=x;u=e;break;case 1:a=c;n=w;u=e;break;case 2:a=e;n=w;u=x;break;case 3:a=e;n=c;u=w;break;case 4:a=x;n=e;u=w;break;case 5:a=w;n=e;u=c;break}a=Math.floor(a*255);n=Math.floor(n*255);u=Math.floor(u*255);return[a,n,u]};dhtmlx.math.rgbToHsv=function(c,n,o){var l,e,q,a,u,x,m,w;l=c/255;e=n/255;q=o/255;var a=Math.min(l,e,q);var u=Math.max(l,e,q);m=0;x=u==0?0:(1-a/u);w=u;if(u==a){m=0}else{if(u==l&&e>=q){m=60*(e-q)/(u-a)+0}else{if(u==l&&e<q){m=60*(e-q)/(u-a)+360}else{if(u==e){m=60*(q-l)/(u-a)+120}else{if(u==q){m=60*(l-e)/(u-a)+240}}}}}return[m,x,w]};if(!dhtmlx.presets){dhtmlx.presets={}}dhtmlx.presets.chart={simple:{item:{borderColor:""#ffffff"",color:""#2b7100"",shadow:false,borderWidth:2},line:{color:""#8ecf03"",width:2}},plot:{color:""#1293f8"",item:{borderColor:""#636363"",borderWidth:1,color:""#ffffff"",type:""r"",shadow:false},line:{color:""#1293f8"",width:2}},diamond:{color:""#b64040"",item:{borderColor:""#b64040"",color:""#b64040"",type:""d"",radius:3,shadow:true},line:{color:""#ff9000"",width:2}},point:{color:""#fe5916"",disableLines:true,fill:false,disableItems:false,item:{color:""#feb916"",borderColor:""#fe5916"",radius:2,borderWidth:1,type:""r""},alpha:1},line:{line:{color:""#3399ff"",width:2},item:{color:""#ffffff"",borderColor:""#3399ff"",radius:2,borderWidth:2,type:""d""},fill:false,disableItems:false,disableLines:false,alpha:1},area:{fill:""#3399ff"",line:{color:""#3399ff"",width:1},disableItems:true,alpha:0.2,disableLines:false},round:{item:{radius:3,borderColor:""#3f83ff"",borderWidth:1,color:""#3f83ff"",type:""r"",shadow:false,alpha:0.6}},square:{item:{radius:3,borderColor:""#447900"",borderWidth:2,color:""#69ba00"",type:""s"",shadow:false,alpha:1}},column:{color:""RAINBOW"",gradient:false,width:45,radius:0,alpha:1,border:true},stick:{width:5,gradient:false,color:""#67b5c9"",radius:2,alpha:1,border:false},alpha:{color:""#b9a8f9"",width:70,gradient:""falling"",radius:0,alpha:0.5,border:true}};dhtmlx.ui.Map=function(a){this.name=""Map"";this._id=""map_""+dhtmlx.uid();this._key=a;this._map=[]};dhtmlx.ui.Map.prototype={addRect:function(e,c,a){this._createMapArea(e,""RECT"",c,a)},addPoly:function(e,c,a){this._createMapArea(e,""POLY"",c,a)},_createMapArea:function(h,c,g,e){var a="""";if(arguments.length==4){a=""userdata='""+e+""'""}this._map.push(""<area ""+this._key+""='""+h+""' shape='""+c+""' coords='""+g.join()+""' ""+a+""></area>"")},addSector:function(a,q,o,m,h,e,g,l){var n=[];n.push(m);n.push(Math.floor(h*g));for(var c=q;c<o;c+=Math.PI/18){n.push(Math.floor(m+e*Math.cos(c)));n.push(Math.floor((h+e*Math.sin(c))*g))}n.push(Math.floor(m+e*Math.cos(o)));n.push(Math.floor((h+e*Math.sin(o))*g));n.push(m);n.push(Math.floor(h*g));return this.addPoly(a,n,l)},render:function(a){var e=dhtmlx.html.create(""DIV"");e.style.cssText=""position:absolute; width:100%; height:100%; top:0px; left:0px;"";a.appendChild(e);var c=dhtmlx._isIE?"""":""src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='"";e.innerHTML=""<map id='""+this._id+""' name='""+this._id+""'>""+this._map.join(""\n"")+""</map><img ""+c+"" class='dhx_map_img' usemap='#""+this._id+""' onmousedown='return false;'>"";a._htmlmap=e;this._map=[]}};dhtmlx.chart={};dhtmlx.chart.scatter={pvt_render_scatter:function(q,l,o,n,m,a){if(!this._settings.xValue){return dhtmlx.log(""warning"",""Undefined propery: xValue"")}var e=this._getLimits();var h=this._getLimits(""h"",""xValue"");if(!m){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj,""axis_x"")}if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj,""axis_y"")}this._drawYAxis(this.canvases.y.getCanvas(),l,o,n,e.min,e.max);this._drawHXAxis(this.canvases.x.getCanvas(),l,o,n,h.min,h.max)}e={min:this._settings.yAxis.start,max:this._settings.yAxis.end};h={min:this._settings.xAxis.start,max:this._settings.xAxis.end};var c=this._getScatterParams(q,l,o,n,h,e);this._mapStart=o;for(var g=0;g<l.length;g++){this._drawScatterItem(q,a,o,n,c,h,e,l[g],m)}},_getScatterParams:function(a,g,e,c,m,l){var h={};h.totalHeight=c.y-e.y;h.totalWidth=c.x-e.x;this._calcScatterUnit(h,m.min,m.max,h.totalWidth,""X"");this._calcScatterUnit(h,l.min,l.max,h.totalHeight,""Y"");return h},_drawScatterItem:function(r,a,o,n,e,h,g,l,m){var c=this._calculateScatterItemPosition(e,n,o,h,l,""X"");var q=this._calculateScatterItemPosition(e,o,n,g,l,""Y"");this._drawItem(r,c,q,l,this._settings.label.call(this,l),m,a)},_calculateScatterItemPosition:function(e,n,m,a,h,c){var q=this._settings[c==""X""?""xValue"":""value""].call(this,h);var g=e[""valueFactor""+c];var r=(parseFloat(q||0)-a.min)*g;var o=e[""unit""+c];var l=m[c.toLowerCase()]-(c==""X""?(-1):1)*Math.floor(o*r);if(r<0){l=m[c.toLowerCase()]}if(q>a.max){l=n[c.toLowerCase()]}if(q<a.min){l=m[c.toLowerCase()]}return l},_calcScatterUnit:function(l,e,a,c,g){var h=this._getRelativeValue(e,a);g=(g||"""");l[""relValue""+g]=h[0];l[""valueFactor""+g]=h[1];l[""unit""+g]=(l[""relValue""+g]?c/l[""relValue""+g]:10)}};dhtmlx.chart.radar={pvt_render_radar:function(c,g,a,l,e,h){this._renderRadarChart(c,g,a,l,e,h)},_renderRadarChart:function(u,h,r,q,o,a){if(!h.length){return}var m=this._getPieParameters(r,q);var n=(this._settings.radius?this._settings.radius:m.radius);var c=(this._settings.x?this._settings.x:m.x);var s=(this._settings.y?this._settings.y:m.y);var e=[];for(var g=0;g<h.length;g++){e.push(1)}var l=this._getRatios(e,h.length);this._mapStart=r;if(!o){this._drawRadarAxises(l,c,s,n,h)}this._drawRadarData(u,l,c,s,n,h,o,a)},_drawRadarData:function(C,s,n,m,h,N,D,M){var A,v,L,J,E,I,g,e,F,K,H,u,c,w,q,o,a,r,l;L=this._settings;E=L.yAxis.start;I=L.yAxis.end;l=this._getRelativeValue(E,I);u=l[0];r=(u?h/u:h/2);a=l[1];c=-Math.PI/2;A=v=c;F=[];e=0;for(J=0;J<N.length;J++){if(!o){w=L.value(N[J]);q=(parseFloat(w||0)-E)*a}else{q=o}K=Math.floor(r*q);w=L.value((J!=(N.length-1))?N[J+1]:N[0]);o=(parseFloat(w||0)-E)*a;H=Math.floor(r*o);A=v;v=((J!=(N.length-1))?(c+s[J]-0.0001):c);g=(e||this._getPositionByAngle(A,n,m,K));e=this._getPositionByAngle(v,n,m,H);F.push(g)}if(L.fill){this._fillRadarChart(C,F,N)}if(!L.disableLines){this._strokeRadarChart(C,F,N)}if(!L.disableItems){this._drawRadarItemMarkers(C,F,N,D,M)}F=null},_drawRadarItemMarkers:function(a,e,h,g,l){for(var c=0;c<e.length;c++){this._drawItem(a,e[c].x,e[c].y,h[c],this._settings.label.call(this,h),g,l)}},_fillRadarChart:function(a,g,l){var h,e;a.globalAlpha=this._settings.alpha.call(this,{});a.beginPath();for(var c=0;c<g.length;c++){a.fillStyle=this._settings.fill.call(this,l[c]);h=g[c];e=(g[c+1]||g[0]);if(!c){a.moveTo(h.x,h.y)}a.lineTo(e.x,e.y)}a.fill();a.globalAlpha=1},_strokeRadarChart:function(a,g,l){var h,e;for(var c=0;c<g.length;c++){h=g[c];e=(g[c+1]||g[0]);this._drawLine(a,h.x,h.y,e.x,e.y,this._settings.line.color.call(this,l[c]),this._settings.line.width)}},_drawRadarAxises:function(A,v,u,m,O){var a=this._settings.yAxis;var g=this._settings.xAxis;var n=a.start;var l=a.end;var q=a.step;var C={};var N=this._configYAxis;if(typeof N.step==""undefined""||typeof N.start==""undefined""||typeof N.end==""undefined""){var r=this._getLimits();C=this._calculateScale(r.min,r.max);n=C.start;l=C.end;q=C.step;a.end=l;a.start=n}var I=[];var L,K,D;var M=0;var e=m*q/(l-n);var s,w;if(q<1){s=Math.min(this._log10(q),(n<=0?0:this._log10(n)));w=Math.pow(10,-s)}var J=[];if(!this.canvases.scale){this.canvases.scale=new dhtmlx.ui.Canvas(this._obj,""radar_scale"")}var H=this.canvases.scale.getCanvas();for(L=l;L>=n;L-=q){if(C.fixNum){L=parseFloat((new Number(L)).toFixed(C.fixNum))}I.push(Math.floor(M*e)+0.5);if(w){L=Math.round(L*w)/w}var o=u-m+I[I.length-1];this.canvases.scale.renderTextAt(""middle"",""left"",v,o,a.template(L.toString()),""dhx_axis_item_y dhx_radar"");if(A.length<2){this._drawScaleSector(H,""arc"",v,u,m-I[I.length-1],-Math.PI/2,3*Math.PI/2,L);return}var h=-Math.PI/2;var F=h;var E;for(K=0;K<A.length;K++){if(L==l){J.push(F)}E=h+A[K]-0.0001;this._drawScaleSector(H,(N.lineShape||""line""),v,u,m-I[I.length-1],F,E,L,K,O[L]);F=E}M++}for(L=0;L<J.length;L++){D=this._getPositionByAngle(J[L],v,u,m);if(g.lines.call(this,O[L],L)){this._drawLine(H,v,u,D.x,D.y,(g?g.lineColor.call(this,O[L]):""#cfcfcf""),1)}this._drawRadarScaleLabel(H,v,u,m,J[L],(g?g.template.call(this,O[L]):""&nbsp;""))}},_drawScaleSector:function(s,l,r,o,h,c,a,g,e){var q,n;if(h<0){return false}q=this._getPositionByAngle(c,r,o,h);n=this._getPositionByAngle(a,r,o,h);var m=this._settings.yAxis;if(m.bg){s.beginPath();s.moveTo(r,o);if(l==""arc""){s.arc(r,o,h,c,a,false)}else{s.lineTo(q.x,q.y);s.lineTo(n.x,n.y)}s.fillStyle=m.bg(g,e);s.moveTo(r,o);s.fill();s.closePath()}if(m.lines.call(this,g)){s.lineWidth=1;s.beginPath();if(l==""arc""){s.arc(r,o,h,c,a,false)}else{s.moveTo(q.x,q.y);s.lineTo(n.x,n.y)}s.strokeStyle=m.lineColor.call(this,g);s.stroke()}},_drawRadarScaleLabel:function(w,o,m,c,n,u){var v=this.canvases.scale.renderText(0,0,u,""dhx_axis_radar_title"",1);var e=v.scrollWidth;var s=v.offsetHeight;var q=0.001;var l=this._getPositionByAngle(n,o,m,c+5);var h=0,g=0;if(n<0||n>Math.PI){g=-s}if(n>Math.PI/2){h=-e}if(Math.abs(n+Math.PI/2)<q||Math.abs(n-Math.PI/2)<q){h=-e/2}else{if(Math.abs(n)<q||Math.abs(n-Math.PI)<q){g=-s/2}}v.style.top=l.y+g+""px"";v.style.left=l.x+h+""px"";v.style.width=e+""px"";v.style.whiteSpace=""nowrap""}};dhtmlx.chart.area={pvt_render_area:function(n,E,h,g,o,A){var r,y,s,q,l,x,m,D,C,w,v,c,u,a,e;x=this._calculateLineParams(n,E,h,g,o);y=this._settings;q=(y.eventRadius||Math.floor(x.cellWidth/2));if(E.length){m=[];w=(!y.offset?h.x:h.x+x.cellWidth*0.5);for(s=0;s<E.length;s++){l=E[s];C=this._getPointY(l,h,g,x);u=w+x.cellWidth*s;if(C){a=(typeof C==""object""?C.y0:C);if(s&&this._settings.fixOverflow){D=this._getPointY(E[s-1],h,g,x);if(D.out&&D.out==C.out){continue}v=x.cellWidth*(s-1)-0.5+w;c=(typeof D==""object""?D.y0:D);if(D.out){e=(D.out==""min""?g.y:h.y);m.push([this._calcOverflowX(v,u,c,a,e),e])}if(C.out){e=(C.out==""min""?g.y:h.y);m.push([this._calcOverflowX(v,u,c,a,e),e]);if(s==(E.length-1)&&e==h.y){m.push([u,h.y])}}}if(!C.out){m.push([u,a]);A.addRect(l.id,[u-q-h.x,a-q-h.y,u+q-h.x,a+q-h.y],o)}if(!y.yAxis){r=(!y.offset&&(s==E.length-1)?""left"":""center"");this.canvases[o].renderTextAt(false,r,u,a-y.labelOffset,y.label(l))}}}if(m.length){m.push([u,g.y]);m.push([m[0][0],g.y])}n.globalAlpha=this._settings.alpha.call(this,E[0]);n.fillStyle=this._settings.color.call(this,E[0]);n.beginPath();this._path(n,m);n.fill();if(y.border){n.lineWidth=y.borderWidth||1;if(y.borderColor){n.strokeStyle=y.borderColor.call(this,E[0])}else{this._setBorderStyles(n,n.fillStyle)}n.beginPath();this._path(n,m);n.stroke()}n.lineWidth=1;n.globalAlpha=1}}};dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(o,F,c,a,q,D){var I,H,u,C,w,v,h,s,l,A,n,g,e,m;A=this._calculateLineParams(o,F,c,a,q);C=this._settings;s=(C.eventRadius||Math.floor(A.cellWidth/2));if(F.length){n=[];m=[];g=(!C.offset?c.x:c.x+A.cellWidth*0.5);var E=function(x,J){return q?(F[x].$startY?J-a.y+F[x].$startY:0):J};var r=function(y,L,K){var J=(K.y-L.y)/(K.x-L.x);return J*y+L.y-J*L.x};for(w=0;w<F.length;w++){l=F[w];if(!w){e=E(w,a.y);n.push([g,e])}else{g+=A.cellWidth}e=E(w,this._getPointY(l,c,a,A));m.push((isNaN(e)&&!w)?(F[w].$startY||a.y):e);if(e){n.push([g,e]);D.addRect(l.id,[g-s-c.x,e-s-c.y,g+s-c.x,e+s-c.y],q);if(!C.yAxis){u=(!C.offset&&h?""left"":""center"");this.canvases[q].renderTextAt(false,u,g,e-C.labelOffset,C.label(l))}}}n.push([g,E(w-1,a.y)]);if(q){for(w=F.length-2;w>0;w--){g-=A.cellWidth;e=F[w].$startY;if(e){n.push([g,e])}}}n.push([n[0][0],n[0][1]]);o.globalAlpha=this._settings.alpha.call(this,F[0]);o.fillStyle=this._settings.color.call(this,F[0]);o.beginPath();this._path(o,n);o.fill();for(w=0;w<F.length;w++){e=m[w];if(!e){if(w==F.length-1){e=F[w].$startY}for(v=w+1;v<F.length;v++){if(m[v]){I={x:c.x,y:m[0]};H={x:(c.x+A.cellWidth*v),y:m[v]};e=r(c.x+A.cellWidth*w,I,H);break}}}F[w].$startY=e}}}};dhtmlx.chart.spline={pvt_render_spline:function(o,H,g,e,q,F){var E,s,n,r,D,m,l,w,v,u,h,c,a;D=this._calculateLineParams(o,H,g,e,q);E=this._settings;this._mapStart=g;n=[];if(H.length){w=(E.offset?g.x+D.cellWidth*0.5:g.x);for(s=0;s<H.length;s++){h=this._getPointY(H[s],g,e,D);if(h){l=((!s)?w:D.cellWidth*s-0.5+w);n.push({x:l,y:h,index:s})}}m=this._getSplineParameters(n);for(s=0;s<n.length;s++){v=n[s].x;c=n[s].y;if(s<n.length-1){u=n[s+1].x;a=n[s+1].y;for(r=v;r<u;r++){var C=this._getSplineYPoint(r,v,s,m.a,m.b,m.c,m.d);if(C<g.y){C=g.y}if(C>e.y){C=e.y}var A=this._getSplineYPoint(r+1,v,s,m.a,m.b,m.c,m.d);if(A<g.y){A=g.y}if(A>e.y){A=e.y}this._drawLine(o,r,C,r+1,A,E.line.color(H[s]),E.line.width)}this._drawLine(o,u-1,this._getSplineYPoint(r,v,s,m.a,m.b,m.c,m.d),u,a,E.line.color(H[s]),E.line.width)}this._drawItem(o,v,c,H[n[s].index],E.label(H[n[s].index]),q,F)}}},_getSplineParameters:function(y){var l,C,A,D,x,w,r,q,o=[],g=[],e=y.length;for(l=0;l<e-1;l++){o[l]=y[l+1].x-y[l].x;g[l]=(y[l+1].y-y[l].y)/o[l]}C=[];A=[];C[0]=0;C[1]=2*(o[0]+o[1]);A[0]=0;A[1]=6*(g[1]-g[0]);for(l=2;l<e-1;l++){C[l]=2*(o[l-1]+o[l])-o[l-1]*o[l-1]/C[l-1];A[l]=6*(g[l]-g[l-1])-o[l-1]*A[l-1]/C[l-1]}D=[];D[e-1]=D[0]=0;for(l=e-2;l>=1;l--){D[l]=(A[l]-o[l]*D[l+1])/C[l]}x=[];w=[];r=[];q=[];for(l=0;l<e-1;l++){x[l]=y[l].y;w[l]=-o[l]*D[l+1]/6-o[l]*D[l]/3+(y[l+1].y-y[l].y)/o[l];r[l]=D[l]/2;q[l]=(D[l+1]-D[l])/(6*o[l])}return{a:x,b:w,c:r,d:q}},_getSplineYPoint:function(g,l,m,h,e,o,n){return h[m]+(g-l)*(e[m]+(g-l)*(o[m]+(g-l)*n[m]))}};dhtmlx.chart.barH={pvt_render_barH:function(y,M,l,h,A,L){var q,s,D,C,a,F,n,J,u,K,c,w,m,H,v,g,x,r,I,e,o;D=(h.y-l.y)/M.length;n=this._getLimits(""h"");J=n.max;u=n.min;g=h.x-l.x;o=!!this._settings.yAxis;if(!A){this._drawHScales(y,M,l,h,u,J,D)}if(o){J=parseFloat(this._settings.xAxis.end);u=parseFloat(this._settings.xAxis.start)}H=this._getRelativeValue(u,J);w=H[0];c=H[1];r=(w?g/w:10);if(!o){v=10;r=(w?(g-v)/w:10)}s=parseInt(this._settings.width,10);if((s*this._series.length+4)>D){s=D/this._series.length-4}q=Math.floor((D-s*this._series.length)/2);m=(typeof this._settings.radius!=""undefined""?parseInt(this._settings.radius,10):Math.round(s/5));K=false;a=this._settings.gradient;if(a&&typeof(a)!=""function""){K=a;a=false}else{if(a){a=y.createLinearGradient(l.x,l.y,h.x,l.y);this._settings.gradient(a)}}if(!o){this._drawLine(y,l.x-0.5,l.y,l.x-0.5,h.y,""#000000"",1)}for(F=0;F<M.length;F++){x=parseFloat(this._settings.value(M[F]||0));if(x>J){x=J}x-=u;x*=c;I=l.x;e=l.y+q+F*D+(s+1)*A;if((x<0&&this._settings.origin==""auto"")||(this._settings.xAxis&&x===0&&!(this._settings.origin!=""auto""&&this._settings.origin>u))){this.canvases[A].renderTextAt(""middle"",""right"",I+10,e+s/2+q,this._settings.label(M[F]));continue}if(x<0&&this._settings.origin!=""auto""&&this._settings.origin>u){x=0}if(!o){x+=v/r}C=a||this._settings.color.call(this,M[F]);if(this._settings.border){this._drawBarHBorder(y,I,e,s,u,m,r,x,C)}y.globalAlpha=this._settings.alpha.call(this,M[F]);var E=this._drawBarH(y,h,I,e,s,u,m,r,x,C,a,K);if(K!=false){this._drawBarHGradient(y,I,e,s,u,m,r,x,C,K)}y.globalAlpha=1;if(E[3]==e){this.canvases[A].renderTextAt(""middle"",""left"",E[0]-5,E[3]+Math.floor(s/2),this._settings.label(M[F]));L.addRect(M[F].id,[E[0]-l.x,E[3]-l.y,E[2]-l.x,E[3]+s-l.y],A)}else{this.canvases[A].renderTextAt(""middle"",false,E[2]+5,E[1]+Math.floor(s/2),this._settings.label(M[F]));L.addRect(M[F].id,[E[0]-l.x,e-l.y,E[2]-l.x,E[3]-l.y],A)}}},_setBarHPoints:function(w,g,u,x,m,v,s,l,h){var c=0;if(m>v*s){var r=(m-v*s)/m;c=-Math.asin(r)+Math.PI/2}w.moveTo(g,u+l);var e=g+v*s-m-(m?0:l);if(m<v*s){w.lineTo(e,u+l)}var q=u+m;if(m&&m>0){w.arc(e,q,m-l,-Math.PI/2+c,0,false)}var o=u+x-m-(m?0:l);var a=e+m-(m?l:0);w.lineTo(a,o);if(m&&m>0){w.arc(e,o,m-l,0,Math.PI/2-c,false)}var n=u+x-l;w.lineTo(g,n);if(!h){w.lineTo(g,u+l)}return[a,n]},_drawHScales:function(e,m,l,h,n,c,g){var a=0;if(this._settings.xAxis){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj)}a=this._drawHXAxis(this.canvases.x.getCanvas(),m,l,h,n,c)}if(this._settings.yAxis){if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj)}this._drawHYAxis(this.canvases.y.getCanvas(),m,l,h,g,a)}},_drawHYAxis:function(s,h,o,m,e,a){if(!this._settings.yAxis){return}var l;var c=parseInt((a?a:o.x),10)-0.5;var q=m.y+0.5;var n=o.y;this._drawLine(s,c,q,c,n,this._settings.yAxis.color,1);for(var g=0;g<h.length;g++){var r=((this._settings.origin!=""auto"")&&(this._settings.view==""barH"")&&(parseFloat(this._settings.value(h[g]))<this._settings.origin));l=n+e/2+g*e;this.canvases.y.renderTextAt(""middle"",(r?false:""left""),(r?c+5:c-5),l,this._settings.yAxis.template(h[g]),""dhx_axis_item_y"",(r?0:c-10));if(this._settings.yAxis.lines.call(this,h[g])){this._drawLine(s,o.x,l,m.x,l,this._settings.yAxis.lineColor.call(this,h[g]),1)}}this._drawLine(s,o.x+0.5,n+0.5,m.x,n+0.5,this._settings.yAxis.lineColor.call(this,{}),1);this._setYAxisTitle(o,m)},_drawHXAxis:function(A,s,x,w,e,o){var m;var h={};var n=this._settings.xAxis;if(!n){return}var y=w.y+0.5;var g=x.x-0.5;var a=w.x-0.5;var r=x.x;this._drawLine(A,g,y,a,y,n.color,1);if(n.step){m=parseFloat(n.step)}if(typeof this._configXAxis.step==""undefined""||typeof this._configXAxis.start==""undefined""||typeof this._configXAxis.end==""undefined""){h=this._calculateScale(e,o);e=h.start;o=h.end;m=h.step;this._settings.xAxis.end=o;this._settings.xAxis.start=e;this._settings.xAxis.step=m}if(m===0){return}var l=(a-g)*m/(o-e);var v=0;for(var q=e;q<=o;q+=m){if(h.fixNum){q=parseFloat((new Number(q)).toFixed(h.fixNum))}var u=Math.floor(g+v*l)+0.5;if(!(q==e&&this._settings.origin==""auto"")&&n.lines.call(this,q)){this._drawLine(A,u,y,u,x.y,this._settings.xAxis.lineColor.call(this,q),1)}if(q==this._settings.origin){r=u+1}this.canvases.x.renderTextAt(false,true,u,y+2,n.template(q.toString()),""dhx_axis_item_x"");v++}this.canvases.x.renderTextAt(true,false,g,w.y+this._settings.padding.bottom-3,this._settings.xAxis.title,""dhx_axis_title_x"",w.x-x.x);if(!n.lines.call(this,{})){this._drawLine(A,g,x.y-0.5,a,x.y-0.5,this._settings.xAxis.color,0.2)}return r},_correctBarHParams:function(n,h,e,l,m,o,g){var a=this._settings.yAxis;var c=h;if(!!a&&this._settings.origin!=""auto""&&(this._settings.origin>g)){h+=(this._settings.origin-g)*m;c=h;l=l-(this._settings.origin-g);if(l<0){l*=(-1);n.translate(h,e+o);n.rotate(Math.PI);h=0.5;e=0}h+=0.5}return{value:l,x0:h,y0:e,start:c}},_drawBarH:function(u,h,A,g,o,q,l,n,s,v,a,m){u.save();var r=this._correctBarHParams(u,A,g,s,n,o,q);u.fillStyle=v;u.beginPath();var w=this._setBarHPoints(u,r.x0,r.y0,o,l,n,r.value,(this._settings.border?1:0));if(a&&!m){u.lineTo(h.x,r.y0+(this._settings.border?1:0))}u.fill();u.restore();var e=r.y0;var c=(r.y0!=g?g:w[1]);var y=(r.y0!=g?(r.start-w[0]):r.start);var x=(r.y0!=g?r.start:w[0]);return[y,e,x,c]},_drawBarHBorder:function(o,c,m,q,h,g,n,l,e){o.save();var a=this._correctBarHParams(o,c,m,l,n,q,h);o.beginPath();this._setBorderStyles(o,e);o.globalAlpha=0.9;this._setBarHPoints(o,a.x0,a.y0,q,g,n,a.value,o.lineWidth/2,1);o.stroke();o.restore()},_drawBarHGradient:function(r,e,o,s,m,l,q,n,g,a){r.save();var c=this._correctBarHParams(r,e,o,n,q,s,m);var h=this._setBarGradient(r,c.x0,c.y0+s,c.x0+q*c.value,c.y0,a,g,""x"");r.fillStyle=h.gradient;r.beginPath();this._setBarHPoints(r,c.x0,c.y0+h.offset,s-h.offset*2,l,q,c.value,h.offset);r.fill();r.globalAlpha=1;r.restore()}};dhtmlx.assert(dhtmlx.chart.barH);dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(C,P,h,g,D,O){var N,v;var c;var w;var y=g.x-h.x;var n=!!this._settings.yAxis;var m=this._getStackedLimits(P);N=m.max;v=m.min;var F=Math.floor((g.y-h.y)/P.length);if(!D){this._drawHScales(C,P,h,g,v,N,F)}if(n){N=parseFloat(this._settings.xAxis.end);v=parseFloat(this._settings.xAxis.start)}var K=this._getRelativeValue(v,N);w=K[0];c=K[1];var s=(w?y/w:10);if(!n){var x=10;s=(w?(y-x)/w:10)}var u=parseInt(this._settings.width,10);if((u+4)>F){u=F-4}var o=(F-u)/2;var l=0;var q=false;var a=this._settings.gradient;if(a){q=true}if(!n){this._drawLine(C,h.x-0.5,h.y,h.x-0.5,g.y,""#000000"",1)}var M=0;var J=0;for(I=0;I<this._series.length;I++){if(I==D){J=M}if(this._series[I].view==""stackedBarH""){M++}}for(var I=0;I<P.length;I++){if(!J){P[I].$startX=h.x}var A=parseFloat(this._settings.value(P[I]||0));if(A>N){A=N}A-=v;A*=c;var L=h.x;var e=h.y+o+I*F;if(!J){P[I].$startX=L}else{L=P[I].$startX}if(A<0||(this._settings.yAxis&&A===0)){this.canvases.y.renderTextAt(""middle"",true,L+10,e+u/2,this._settings.label(P[I]));continue}if(!n){A+=x/s}var E=this._settings.color.call(this,P[I]);C.globalAlpha=this._settings.alpha.call(this,P[I]);C.fillStyle=this._settings.color.call(this,P[I]);C.beginPath();var H=this._setBarHPoints(C,L,e,u,l,s,A,(this._settings.border?1:0));if(a&&!q){C.lineTo(h.x+y,e+(this._settings.border?1:0))}C.fill();if(q!=false){var r=this._setBarGradient(C,L,e+u,L,e,q,E,""x"");C.fillStyle=r.gradient;C.beginPath();H=this._setBarHPoints(C,L,e,u,l,s,A,0);C.fill()}if(this._settings.border){this._drawBarHBorder(C,L,e,u,v,l,s,A,E)}C.globalAlpha=1;this.canvases[D].renderTextAt(""middle"",true,P[I].$startX+(H[0]-P[I].$startX)/2-1,e+(H[1]-e)/2,this._settings.label(P[I]));O.addRect(P[I].id,[P[I].$startX-h.x,e-h.y,H[0]-h.x,H[1]-h.y],D);P[I].$startX=H[0]}}};dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(x,L,g,e,y,K){var I,s;var a;var u;var v=e.y-g.y;var l=!!this._settings.yAxis;var J=!!this._settings.xAxis;var h=this._getStackedLimits(L);I=h.max;s=h.min;var C=Math.floor((e.x-g.x)/L.length);if(!y){this._drawScales(L,g,e,s,I,C)}if(l){I=parseFloat(this._settings.yAxis.end);s=parseFloat(this._settings.yAxis.start)}var F=this._getRelativeValue(s,I);u=F[0];a=F[1];var q=(u?v/u:10);var r=parseInt(this._settings.width,10);if(r+4>C){r=C-4}var m=Math.floor((C-r)/2);var n=(this._settings.gradient?this._settings.gradient:false);if(!J){this._drawLine(x,g.x,e.y+0.5,e.x,e.y+0.5,""#000000"",1)}for(var E=0;E<L.length;E++){var w=parseFloat(this._settings.value(L[E]||0));if(!w){if(!y||!L[E].$startY){L[E].$startY=e.y}continue}if(!y){w-=s}w*=a;var H=g.x+m+E*C;var c=e.y;if(!y){L[E].$startY=c}else{c=L[E].$startY}if(c<(g.y+1)){continue}if(w<0||(this._settings.yAxis&&w===0)){this.canvases.y.renderTextAt(true,true,H+Math.floor(r/2),c,this._settings.label(L[E]));continue}var A=this._settings.color.call(this,L[E]);x.globalAlpha=this._settings.alpha.call(this,L[E]);x.fillStyle=this._settings.color.call(this,L[E]);x.beginPath();var D=this._setStakedBarPoints(x,H-(this._settings.border?0.5:0),c,r+(this._settings.border?0.5:0),q,w,0,g.y);x.fill();if(n){x.save();var o=this._setBarGradient(x,H,c,H+r,D[1],n,A,""y"");x.fillStyle=o.gradient;x.beginPath();D=this._setStakedBarPoints(x,H+o.offset,c,r-o.offset*2,q,w,(this._settings.border?1:0),g.y);x.fill();x.restore()}if(this._settings.border){x.save();this._setBorderStyles(x,A);x.beginPath();this._setStakedBarPoints(x,H-0.5,c,r+1,q,w,0,g.y,1);x.stroke();x.restore()}x.globalAlpha=1;this.canvases[y].renderTextAt(false,true,H+Math.floor(r/2),(D[1]+(c-D[1])/2)-7,this._settings.label(L[E]));K.addRect(L[E].id,[H-g.x,D[1]-g.y,D[0]-g.x,(L[E].$startY||c)-g.y],y);L[E].$startY=(this._settings.border?(D[1]+1):D[1])}},_setStakedBarPoints:function(s,c,o,u,q,n,g,e,h){s.moveTo(c,o);var m=o-q*n+g;if(m<e){m=e}s.lineTo(c,m);var a=c+u;var l=m;s.lineTo(a,l);var r=c+u;s.lineTo(r,o);if(!h){s.lineTo(c,o)}return[r,l-2*g]}};dhtmlx.chart.line={pvt_render_line:function(m,A,h,g,n,x){var w,o,l,u,s,r,q,c,a,e,y,v;u=this._calculateLineParams(m,A,h,g,n);w=this._settings;if(A.length){s=(w.offset?h.x+u.cellWidth*0.5:h.x);l=[];for(o=0;o<A.length;o++){v=this._getPointY(A[o],h,g,u);if(v){q=((!o)?s:u.cellWidth*o-0.5+s);a=(typeof v==""object""?v.y0:v);if(o&&this._settings.fixOverflow){y=this._getPointY(A[o-1],h,g,u);if(y.out&&y.out==v.out){continue}r=u.cellWidth*(o-1)-0.5+s;c=(typeof y==""object""?y.y0:y);if(y.out){e=(y.out==""min""?g.y:h.y);l.push({x:this._calcOverflowX(r,q,c,a,e),y:e})}if(v.out){e=(v.out==""min""?g.y:h.y);l.push({x:this._calcOverflowX(r,q,c,a,e),y:e})}}if(!v.out){l.push({x:q,y:v,index:o})}}}this._mapStart=h;for(o=1;o<=l.length;o++){r=l[o-1].x;c=l[o-1].y;if(o<l.length){q=l[o].x;a=l[o].y;this._drawLine(m,r,c,q,a,w.line.color.call(this,A[o-1]),w.line.width);if(w.line&&w.line.shadow){m.globalAlpha=0.3;this._drawLine(m,r+2,c+w.line.width+8,q+2,a+w.line.width+8,""#eeeeee"",w.line.width+3);m.globalAlpha=1}}if(typeof l[o-1].index!=""undefined""){this._drawItem(m,r,c,A[l[o-1].index],w.label(A[l[o-1].index]),n,x,h)}}}},_calcOverflowX:function(c,a,g,e,h){return c+(h-g)*(a-c)/(e-g)},_drawItem:function(u,e,s,o,r,q,c){var g=this._settings.item;var n=parseInt(g.radius.call(this,o),10)||0;var m=this._mapStart;if(n){u.save();if(g.shadow){u.lineWidth=1;u.strokeStyle=""#bdbdbd"";u.fillStyle=""#bdbdbd"";var a=[0.1,0.2,0.3];for(var l=(a.length-1);l>=0;l--){u.globalAlpha=a[l];u.strokeStyle=""#d0d0d0"";u.beginPath();this._strokeChartItem(u,e,s+2*n/3,n+l+1,g.type);u.stroke()}u.beginPath();u.globalAlpha=0.3;u.fillStyle=""#bdbdbd"";this._strokeChartItem(u,e,s+2*n/3,n+1,g.type);u.fill()}u.restore();u.lineWidth=g.borderWidth;u.fillStyle=g.color.call(this,o);u.strokeStyle=g.borderColor.call(this,o);u.globalAlpha=g.alpha.call(this,o);u.beginPath();this._strokeChartItem(u,e,s,n+1,g.type);u.fill();u.stroke();u.globalAlpha=1}if(r){this.canvases[q].renderTextAt(false,true,e,s-n-this._settings.labelOffset,this._settings.label.call(this,o))}var h=(this._settings.eventRadius||n+1);c.addRect(o.id,[e-h-m.x,s-h-m.y,e+h-m.x,s+h-m.y],q)},_strokeChartItem:function(a,c,h,g,e){var l=[];c=parseInt(c,10);h=parseInt(h,10);if(e&&(e==""square""||e==""s"")){g*=Math.sqrt(2)/2;l=[[c-g-a.lineWidth/2,h-g],[c+g,h-g],[c+g,h+g],[c-g,h+g],[c-g,h-g]]}else{if(e&&(e==""diamond""||e==""d"")){var m=(a.lineWidth>1?a.lineWidth*Math.sqrt(2)/4:0);l=[[c,h-g],[c+g,h],[c,h+g],[c-g,h],[c+m,h-g-m]]}else{if(e&&(e==""triangle""||e==""t"")){l=[[c,h-g],[c+Math.sqrt(3)*g/2,h+g/2],[c-Math.sqrt(3)*g/2,h+g/2],[c,h-g]]}else{l=[[c,h,g,0,Math.PI*2,true]]}}}this._path(a,l)},_getPointY:function(e,n,l,a){var m=a.minValue;var g=a.maxValue;var q=a.unit;var c=a.valueFactor;var o=this._settings.value(e);var r=(parseFloat(o||0)-m)*c;if(!this._settings.yAxis){r+=a.startValue/q}var h=l.y-q*r;if(this._settings.fixOverflow&&(this._settings.view==""line""||this._settings.view==""area"")){if(o>g){h={y:n.y,y0:h,out:""max""}}else{if(r<0||o<m){h={y:l.y,y0:h,out:""min""}}}}else{if(o>g){h=n.y}if(r<0||o<m){h=l.y}}return h},_calculateLineParams:function(o,g,m,l,h){var c={};var q;c.totalHeight=l.y-m.y;c.cellWidth=(l.x-m.x)/((!this._settings.offset)?(g.length-1):g.length);var e=!!this._settings.yAxis;var a=(this._settings.view.indexOf(""stacked"")!=-1?this._getStackedLimits(g):this._getLimits());c.maxValue=a.max;c.minValue=a.min;if(!h){this._drawScales(g,m,l,c.minValue,c.maxValue,c.cellWidth)}if(e){c.maxValue=parseFloat(this._settings.yAxis.end);c.minValue=parseFloat(this._settings.yAxis.start)}var n=this._getRelativeValue(c.minValue,c.maxValue);q=n[0];c.valueFactor=n[1];c.unit=(q?c.totalHeight/q:10);c.startValue=0;if(!e){c.startValue=10;if(c.unit!=c.totalHeight){c.unit=(q?(c.totalHeight-c.startValue)/q:10)}}return c}};dhtmlx.chart.bar={pvt_render_bar:function(y,P,h,g,A,O){var s,D,H,m,M,u,v,c,I,w,r,L,n,N=g.y-h.y;n=!!this._settings.yAxis;L=!!this._settings.xAxis;m=this._getLimits();M=m.max;u=m.min;D=(g.x-h.x)/P.length;if(!A&&!(this._settings.origin!=""auto""&&!n)){this._drawScales(P,h,g,u,M,D)}if(n){M=parseFloat(this._settings.yAxis.end);u=parseFloat(this._settings.yAxis.start)}I=this._getRelativeValue(u,M);v=I[0];c=I[1];r=(v?N/v:v);if(!n&&!(this._settings.origin!=""auto""&&L)){w=10;r=(v?(N-w)/v:w)}if(!A&&(this._settings.origin!=""auto""&&!n)&&this._settings.origin>u){this._drawXAxis(y,P,h,g,D,g.y-r*(this._settings.origin-u))}s=parseInt(this._settings.width,10);var K=0;var F=0;for(H=0;H<this._series.length;H++){if(H==A){F=K}if(this._series[H].view==""bar""){K++}}if(this._series&&(s*K+4)>D){s=parseInt(D/K-4,10)}var o=(D-s*K)/2;var l=(typeof this._settings.radius!=""undefined""?parseInt(this._settings.radius,10):Math.round(s/5));var q=false;var a=this._settings.gradient;if(a&&typeof(a)!=""function""){q=a;a=false}else{if(a){a=y.createLinearGradient(0,g.y,0,h.y);this._settings.gradient(a)}}if(!L){this._drawLine(y,h.x,g.y+0.5,g.x,g.y+0.5,""#000000"",1)}for(H=0;H<P.length;H++){var x=parseFloat(this._settings.value(P[H])||0);if(isNaN(x)){continue}if(x>M){x=M}x-=u;x*=c;var J=h.x+o+parseInt(H*D,10)+(s+1)*F;var e=g.y;if(x<0||(this._settings.yAxis&&x===0&&!(this._settings.origin!=""auto""&&this._settings.origin>u))){this.canvases[A].renderTextAt(true,true,J+Math.floor(s/2),e,this._settings.label(P[H]));continue}if(!n&&!(this._settings.origin!=""auto""&&L)){x+=w/r}var C=a||this._settings.color.call(this,P[H]);y.globalAlpha=this._settings.alpha.call(this,P[H]);var E=this._drawBar(y,h,J,e,s,u,l,r,x,C,a,q);if(q){this._drawBarGradient(y,J,e,s,u,l,r,x,C,q)}if(this._settings.border){this._drawBarBorder(y,J,e,s,u,l,r,x,C)}y.globalAlpha=1;if(E[0]!=J){this.canvases[A].renderTextAt(false,true,J+Math.floor(s/2),E[1],this._settings.label(P[H]))}else{this.canvases[A].renderTextAt(true,true,J+Math.floor(s/2),E[3],this._settings.label(P[H]))}O.addRect(P[H].id,[J-h.x,E[3]-h.y,E[2]-h.x,E[1]-h.y],A)}},_correctBarParams:function(n,h,e,l,m,o,g){var a=this._settings.xAxis;var c=e;if(!!a&&this._settings.origin!=""auto""&&(this._settings.origin>g)){e-=(this._settings.origin-g)*m;c=e;l=l-(this._settings.origin-g);if(l<0){l*=(-1);n.translate(h+o,e);n.rotate(Math.PI);h=0;e=0}e-=0.5}return{value:l,x0:h,y0:e,start:c}},_drawBar:function(u,h,A,g,o,q,l,n,s,v,a,m){u.save();u.fillStyle=v;var r=this._correctBarParams(u,A,g,s,n,o,q);var w=this._setBarPoints(u,r.x0,r.y0,o,l,n,r.value,(this._settings.border?1:0));if(a&&!m){u.lineTo(r.x0+(this._settings.border?1:0),h.y)}u.fill();u.restore();var y=r.x0;var x=(r.x0!=A?A+w[0]:w[0]);var e=(r.x0!=A?(r.start-w[1]-r.y0):r.y0);var c=(r.x0!=A?r.start-r.y0:w[1]);return[y,e,x,c]},_drawBarBorder:function(o,c,m,q,h,g,n,l,e){var a;o.save();a=this._correctBarParams(o,c,m,l,n,q,h);this._setBorderStyles(o,e);this._setBarPoints(o,a.x0,a.y0,q,g,n,a.value,o.lineWidth/2,1);o.stroke();o.restore()},_drawBarGradient:function(s,g,q,u,n,m,r,o,h,c){s.save();var e=this._correctBarParams(s,g,q,o,r,u,n);var l=this._setBarGradient(s,e.x0,e.y0,e.x0+u,e.y0-r*e.value+2,c,h,""y"");var a=this._settings.border?1:0;s.fillStyle=l.gradient;this._setBarPoints(s,e.x0+l.offset,e.y0,u-l.offset*2,m,r,e.value,l.offset+a);s.fill();s.restore()},_setBarPoints:function(w,g,s,x,n,u,r,h,m){w.beginPath();var c=0;if(n>u*r){var l=(n-u*r)/n;if(l<=1&&l>=-1){c=-Math.acos(l)+Math.PI/2}}w.moveTo(g+h,s);var q=s-Math.floor(u*r)+n+(n?0:h);if(n<u*r){w.lineTo(g+h,q)}var e=g+n;if(n&&n>0){w.arc(e,q,n-h,-Math.PI+c,-Math.PI/2,false)}var a=g+x-n-h;var o=q-n+(n?h:0);w.lineTo(a,o);if(n&&n>0){w.arc(a,q,n-h,-Math.PI/2,0-c,false)}var v=g+x-h;w.lineTo(v,s);if(!m){w.lineTo(g+h,s)}return[v,o]}};dhtmlx.chart.pie={pvt_render_pie:function(c,g,a,l,e,h){this._renderPie(c,g,a,l,1,h,e)},_renderPie:function(r,E,h,g,C,D,s){if(!E.length){return}var u=this._getPieParameters(h,g);var m=(this._settings.radius?this._settings.radius:u.radius);if(m<0){return}var a=this._getValues(E);var l=this._getTotalValue(a);var n=this._getRatios(a,l);var A=(this._settings.x?this._settings.x:u.x);var e=(this._settings.y?this._settings.y:u.y);if(C==1&&this._settings.shadow){this._addShadow(r,A,e,m)}e=e/C;var q=-Math.PI/2;var w=[];r.scale(1,C);if(this._settings.gradient){var y=(C!=1?A+m/3:A);var c=(C!=1?e+m/3:e);this._showRadialGradient(r,A,e,m,y,c)}for(var x=0;x<E.length;x++){if(!a[x]){continue}r.strokeStyle=this._settings.lineColor.call(this,E[x]);r.beginPath();r.moveTo(A,e);w.push(q);alpha1=-Math.PI/2+n[x]-0.0001;r.arc(A,e,m,q,alpha1,false);r.lineTo(A,e);var v=this._settings.color.call(this,E[x]);r.fillStyle=v;r.fill();if(this._settings.pieInnerText){this._drawSectorLabel(A,e,5*m/6,q,alpha1,C,this._settings.pieInnerText(E[x],l),true)}if(this._settings.label){this._drawSectorLabel(A,e,m+this._settings.labelOffset,q,alpha1,C,this._settings.label(E[x]))}if(C!=1){this._createLowerSector(r,A,e,q,alpha1,m,true);r.fillStyle=""#000000"";r.globalAlpha=0.2;this._createLowerSector(r,A,e,q,alpha1,m,false);r.globalAlpha=1;r.fillStyle=v}D.addSector(E[x].id,q,alpha1,A-h.x,e-h.y/C,m,C,s);q=alpha1}r.globalAlpha=0.8;var o;for(x=0;x<w.length;x++){o=this._getPositionByAngle(w[x],A,e,m);this._drawLine(r,A,e,o.x,o.y,this._settings.lineColor.call(this,E[x]),2)}if(C==1){r.lineWidth=2;r.strokeStyle=""#ffffff"";r.beginPath();r.arc(A,e,m+1,0,2*Math.PI,false);r.stroke()}r.globalAlpha=1;r.scale(1,1/C)},_getValues:function(e){var a=[];for(var c=0;c<e.length;c++){a.push(parseFloat(this._settings.value(e[c])||0))}return a},_getTotalValue:function(a){var e=0;for(var c=0;c<a.length;c++){e+=a[c]}return e},_getRatios:function(c,a){var l;var h=[];var g=0;a=a||this._getTotalValue(c);for(var e=0;e<c.length;e++){l=c[e];h[e]=Math.PI*2*(a?((l+g)/a):(1/c.length));g+=l}return h},_getPieParameters:function(m,h){var g=h.x-m.x;var c=h.y-m.y;var e=m.x+g/2;var l=m.y+c/2;var a=Math.min(g/2,c/2);return{x:e,y:l,radius:a}},_createLowerSector:function(g,h,m,e,a,l,c){g.lineWidth=1;if(!((e<=0&&a>=0)||(e>=0&&a<=Math.PI)||(Math.abs(e-Math.PI)>0.003&&e<=Math.PI&&a>=Math.PI))){return}if(e<=0&&a>=0){e=0;c=false;this._drawSectorLine(g,h,m,l,e,a)}if(e<=Math.PI&&a>=Math.PI){a=Math.PI;c=false;this._drawSectorLine(g,h,m,l,e,a)}var n=(this._settings.height||Math.floor(l/4))/this._settings.cant;g.beginPath();g.arc(h,m,l,e,a,false);g.lineTo(h+l*Math.cos(a),m+l*Math.sin(a)+n);g.arc(h,m+n,l,a,e,true);g.lineTo(h+l*Math.cos(e),m+l*Math.sin(e));g.fill();if(c){g.stroke()}},_drawSectorLine:function(e,g,l,h,c,a){e.beginPath();e.arc(g,l,h,c,a,false);e.stroke()},_addShadow:function(c,a,l,g){c.globalAlpha=0.5;var h=[""#c4c4c4"",""#c6c6c6"",""#cacaca"",""#dcdcdc"",""#dddddd"",""#e0e0e0"",""#eeeeee"",""#f5f5f5"",""#f8f8f8""];for(var e=h.length-1;e>-1;e--){c.beginPath();c.fillStyle=h[e];c.arc(a+1,l+1,g+e,0,Math.PI*2,true);c.fill()}c.globalAlpha=1},_getGrayGradient:function(a){a.addColorStop(0,""#ffffff"");a.addColorStop(0.7,""#7a7a7a"");a.addColorStop(1,""#000000"");return a},_showRadialGradient:function(e,c,m,a,g,h){e.beginPath();var l;if(typeof this._settings.gradient!=""function""){l=e.createRadialGradient(g,h,a/4,c,m,a);l=this._getGrayGradient(l)}else{l=this._settings.gradient(l)}e.fillStyle=l;e.arc(c,m,a,0,Math.PI*2,true);e.fill();e.globalAlpha=0.7},_drawSectorLabel:function(D,c,g,w,v,E,u,a){var s=this.canvases[0].renderText(0,0,u,0,1);if(!s){return}var F=s.scrollWidth;s.style.width=F+""px"";if(F>D){F=D}var A=(v-w<0.2?4:8);if(a){A=F/1.8}var e=w+(v-w)/2;g=g-(A-8)/2;var n=-A;var m=-8;var C=""right"";if(e>=Math.PI/2&&e<Math.PI||e<=3*Math.PI/2&&e>=Math.PI){n=-F-n+1;C=""left""}var h=0;if(!a&&E<1&&(e>0&&e<Math.PI)){h=(this._settings.height||Math.floor(g/4))/E}var o=(c+Math.floor((g+h)*Math.sin(e)))*E+m;var q=D+Math.floor((g+A/2)*Math.cos(e))+n;var l=(v<Math.PI/2+0.01);var r=(w<Math.PI/2);if(r&&l){q=Math.max(q,D+3)}else{if(!r&&!l){q=Math.min(q,D-F)}else{if(!a&&(e>=Math.PI/2&&e<Math.PI||e<=3*Math.PI/2&&e>=Math.PI)){q+=F/3}}}s.style.top=o+""px"";s.style.left=q+""px"";s.style.width=F+""px"";s.style.textAlign=C;s.style.whiteSpace=""nowrap""}};dhtmlx.chart.pie3D={pvt_render_pie3D:function(c,g,a,l,e,h){this._renderPie(c,g,a,l,this._settings.cant,h)}};dhtmlx.chart.donut={pvt_render_donut:function(s,h,q,o,m,c){if(!h.length){return}this._renderPie(s,h,q,o,1,c);var g=this._settings;var l=this._getPieParameters(q,o);var a=(g.radius?g.radius:l.radius);var n=((g.innerRadius&&(g.innerRadius<a))?g.innerRadius:a/3);var e=(g.x?g.x:l.x);var r=(g.y?g.y:l.y);s.fillStyle=""#ffffff"";s.beginPath();s.arc(e,r,n,0,Math.PI*2,true);s.fill()}};dhtmlx.DataDriver.dhtmlxgrid={_grid_getter:""_get_cell_value"",toObject:function(a){this._grid=a;return a},getRecords:function(a){return a.rowsBuffer},getDetails:function(e){var a={};for(var c=0;c<this._grid.getColumnsNum();c++){a[""data""+c]=this._grid[this._grid_getter](e,c)}return a},getInfo:function(a){return{_size:0,_from:0}}};dhtmlx.ui.Canvas=function(c,e,h){this._canvas_labels=[];this._canvas_name=e;this._obj=c;var g=c.offsetWidth*(window.devicePixelRatio||1);var a=c.offsetHeight*(window.devicePixelRatio||1);var h=h||"""";h+="";width:""+c.offsetWidth+""px;height:""+c.offsetHeight+""px;"";this._prepareCanvas(e,h,g,a)};dhtmlx.ui.Canvas.prototype={_prepareCanvas:function(c,g,e,a){this._canvas=dhtmlx.html.create(""canvas"",{width:e,height:a,canvas_id:c,style:(g||"""")});this._obj.appendChild(this._canvas);if(!this._canvas.getContext){if(dhtmlx._isIE){dhtmlx.require(""thirdparty/excanvas/excanvas.js"");G_vmlCanvasManager.init_(document);G_vmlCanvasManager.initElement(this._canvas)}else{dhtmlx.error(""Canvas is not supported in the current browser"")}}return this._canvas},getCanvas:function(c){var a=(this._canvas||this._prepareCanvas()).getContext(c||""2d"");if(!this._webixDevicePixelRatio){this._webixDevicePixelRatio=true;a.scale(window.devicePixelRatio||1,window.devicePixelRatio||1)}return a},_resizeCanvas:function(){if(this._canvas){var a=this._canvas.parentNode.offsetWidth;var c=this._canvas.parentNode.offsetHeight;this._canvas.setAttribute(""width"",a*(window.devicePixelRatio||1));this._canvas.setAttribute(""height"",c*(window.devicePixelRatio||1));this._canvas.style.width=a+""px"";this._canvas.style.height=c+""px"";this._webixDevicePixelRatio=false}},renderText:function(a,l,h,g,c){if(!h){return}var e=dhtmlx.html.create(""DIV"",{""class"":""dhx_canvas_text""+(g?("" ""+g):""""),style:""left:""+a+""px; top:""+l+""px;""},h);this._obj.appendChild(e);this._canvas_labels.push(e);if(c){e.style.width=c+""px""}return e},renderTextAt:function(h,o,a,n,g,m,e){var l=this.renderText.call(this,a,n,g,m,e);if(l){if(h){if(h==""middle""){l.style.top=parseInt(n-l.offsetHeight/2,10)+""px""}else{l.style.top=n-l.offsetHeight+""px""}}if(o){if(o==""left""){l.style.left=a-l.offsetWidth+""px""}else{l.style.left=parseInt(a-l.offsetWidth/2,10)+""px""}}}return l},clearCanvas:function(a){var c=[],e;for(e=0;e<this._canvas_labels.length;e++){this._obj.removeChild(this._canvas_labels[e])}this._canvas_labels=[];if(!a&&this._obj._htmlmap){c=this._getMapAreas();while(c.length){c[0].parentNode.removeChild(c[0]);c.splice(0,1)}c=null;if(!this._obj._htmlmap.getElementsByTagName(""AREA"").length){this._obj._htmlmap.parentNode.removeChild(this._obj._htmlmap);this._obj._htmlmap=null}}this.getCanvas().clearRect(0,0,this._obj.offsetWidth*(window.devicePixelRatio||1),this._obj.offsetWidth*(window.devicePixelRatio||1))},toggleCanvas:function(){this._toggleCanvas(this._canvas.style.display==""none"")},showCanvas:function(){this._toggleCanvas(true)},hideCanvas:function(){this._toggleCanvas(false)},_toggleCanvas:function(a){var c,e;for(e=0;e<this._canvas_labels.length;e++){this._canvas_labels[e].style.display=(a?"""":""none"")}if(this._obj._htmlmap){c=this._getMapAreas();for(e=0;e<c.length;e++){if(a){c[e].removeAttribute(""disabled"")}else{c[e].setAttribute(""disabled"",""true"")}}}this._canvas.style.display=(a?"""":""none"")},_getMapAreas:function(){var e=[],a,c;a=this._obj._htmlmap.getElementsByTagName(""AREA"");for(c=0;c<a.length;c++){if(a[c].getAttribute(""userdata"")==this._canvas_name){e.push(a[c])}}return e}};dhtmlXChart=function(a){this.name=""Chart"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_chart"");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);this.data.provideApi(this,true);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.Destruction);dhtmlx.extend(this,dhtmlx.Group);dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var c in dhtmlx.chart){dhtmlx.extend(this,dhtmlx.chart[c])}if(a.preset){this.definePreset(a)}this._parseSettings(a,this.defaults);this._series=[this._settings];this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(function(){this.render()},this));this.attachEvent(""onLocateData"",this._switchSerie)};dhtmlXChart.prototype={_id:""dhx_area_id"",on_click:{dhx_chart_legend_item:function(m,n,l){var h=l.getAttribute(""series_id"");if(this.callEvent(""onLegendClick"",[m,h,l])){var g=this._settings;var c=g.legend.values;var a=(c&&(typeof c[h].toggle!=""undefined""))?c[h].toggle:g.legend.toggle;if((typeof h!=""undefined"")&&this._series.length>1){if(a){if(l.className.indexOf(""hidden"")!=-1){this.showSeries(h)}else{this.hideSeries(h)}}}}}},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){for(var a in this.canvases){this.canvases[a]._resizeCanvas()}this.render()},view_setter:function(a){if(!dhtmlx.chart[a]){dhtmlx.error(""Chart type extension is not loaded: ""+a)}if(typeof this._settings.offset==""undefined""){this._settings.offset=!(a==""area""||a==""stackedArea"")}if(a==""radar""&&!this._settings.yAxis){this.define(""yAxis"",{})}if(a==""scatter""){if(!this._settings.yAxis){this.define(""yAxis"",{})}if(!this._settings.xAxis){this.define(""xAxis"",{})}}return a},clearCanvas:function(){if(this.canvases&&typeof this.canvases==""object""){for(var a in this.canvases){this.canvases[a].clearCanvas()}}},render:function(){var e,c,g,h,a;if(!this.callEvent(""onBeforeRender"",[this.data])){return}if(this.canvases&&typeof this.canvases==""object""){for(c in this.canvases){this.canvases[c].clearCanvas()}}else{this.canvases={}}if(this._settings.legend){if(!this.canvases.legend){this.canvases.legend=new dhtmlx.ui.Canvas(this._obj,""legend"")}this._drawLegend(this.data.getRange(),this._obj.offsetWidth)}e=this._getChartBounds(this._obj.offsetWidth,this._obj.offsetHeight);h=new dhtmlx.ui.Map(this._id);a=this._settings;g=this._getChartData();for(c=0;c<this._series.length;c++){this._settings=this._series[c];if(!this.canvases[c]){this.canvases[c]=new dhtmlx.ui.Canvas(this._obj,c,""z-index:""+(2+c))}this[""pvt_render_""+this._settings.view](this.canvases[c].getCanvas(),g,e.start,e.end,c,h)}h.render(this._obj);this._obj.lastChild.style.zIndex=1000;this._applyBounds(this._obj.lastChild,e);this.callEvent(""onAfterRender"",[]);this._settings=a},_applyBounds:function(e,c){var a={};a.left=c.start.x;a.top=c.start.y;a.width=c.end.x-c.start.x;a.height=c.end.y-c.start.y;for(var g in a){e.style[g]=a[g]+""px""}},_getChartData:function(){var g,m,e,h,l,q,a,n,o,c;h=this.data.getRange();g=(this._settings.view.toLowerCase().indexOf(""barh"")!=-1?""yAxis"":""xAxis"");m=this._settings[g];if(m&&m.units&&(typeof m.units==""object"")){e=m.units;n=[];if(typeof e.start!=""undefined""&&typeof e.end!=""undefined""&&typeof e.next!=""undefined""){a=e.start;while(a<=e.end){n.push(a);a=e.next.call(this,a)}}else{if(Object.prototype.toString.call(e)===""[object Array]""){n=e}}q=[];if(n.length){o=m.value;c={};for(l=0;l<h.length;l++){c[o(h[l])]=l}for(l=0;l<n.length;l++){if(typeof c[n[l]]!=""undefined""){h[c[n[l]]].$unit=n[l];q.push(h[c[n[l]]])}else{q.push({$unit:n[l]})}}}return q}return h},value_setter:dhtmlx.Template.obj_setter,xValue_setter:dhtmlx.Template.obj_setter,yValue_setter:function(a){this.define(""value"",a)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,borderColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(a){if((typeof(a)!=""function"")&&a&&(a===true)){a=""light""}return a},colormap:{RAINBOW:function(a){var c=Math.floor(this.indexById(a.id)/this.dataCount()*1536);if(c==1536){c-=1}return this._rainbow[Math.floor(c/256)](c%256)}},color_setter:function(a){return this.colormap[a]||dhtmlx.Template.obj_setter(a)},fill_setter:function(a){return((!a||a==0)?false:dhtmlx.Template.obj_setter(a))},definePreset:function(a){this.define(""preset"",a.preset);delete a.preset},preset_setter:function(h){var e,c,g;this.defaults=dhtmlx.extend({},this.defaults);if(typeof dhtmlx.presets.chart[h]==""object""){g=dhtmlx.presets.chart[h];for(e in g){if(typeof g[e]==""object""){if(!this.defaults[e]||typeof this.defaults[e]!=""object""){this.defaults[e]=dhtmlx.extend({},g[e])}else{this.defaults[e]=dhtmlx.extend({},this.defaults[e]);for(c in g[e]){this.defaults[e][c]=g[e][c]}}}else{this.defaults[e]=g[e]}}return h}return false},legend_setter:function(a){if(!a){if(this.legendObj){this.legendObj.innerHTML="""";this.legendObj=null}return false}if(typeof(a)!=""object""){a={template:a}}this._mergeSettings(a,{width:150,height:18,layout:""y"",align:""left"",valign:""bottom"",template:"""",toggle:(this._settings.view.toLowerCase().indexOf(""stacked"")!=-1?"""":""hide""),marker:{type:""square"",width:15,height:15,radius:3},margin:4,padding:3});a.template=dhtmlx.Template.setter(a.template);return a},defaults:{color:""RAINBOW"",alpha:""1"",label:false,value:""{obj.value}"",padding:{},view:""pie"",lineColor:""#ffffff"",cant:0.5,width:30,labelWidth:100,line:{width:2,color:""#1293f8""},item:{radius:3,borderColor:""#636363"",borderWidth:1,color:""#ffffff"",alpha:1,type:""r"",shadow:false},shadow:true,gradient:false,border:true,labelOffset:20,origin:""auto""},item_setter:function(a){if(typeof(a)!=""object""){a={color:a,borderColor:a}}this._mergeSettings(a,dhtmlx.extend({},this.defaults.item));var e=[""alpha"",""borderColor"",""color"",""radius""];for(var c=0;c<e.length;c++){a[e[c]]=dhtmlx.Template.setter(a[e[c]])}return a},line_setter:function(a){if(typeof(a)!=""object""){a={color:a}}dhtmlx.extend(this.defaults.line,a);a=dhtmlx.extend({},this.defaults.line);a.color=dhtmlx.Template.setter(a.color);return a},padding_setter:function(a){if(typeof(a)!=""object""){a={left:a,right:a,top:a,bottom:a}}this._mergeSettings(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a){return false}if(typeof(a)!=""object""){a={template:a}}if(!a.value){a.value=a.template}this._mergeSettings(a,{title:"""",color:""#000000"",lineColor:""#cfcfcf"",template:""{obj}"",value:""{obj}"",lines:true});var c=[""lineColor"",""template"",""lines"",""value""];this._converToTemplate(c,a);this._configXAxis=dhtmlx.extend({},a);return a},yAxis_setter:function(a){this._mergeSettings(a,{title:"""",color:""#000000"",lineColor:""#cfcfcf"",template:""{obj}"",lines:true,bg:""#ffffff""});var c=[""lineColor"",""template"",""lines"",""bg""];this._converToTemplate(c,a);this._configYAxis=dhtmlx.extend({},a);return a},_converToTemplate:function(a,c){for(var e=0;e<a.length;e++){c[a[e]]=dhtmlx.Template.setter(c[a[e]])}},_drawScales:function(h,g,e,m,a,c){var l=0;if(this._settings.yAxis){if(!this.canvases.y){this.canvases.y=new dhtmlx.ui.Canvas(this._obj,""axis_y"")}l=this._drawYAxis(this.canvases.y.getCanvas(),h,g,e,m,a)}if(this._settings.xAxis){if(!this.canvases.x){this.canvases.x=new dhtmlx.ui.Canvas(this._obj,""axis_x"")}this._drawXAxis(this.canvases.x.getCanvas(),h,g,e,c,l)}return l},_drawXAxis:function(u,l,r,q,g,o){var e=r.x-0.5;var s=parseInt((o?o:q.y),10)+0.5;var c=q.x;var m;var a=true;for(var h=0;h<l.length;h++){if(this._settings.offset===true){m=e+g/2+h*g}else{m=(h==l.length-1)?q.x:e+h*g;a=!!h}m=Math.ceil(m)-0.5;var n=((this._settings.origin!=""auto"")&&(this._settings.view==""bar"")&&(parseFloat(this._settings.value(l[h]))<this._settings.origin));this._drawXAxisLabel(m,s,l[h],a,n);if((this._settings.offset||h)&&this._settings.xAxis.lines.call(this,l[h])){this._drawXAxisLine(u,m,q.y,r.y,l[h])}}this.canvases.x.renderTextAt(true,false,e,q.y+this._settings.padding.bottom-3,this._settings.xAxis.title,""dhx_axis_title_x"",q.x-r.x);this._drawLine(u,e,s,c,s,this._settings.xAxis.color,1);if(!this._settings.xAxis.lines.call(this,{})||!this._settings.offset){return}this._drawLine(u,c+0.5,q.y,c+0.5,r.y+0.5,this._settings.xAxis.color,0.2)},_drawYAxis:function(w,D,l,h,n,m){var o;var u={};if(!this._settings.yAxis){return}var y=l.x-0.5;var g=h.y;var e=l.y;var v=h.y;if(this._settings.yAxis.step){o=parseFloat(this._settings.yAxis.step)}if(typeof this._configYAxis.step==""undefined""||typeof this._configYAxis.start==""undefined""||typeof this._configYAxis.end==""undefined""){u=this._calculateScale(n,m);n=u.start;m=u.end;o=u.step;this._settings.yAxis.end=m;this._settings.yAxis.start=n}this._setYAxisTitle(l,h);if(o===0){m=n;o=1}var a=(m==n?g-e:(g-e)*o/(m-n));var A=0;for(var x=n;x<=m;x+=o){if(u.fixNum){x=parseFloat((new Number(x)).toFixed(u.fixNum))}var C=Math.floor(g-A*a)+0.5;if(!(x==n&&this._settings.origin==""auto"")&&this._settings.yAxis.lines.call(this,x)){this._drawLine(w,y,C,h.x,C,this._settings.yAxis.lineColor.call(this,x),1)}if(x==this._settings.origin){v=C}var q=x;if(o<1){var r=Math.min(this._log10(o),(n<=0?0:this._log10(n)));var s=Math.pow(10,-r);q=Math.round(x*s)/s;x=q}this.canvases.y.renderText(0,C-5,this._settings.yAxis.template(q.toString()),""dhx_axis_item_y"",l.x-5);A++}this._drawLine(w,y,g+1,y,e,this._settings.yAxis.color,1);return v},_setYAxisTitle:function(e,c){var a=""dhx_axis_title_y""+(dhtmlx._isIE&&dhtmlx._isIE!=9?"" dhx_ie_filter"":"""");var g=this.canvases.y.renderTextAt(""middle"",false,0,parseInt((c.y-e.y)/2+e.y,10),this._settings.yAxis.title,a);if(g){g.style.left=(dhtmlx.env.transform?(g.offsetHeight-g.offsetWidth)/2:0)+""px""}},_calculateScale:function(q,c){if(this._settings.origin!=""auto""&&this._settings.origin<q){q=this._settings.origin}var h,g,m;h=((c-q)/8)||1;var e=Math.floor(this._log10(h));var a=Math.pow(10,e);var l=h/a;l=(l>5?10:5);h=parseInt(l,10)*a;if(h>Math.abs(q)){g=(q<0?-h:0)}else{var r=Math.abs(q);var o=Math.floor(this._log10(r));var n=r/Math.pow(10,o);g=Math.ceil(n*10)/10*Math.pow(10,o)-h;if(r>1&&h>0.1){g=Math.ceil(g)}while(q<0?g<=q:g>=q){g-=h}if(q<0){g=-g-2*h}}m=g;while(m<c){m+=h;m=parseFloat((new Number(m)).toFixed(Math.abs(e)))}return{start:g,end:m,step:h,fixNum:Math.abs(e)}},_getLimits:function(c,m){var n,l;var h=((arguments.length&&c==""h"")?this._configXAxis:this._configYAxis);m=m||""value"";if(h&&(typeof h.end!=""undefined"")&&(typeof h.start!=""undefined"")&&h.step){n=parseFloat(h.end);l=parseFloat(h.start)}else{n=this.max(this._series[0][m]);l=(h&&(typeof h.start!=""undefined""))?parseFloat(h.start):this.min(this._series[0][m]);if(this._series.length>1){for(var g=1;g<this._series.length;g++){var a=this.max(this._series[g][m]);var e=this.min(this._series[g][m]);if(a>n){n=a}if(e<l){l=e}}}}return{max:n,min:l}},_log10:function(c){var a=""log"";return Math.floor((Math[a](c)/Math.LN10))},_drawXAxisLabel:function(c,l,h,a,g){if(!this._settings.xAxis){return}var e=this.canvases.x.renderTextAt(g,a,c,l-(g?2:0),this._settings.xAxis.template(h));if(e){e.className+="" dhx_axis_item_x""}},_drawXAxisLine:function(c,a,g,e,h){if(!this._settings.xAxis||!this._settings.xAxis.lines){return}this._drawLine(c,a,g,a,e,this._settings.xAxis.lineColor.call(this,h),1)},_drawLine:function(a,g,m,e,h,c,l){a.strokeStyle=c;a.lineWidth=l;a.beginPath();a.moveTo(g,m);a.lineTo(e,h);a.stroke();a.lineWidth=1},_getRelativeValue:function(g,h){var e,a;var c=1;if(h!=g){e=h-g}else{e=g}return[e,c]},_rainbow:[function(a){return""#FF""+dhtmlx.math.toHex(a/2,2)+""00""},function(a){return""#FF""+dhtmlx.math.toHex(a/2+128,2)+""00""},function(a){return""#""+dhtmlx.math.toHex(255-a,2)+""FF00""},function(a){return""#00FF""+dhtmlx.math.toHex(a,2)},function(a){return""#00""+dhtmlx.math.toHex(255-a,2)+""FF""},function(a){return""#""+dhtmlx.math.toHex(a,2)+""00FF""}],addSeries:function(c){var a=this._settings;this._settings=dhtmlx.extend({},a);this._parseSettings(c,{});this._series.push(this._settings);this._settings=a},_switchSerie:function(g,a){var e;this._active_serie=a.getAttribute(""userdata"");if(!this._series[this._active_serie]){return}for(var c=0;c<this._series.length;c++){e=this._series[c].tooltip;if(e){e.disable()}}if(!a.getAttribute(""disabled"")){e=this._series[this._active_serie].tooltip;if(e){e.enable()}}},hideSeries:function(a){this.canvases[a].hideCanvas();if(this._settings.legend.values&&this._settings.legend.values[a]){this._settings.legend.values[a].$hidden=true}this._drawLegend()},showSeries:function(a){this.canvases[a].showCanvas();if(this._settings.legend.values&&this._settings.legend.values[a]){delete this._settings.legend.values[a].$hidden}this._drawLegend()},_setBorderStyles:function(a,c){var g,e;e=dhtmlx.math.toRgb(c);g=dhtmlx.math.rgbToHsv(e[0],e[1],e[2]);g[2]/=2;c=""rgb(""+dhtmlx.math.hsvToRgb(g[0],g[1],g[2])+"")"";a.strokeStyle=c;if(a.globalAlpha==1){a.globalAlpha=0.9}},_drawLegend:function(g,c){var h,q,w,r,l,s,a,n=0,m=0,v,o,e,u;g=g||[];c=c||this._obj.offsetWidth;v=this.canvases.legend.getCanvas();q=this._settings.legend;a=(this._settings.legend.layout!=""x""?""width:""+q.width+""px"":"""");if(this.legendObj){this.legendObj.innerHTML="""";this.legendObj.parentNode.removeChild(this.legendObj)}this.canvases.legend.clearCanvas(true);w=dhtmlx.html.create(""DIV"",{""class"":""dhx_chart_legend"",style:""left:""+n+""px; top:""+m+""px;""+a},"""");if(q.padding){w.style.padding=q.padding+""px""}this.legendObj=w;this._obj.appendChild(w);l=[];if(!q.values){for(h=0;h<g.length;h++){l.push(this._drawLegendText(w,q.template(g[h])))}}else{for(h=0;h<q.values.length;h++){l.push(this._drawLegendText(w,q.values[h].text,(typeof q.values[h].id!=""undefined""?typeof q.values[h].id:h),q.values[h].$hidden))}}s=w.offsetWidth;r=w.offsetHeight;if(s<this._obj.offsetWidth){if(q.layout==""x""&&q.align==""center""){n=(this._obj.offsetWidth-s)/2}if(q.align==""right""){n=this._obj.offsetWidth-s}if(q.margin&&q.align!=""center""){n+=(q.align==""left""?1:-1)*q.margin}}if(r<this._obj.offsetHeight){if(q.valign==""middle""&&q.align!=""center""&&q.layout!=""x""){m=(this._obj.offsetHeight-r)/2}else{if(q.valign==""bottom""){m=this._obj.offsetHeight-r}}if(q.margin&&q.valign!=""middle""){m+=(q.valign==""top""?1:-1)*q.margin}}w.style.left=n+""px"";w.style.top=m+""px"";v.save();for(h=0;h<l.length;h++){u=l[h];if(q.values&&q.values[h].$hidden){e=true;o=(q.values[h].disableColor?q.values[h].disableColor:""#d9d9d9"")}else{e=false;o=(q.values?q.values[h].color:this._settings.color.call(this,g[h]))}this._drawLegendMarker(v,u.offsetLeft+n,u.offsetTop+m,o,u.offsetHeight,e,h)}v.restore();l=null},_drawLegendText:function(a,h,c,g){var e="""";if(this._settings.legend.layout==""x""){e=""float:left;""}var l=dhtmlx.html.create(""DIV"",{style:e+""padding-left:""+(10+this._settings.legend.marker.width)+""px"",""class"":""dhx_chart_legend_item""+(g?"" hidden"":"""")},h);if(arguments.length>2){l.setAttribute(""series_id"",c)}a.appendChild(l);return l},_drawLegendMarker:function(A,s,r,h,w,l,n){var c=[];var m=this._settings.legend.marker;var v=this._settings.legend.values;var q=(v&&v[n].markerType?v[n].markerType:m.type);if(h){A.fillStyle=h;A.strokeStyle=this._getDarkenColor(h,0.75)}A.beginPath();if(q==""round""||!m.radius){A.lineWidth=m.height;A.lineCap=q;s+=A.lineWidth/2+5;r+=w/2;A.moveTo(s,r);var a=s+m.width-m.height+1;A.lineTo(a,r)}else{if(q==""item""){if(this._settings.line&&this._settings.view!=""scatter""&&!this._settings.disableLines){A.beginPath();A.lineWidth=this._series[n].line.width;A.strokeStyle=l?h:this._series[n].line.color.call(this,{});var e=s+5;var u=r+w/2;A.moveTo(e,u);var a=e+m.width;A.lineTo(a,u);A.stroke()}var g=this._series[n].item;var o=parseInt(g.radius.call(this,{}),10)||0;if(o){A.beginPath();if(l){A.lineWidth=g.borderWidth;A.strokeStyle=h;A.fillStyle=h}else{A.lineWidth=g.borderWidth;A.fillStyle=g.color.call(this,{});A.strokeStyle=g.borderColor.call(this,{});A.globalAlpha=g.alpha.call(this,{})}A.beginPath();s+=m.width/2+5;r+=w/2;this._strokeChartItem(A,s,r,o+1,g.type);A.fill();A.stroke()}A.globalAlpha=1}else{A.lineWidth=1;s+=5;r+=parseInt(w/2-m.height/2,10);c=[[s+m.radius,r+m.radius,m.radius,Math.PI,3*Math.PI/2,false],[s+m.width-m.radius,r],[s+m.width-m.radius,r+m.radius,m.radius,-Math.PI/2,0,false],[s+m.width,r+m.height-m.radius],[s+m.width-m.radius,r+m.height-m.radius,m.radius,0,Math.PI/2,false],[s+m.radius,r+m.height],[s+m.radius,r+m.height-m.radius,m.radius,Math.PI/2,Math.PI,false],[s,r+m.radius]];this._path(A,c)}}A.stroke();A.fill()},_getDarkenColor:function(a,g){var e,c;c=dhtmlx.math.toRgb(a);e=dhtmlx.math.rgbToHsv(c[0],c[1],c[2]);e[2]=e[2]*g;return""rgb(""+dhtmlx.math.hsvToRgb(e[0],e[1],e[2])+"")""},_getChartBounds:function(a,m){var o,e,n,c;o=this._settings.padding.left;e=this._settings.padding.top;n=a-this._settings.padding.right;c=m-this._settings.padding.bottom;if(this._settings.legend){var h=this._settings.legend;var l=this._settings.legend.width;var g=this._settings.legend.height;if(h.layout==""x""){if(h.valign==""center""){if(h.align==""right""){n-=l}else{if(h.align==""left""){o+=l}}}else{if(h.valign==""bottom""){c-=g}else{e+=g}}}else{if(h.align==""right""){n-=l}else{if(h.align==""left""){o+=l}}}}return{start:{x:o,y:e},end:{x:n,y:c}}},_getStackedLimits:function(h){var c,a,l,g,e;if(this._settings.yAxis&&(typeof this._settings.yAxis.end!=""undefined"")&&(typeof this._settings.yAxis.start!=""undefined"")&&this._settings.yAxis.step){l=parseFloat(this._settings.yAxis.end);g=parseFloat(this._settings.yAxis.start)}else{for(c=0;c<h.length;c++){h[c].$sum=0;h[c].$min=Infinity;for(a=0;a<this._series.length;a++){e=parseFloat(this._series[a].value(h[c])||0);if(isNaN(e)){continue}if(this._series[a].view.toLowerCase().indexOf(""stacked"")!=-1){h[c].$sum+=e}if(e<h[c].$min){h[c].$min=e}}}l=-Infinity;g=Infinity;for(c=0;c<h.length;c++){if(h[c].$sum>l){l=h[c].$sum}if(h[c].$min<g){g=h[c].$min}}if(g>0){g=0}}return{max:l,min:g}},_setBarGradient:function(v,c,r,a,o,n,g,e){var q,h,m,l,u,s;if(n==""light""){if(e==""x""){q=v.createLinearGradient(c,r,a,r)}else{q=v.createLinearGradient(c,r,c,o)}s=[[0,""#FFFFFF""],[0.9,g],[1,g]];h=2}else{if(n==""falling""||n==""rising""){if(e==""x""){q=v.createLinearGradient(c,r,a,r)}else{q=v.createLinearGradient(c,r,c,o)}m=dhtmlx.math.toRgb(g);l=dhtmlx.math.rgbToHsv(m[0],m[1],m[2]);l[1]*=1/2;u=""rgb(""+dhtmlx.math.hsvToRgb(l[0],l[1],l[2])+"")"";if(n==""falling""){s=[[0,u],[0.7,g],[1,g]]}else{if(n==""rising""){s=[[0,g],[0.3,g],[1,u]]}}h=0}else{v.globalAlpha=0.37;h=0;if(e==""x""){q=v.createLinearGradient(c,o,c,r)}else{q=v.createLinearGradient(c,r,a,r)}s=[[0,""#9d9d9d""],[0.3,""#e8e8e8""],[0.45,""#ffffff""],[0.55,""#ffffff""],[0.7,""#e8e8e8""],[1,""#9d9d9d""]]}}this._gradient(q,s);return{gradient:q,offset:h}},_getPositionByAngle:function(e,c,h,g){e*=(-1);c=c+Math.cos(e)*g;h=h-Math.sin(e)*g;return{x:c,y:h}},_gradient:function(e,c){for(var a=0;a<c.length;a++){e.addColorStop(c[a][0],c[a][1])}},_path:function(a,e){var c,g;for(c=0;c<e.length;c++){g=(c?""lineTo"":""moveTo"");if(e[c].length>2){g=""arc""}a[g].apply(a,e[c])}},_circle:function(c,a,g,e){c.arc(a,g,e,Math.PI*2,true)},_addMapRect:function(g,h,a,e,c){g.addRect(h,[a[0].x-e.x,a[0].y-e.y,a[1].x-e.x,a[1].y-e.y],c)}};dhtmlx.compat(""layout"");if(typeof(window.dhtmlXCellObject)!=""undefined""){dhtmlXCellObject.prototype.attachChart=function(a){this.callEvent(""_onBeforeContentAttach"",[""chart""]);var c=document.createElement(""DIV"");c.id=""dhxChartObj_""+window.dhx4.newId();c.style.width=""100%"";c.style.height=""100%"";document.body.appendChild(c);this._attachObject(c);a.container=c.id;this.dataType=""chart"";this.dataObj=new dhtmlXChart(a);if(!this.dataObj.setSizes){this.dataObj.setSizes=function(){if(this.resize){this.resize()}else{this.render()}}}return this.dataObj}}dhtmlx.ui.pager=function(a){this.name=""Pager"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_pager"");dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.SingleRender);dhtmlx.extend(this,dhtmlx.MouseEvents);this._parseSettings(a,{size:10,page:-1,group:5,count:0,type:""default""});this.data=this._settings;this.refresh()};dhtmlx.ui.pager.prototype={_id:""dhx_p_id"",on_click:{dhx_pager_item:function(a,c){this.select(c)}},select:function(a){switch(a){case""next"":a=this._settings.page+1;break;case""prev"":a=this._settings.page-1;break;case""first"":a=0;break;case""last"":a=this._settings.limit-1;break;default:break}if(a<0){a=0}if(a>=this.data.limit){a=this.data.limit-1}if(this.callEvent(""onBeforePageChange"",[this._settings.page,a])){this.data.page=a*1;this.refresh();this.callEvent(""onAfterPageChange"",[a])}},types:{""default"":{template:dhtmlx.Template.fromHTML(""{common.pages()}""),pages:function(e){var c="""";if(e.page==-1){return""""}e.min=e.page-Math.round((e.group-1)/2);e.max=e.min+e.group-1;if(e.min<0){e.max+=e.min*(-1);e.min=0}if(e.max>=e.limit){e.min-=Math.min(e.min,e.max-e.limit+1);e.max=e.limit-1}for(var a=(e.min||0);a<=e.max;a++){c+=this.button({id:a,index:(a+1),selected:(a==e.page?""_selected"":"""")})}return c},page:function(a){return a.page+1},first:function(){return this.button({id:""first"",index:"" &lt;&lt; "",selected:""""})},last:function(){return this.button({id:""last"",index:"" &gt;&gt; "",selected:""""})},prev:function(){return this.button({id:""prev"",index:""&lt;"",selected:""""})},next:function(){return this.button({id:""next"",index:""&gt;"",selected:""""})},button:dhtmlx.Template.fromHTML(""<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>"")}},refresh:function(){var a=this._settings;a.limit=Math.ceil(a.count/a.size);if(a.limit&&a.limit!=a.old_limit){a.page=Math.min(a.limit-1,a.page)}var c=a.page;if(c!=-1&&(c!=a.old_page)||(a.limit!=a.old_limit)){this.render();this.callEvent(""onRefresh"",[]);a.old_limit=a.limit;a.old_page=a.page}},template_item_start:dhtmlx.Template.fromHTML(""<div>""),template_item_end:dhtmlx.Template.fromHTML(""</div>"")};dhtmlx.DataProcessor={_dp_init:function(c){var a=""_methods"";c[a]=[""setItemStyle"","""",""changeId"",""remove""];this.attachEvent(""onAfterAdd"",function(e){c.setUpdated(e,true,""inserted"")});this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(function(g,e){if(g.getUserData){g.getUserData(e,this._userdata)}},this));this.attachEvent(""onBeforeDelete"",function(g){if(c._silent_mode){return true}var e=c.getState(g);if(e==""inserted""){c.setUpdated(g,false);return true}if(e==""deleted""){return false}if(e==""true_deleted""){return true}c.setUpdated(g,true,""deleted"");return false});this.attachEvent(""onAfterEditStop"",function(e){c.setUpdated(e,true,""updated"")});this.attachEvent(""onBindUpdate"",function(e){window.setTimeout(function(){c.setUpdated(e.id,true,""updated"")},1)});a=""_getRowData"";c[a]=function(m,e){var h=this.obj.data.get(m);var l={};for(var g in h){if(g.indexOf(""_"")===0){continue}l[g]=h[g]}return l};a=""_clearUpdateFlag"";c[a]=function(){};this._userdata={};c.attachEvent(""insertCallback"",this._dp_callback);c.attachEvent(""updateCallback"",this._dp_callback);c.attachEvent(""deleteCallback"",function(e,g){this.obj.setUserData(g,this.action_param,""true_deleted"");this.obj.remove(g)});dhtmlx.compat(""dataProcessor"",c)},_dp_callback:function(a,c){this.obj.data.set(c,dhtmlx.DataDriver.xml.getDetails(a.firstChild));this.obj.data.refresh(c)},setItemStyle:function(e,a){var c=this._locateHTML(e);if(c){c.style.cssText+="";""+a}},changeId:function(c,a){this.data.changeId(c,a);this.refresh()},setUserData:function(e,a,c){if(e){this.data.get(e)[a]=c}else{this._userdata[a]=c}},getUserData:function(c,a){return c?this.data.get(c)[a]:this._userdata[a]}};(function(){var a=""_dp_init"";dhtmlx.DataProcessor[a]=dhtmlx.DataProcessor._dp_init})();dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var n=""_dragged"";var g=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(q,r,o){g.apply(this,arguments);if(!o){var s=dhtmlx.DragControl._drag_context=dhtmlx.DragControl._drag_context||{};if(!s.from){s.from=this.dragStartObject}dhtmlx.DragControl._checkLand(q,r,true)}};var c=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(r,o,q){if(!q){if(dhtmlx.DragControl._last){dhtmlx.DragControl._active=m.dragStartNode;dhtmlx.DragControl._stopDrag(r,true)}}c.apply(this,arguments)};var m=new dhtmlDragAndDropObject();var h=dhtmlx.DragControl._startDrag;dhtmlx.DragControl._startDrag=function(){h.apply(this,arguments);var s=dhtmlx.DragControl._drag_context;if(!s){return}var r=[];var q=[];for(var o=0;o<s.source.length;o++){r[o]={idd:s.source[o]};q.push(s.source[o])}m.dragStartNode={parentNode:{},parentObject:{idd:r,id:(q.length==1?q[0]:q),treeNod:{object:s.from}}};m.dragStartNode.parentObject.treeNod[n]=r;m.dragStartObject=s.from};var l=dhtmlx.DragControl._checkLand;dhtmlx.DragControl._checkLand=function(q,r,o){l.apply(this,arguments);if(!this._last&&!o){q=m.checkLanding(q,r,true)}};var a=dhtmlx.DragControl._stopDrag;dhtmlx.DragControl._stopDrag=function(q,o){a.apply(this,arguments);if(m.lastLanding&&!o){m.stopDrag(q,false,true)}};var e=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(q){var r=null;if(q){r=e.apply(this,arguments)}if(!r){r=m.dragStartObject;var s=[];var u=r[n];for(var o=0;o<u.length;o++){s.push(u[o].idd||u[o].id)}dhtmlx.DragControl._drag_context.source=s}return r}}};dhtmlx.DataMove={_init:function(){dhtmlx.assert(this.data,""DataMove :: Component doesn't have DataStore"")},copy:function(c,h,a,g){var e=this.get(c);if(!e){dhtmlx.log(""Warning"",""Incorrect ID in DataMove::copy"");return}if(a){dhtmlx.assert(a.externalData,""DataMove :: External object doesn't support operation"");e=a.externalData(e)}a=a||this;return a.add(a.externalData(e,g),h)},move:function(e,m,c,l){if(e instanceof Array){for(var g=0;g<e.length;g++){var a=(c||this).indexById(this.move(e[g],m,c,e[g]));if(e[g+1]){m=a+(this.indexById(e[g+1])<a?0:1)}}return}nid=e;if(m<0){dhtmlx.log(""Info"",""DataMove::move - moving outside of bounds is ignored"");return}var h=this.get(e);if(!h){dhtmlx.log(""Warning"",""Incorrect ID in DataMove::move"");return}if(!c||c==this){this.data.move(this.indexById(e),m)}else{dhtmlx.assert(c.externalData,""DataMove :: External object doesn't support operation"");nid=c.add(c.externalData(h,l),m);this.remove(e)}return nid},moveUp:function(c,a){return this.move(c,this.indexById(c)-(a||1))},moveDown:function(c,a){return this.moveUp(c,(a||1)*-1)},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},externalData:function(a,e){var c=dhtmlx.extend({},a);c.id=e||dhtmlx.uid();c.$selected=c.$template=null;return c}};dhtmlx.DragControl={_drag_masters:dhtmlx.toArray([""dummy""]),addDrop:function(c,e,a){c=dhtmlx.toNode(c);c.dhx_drop=this._getCtrl(e);if(a){c.dhx_master=true}},_getCtrl:function(c){c=c||dhtmlx.DragControl;var a=this._drag_masters.find(c);if(a<0){a=this._drag_masters.length;this._drag_masters.push(c)}return a},addDrag:function(a,c){a=dhtmlx.toNode(a);a.dhx_drag=this._getCtrl(c);dhtmlx.event(a,""mousedown"",this._preStart,a)},_preStart:function(a){if(dhtmlx.DragControl._active){dhtmlx.DragControl._preStartFalse();dhtmlx.DragControl.destroyDrag()}dhtmlx.DragControl._active=this;dhtmlx.DragControl._start_pos={x:a.pageX,y:a.pageY};dhtmlx.DragControl._dhx_drag_mm=dhtmlx.event(document.body,""mousemove"",dhtmlx.DragControl._startDrag);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.event(document.body,""mouseup"",dhtmlx.DragControl._preStartFalse);dhtmlx.DragControl._dhx_drag_sc=dhtmlx.event(this,""scroll"",dhtmlx.DragControl._preStartFalse);a.cancelBubble=true;return false},_preStartFalse:function(a){dhtmlx.DragControl._dhx_drag_mm=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mm);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mu);dhtmlx.DragControl._dhx_drag_sc=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_sc)},_startDrag:function(a){var c={x:a.pageX,y:a.pageY};if(Math.abs(c.x-dhtmlx.DragControl._start_pos.x)<5&&Math.abs(c.y-dhtmlx.DragControl._start_pos.y)<5){return}dhtmlx.DragControl._preStartFalse();if(!dhtmlx.DragControl.createDrag(a)){return}dhtmlx.DragControl.sendSignal(""start"");dhtmlx.DragControl._dhx_drag_mm=dhtmlx.event(document.body,""mousemove"",dhtmlx.DragControl._moveDrag);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.event(document.body,""mouseup"",dhtmlx.DragControl._stopDrag);dhtmlx.DragControl._moveDrag(a)},_stopDrag:function(a){dhtmlx.DragControl._dhx_drag_mm=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mm);dhtmlx.DragControl._dhx_drag_mu=dhtmlx.eventRemove(dhtmlx.DragControl._dhx_drag_mu);if(dhtmlx.DragControl._last){dhtmlx.DragControl.onDrop(dhtmlx.DragControl._active,dhtmlx.DragControl._last,this._landing,a);dhtmlx.DragControl.onDragOut(dhtmlx.DragControl._active,dhtmlx.DragControl._last,null,a)}dhtmlx.DragControl.destroyDrag();dhtmlx.DragControl.sendSignal(""stop"")},_moveDrag:function(a){var c=dhtmlx.html.pos(a);dhtmlx.DragControl._html.style.top=c.y+dhtmlx.DragControl.top+""px"";dhtmlx.DragControl._html.style.left=c.x+dhtmlx.DragControl.left+""px"";if(dhtmlx.DragControl._skip){dhtmlx.DragControl._skip=false}else{dhtmlx.DragControl._checkLand((a.srcElement||a.target),a)}a.cancelBubble=true;return false},_checkLand:function(a,c){while(a&&a.tagName!=""BODY""){if(a.dhx_drop){if(this._last&&(this._last!=a||a.dhx_master)){this.onDragOut(this._active,this._last,a,c)}if(!this._last||this._last!=a||a.dhx_master){this._last=null;this._landing=this.onDragIn(dhtmlx.DragControl._active,a,c);if(this._landing){this._last=a}return}return}a=a.parentNode}if(this._last){this._last=this._landing=this.onDragOut(this._active,this._last,null,c)}},sendSignal:function(a){dhtmlx.DragControl.active=(a==""start"")},getMaster:function(a){return this._drag_masters[a.dhx_drag||a.dhx_drop]},getContext:function(a){return this._drag_context},createDrag:function(l){var g=dhtmlx.DragControl._active;var h=this._drag_masters[g.dhx_drag];var c;if(h.onDragCreate){c=h.onDragCreate(g,l);c.style.position=""absolute"";c.style.zIndex=dhtmlx.zIndex.drag;c.onmousemove=dhtmlx.DragControl._skip_mark}else{var m=dhtmlx.DragControl.onDrag(g,l);if(!m){return false}var c=document.createElement(""DIV"");c.innerHTML=m;c.className=""dhx_drag_zone"";c.onmousemove=dhtmlx.DragControl._skip_mark;document.body.appendChild(c)}dhtmlx.DragControl._html=c;return true},_skip_mark:function(){dhtmlx.DragControl._skip=true},destroyDrag:function(){var c=dhtmlx.DragControl._active;var e=this._drag_masters[c.dhx_drag];if(e&&e.onDragDestroy){e.onDragDestroy(c,dhtmlx.DragControl._html)}else{dhtmlx.html.remove(dhtmlx.DragControl._html)}dhtmlx.DragControl._landing=dhtmlx.DragControl._active=dhtmlx.DragControl._last=dhtmlx.DragControl._html=null},top:5,left:5,onDragIn:function(g,c,h){var a=this._drag_masters[c.dhx_drop];if(a.onDragIn&&a!=this){return a.onDragIn(g,c,h)}c.className=c.className+"" dhx_drop_zone"";return c},onDragOut:function(g,c,l,h){var a=this._drag_masters[c.dhx_drop];if(a.onDragOut&&a!=this){return a.onDragOut(g,c,l,h)}c.className=c.className.replace(""dhx_drop_zone"","""");return null},onDrop:function(g,c,l,h){var a=this._drag_masters[c.dhx_drop];dhtmlx.DragControl._drag_context.from=dhtmlx.DragControl.getMaster(g);if(a.onDrop&&a!=this){return a.onDrop(g,c,l,h)}c.appendChild(g)},onDrag:function(c,g){var a=this._drag_masters[c.dhx_drag];if(a.onDrag&&a!=this){return a.onDrag(c,g)}dhtmlx.DragControl._drag_context={source:c,from:c};return""<div style='""+c.style.cssText+""'>""+c.innerHTML+""</div>""}};dhtmlx.DragItem={_init:function(){dhtmlx.assert(this.move,""DragItem :: Component doesn't have DataMove interface"");dhtmlx.assert(this.locate,""DragItem :: Component doesn't have RenderStack interface"");dhtmlx.assert(dhtmlx.DragControl,""DragItem :: DragControl is not included"");if(!this._settings||this._settings.drag){dhtmlx.DragItem._initHandlers(this)}else{if(this._settings){this.drag_setter=function(a){if(a){this._initHandlers(this);delete this.drag_setter}return a}}}if(this.dragMarker){this.attachEvent(""onBeforeDragIn"",this.dragMarker);this.attachEvent(""onDragOut"",this.dragMarker)}},_initHandlers:function(a){dhtmlx.DragControl.addDrop(a._obj,a,true);dhtmlx.DragControl.addDrag(a._obj,a)},onDragIn:function(h,g,l){var n=this.locate(l)||null;var c=dhtmlx.DragControl._drag_context;var m=dhtmlx.DragControl.getMaster(h);var a=(this._locateHTML(n)||this._obj);if(a==dhtmlx.DragControl._landing){return a}c.target=n;c.to=m;if(!this.callEvent(""onBeforeDragIn"",[c,l])){c.id=null;return null}dhtmlx.html.addCss(a,""dhx_drag_over"");return a},onDragOut:function(h,g,o,l){var m=this.locate(l)||null;if(o!=this._dataobj){m=null}var c=(this._locateHTML(m)||(o?dhtmlx.DragControl.getMaster(o)._obj:window.undefined));if(c==dhtmlx.DragControl._landing){return null}var a=dhtmlx.DragControl._drag_context;dhtmlx.html.removeCss(dhtmlx.DragControl._landing,""dhx_drag_over"");a.target=a.to=null;this.callEvent(""onDragOut"",[a,l]);return null},onDrop:function(g,c,l,h){var a=dhtmlx.DragControl._drag_context;a.to=this;a.index=a.target?this.indexById(a.target):this.dataCount();a.new_id=dhtmlx.uid();if(!this.callEvent(""onBeforeDrop"",[a,h])){return}if(a.from==a.to){this.move(a.source,a.index)}else{if(a.from){a.from.move(a.source,a.index,a.to,a.new_id)}else{dhtmlx.error(""Unsopported d-n-d combination"")}}this.callEvent(""onAfterDrop"",[a,h])},onDrag:function(g,l){var m=this.locate(l);var h=[m];if(m){if(this.getSelected){var c=this.getSelected();if(dhtmlx.PowerArray.find.call(c,m)!=-1){h=c}}var a=dhtmlx.DragControl._drag_context={source:h,start:m};a.from=this;if(this.callEvent(""onBeforeDrag"",[a,l])){return a.html||this._toHTML(this.get(m))}}return null}};dhtmlx.EditAbility={_init:function(a){this._edit_id=null;this._edit_bind=null;dhtmlx.assert(this.data,""EditAbility :: Component doesn't have DataStore"");dhtmlx.assert(this._locateHTML,""EditAbility :: Component doesn't have RenderStack"");this.attachEvent(""onEditKeyPress"",function(e,g,c){if(e==13&&!c){this.stopEdit()}else{if(e==27){this.stopEdit(true)}}});this.attachEvent(""onBeforeRender"",function(){this.stopEdit()})},isEdit:function(){return this._edit_id},edit:function(c){if(this.stopEdit(false,c)){if(!this.callEvent(""onBeforeEditStart"",[c])){return}var a=this.data.get(c);if(a.$template){return}a.$template=""edit"";this.data.refresh(c);this._edit_id=c;this._save_binding(c);this._edit_bind(true,a);this.callEvent(""onAfterEditStart"",[c])}},stopEdit:function(e,h){if(!this._edit_id){return true}if(this._edit_id==h){return false}var a={};if(!e){this._edit_bind(false,a)}else{a=null}if(!this.callEvent(""onBeforeEditStop"",[this._edit_id,a])){return false}var c=this.data.get(this._edit_id);c.$template=null;if(!e){this._edit_bind(false,c)}var g=this._edit_id;this._edit_bind=this._edit_id=null;this.data.refresh(g);this.callEvent(""onAfterEditStop"",[g,a]);return true},_save_binding:function(n){var a=this._locateHTML(n);var e="""";var l="""";var h=[];if(a){var g=a.getElementsByTagName(""*"");var m="""";for(var c=0;c<g.length;c++){if(g[c].nodeType==1&&(m=g[c].getAttribute(""bind""))){e+=""els[""+h.length+""].value=""+m+"";"";l+=m+""=els[""+h.length+""].value;"";h.push(g[c]);g[c].className+="" dhx_allow_selection"";g[c].onselectstart=this._block_native}}g=null}e=Function(""obj"",""els"",e);l=Function(""obj"",""els"",l);this._edit_bind=function(q,o){if(q){e(o,h);if(h.length&&h[0].select){h[0].select()}}else{l(o,h)}}},_block_native:function(a){(a||event).cancelBubble=true;return true}};dhtmlx.SelectionModel={_init:function(){this._selected=dhtmlx.toArray();dhtmlx.assert(this.data,""SelectionModel :: Component doesn't have DataStore"");this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(this._data_updated,this));this.data.attachEvent(""onStoreLoad"",dhtmlx.bind(this._data_loaded,this));this.data.attachEvent(""onAfterFilter"",dhtmlx.bind(this._data_filtered,this));this.data.attachEvent(""onIdChange"",dhtmlx.bind(this._id_changed,this))},_id_changed:function(e,a){for(var c=this._selected.length-1;c>=0;c--){if(this._selected[c]==e){this._selected[c]=a}}},_data_filtered:function(){for(var a=this._selected.length-1;a>=0;a--){if(this.data.indexById(this._selected[a])<0){var e=this._selected[a]}var c=this.item(e);if(c){delete c.$selected}this._selected.splice(a,1);this.callEvent(""onSelectChange"",[e])}},_data_updated:function(e,c,a){if(a==""delete""){this._selected.remove(e)}else{if(!this.data.dataCount()&&!this.data._filter_order){this._selected=dhtmlx.toArray()}}},_data_loaded:function(){if(this._settings.select){this.data.each(function(a){if(a.$selected){this.select(a.id)}},this)}},_select_mark:function(e,c,a){if(!a&&!this.callEvent(""onBeforeSelect"",[e,c])){return false}this.data.item(e).$selected=c;if(a){a.push(e)}else{if(c){this._selected.push(e)}else{this._selected.remove(e)}this._refresh_selection(e)}return true},select:function(g,e,a){if(!g){return this.selectAll()}if(g instanceof Array){for(var c=0;c<g.length;c++){this.select(g[c],e,a)}return}if(!this.data.exists(g)){dhtmlx.error(""Incorrect id in select command: ""+g);return}if(a&&this._selected.length){return this.selectAll(this._selected[this._selected.length-1],g)}if(!e&&(this._selected.length!=1||this._selected[0]!=g)){this._silent_selection=true;this.unselectAll();this._silent_selection=false}if(this.isSelected(g)){if(e){this.unselect(g)}return}if(this._select_mark(g,true)){this.callEvent(""onAfterSelect"",[g])}},unselect:function(a){if(!a){return this.unselectAll()}if(!this.isSelected(a)){return}this._select_mark(a,false)},selectAll:function(g,e){var a;var c=[];if(g||e){a=this.data.getRange(g||null,e||null)}else{a=this.data.getRange()}a.each(function(h){var l=this.data.item(h.id);if(!l.$selected){this._selected.push(h.id);this._select_mark(h.id,true,c)}return h.id},this);this._refresh_selection(c)},unselectAll:function(){var a=[];this._selected.each(function(c){this._select_mark(c,false,a)},this);this._selected=dhtmlx.toArray();this._refresh_selection(a)},isSelected:function(a){return this._selected.find(a)!=-1},getSelected:function(a){switch(this._selected.length){case 0:return a?[]:"""";case 1:return a?[this._selected[0]]:this._selected[0];default:return([].concat(this._selected))}},_is_mass_selection:function(a){return a.length>100||a.length>this.data.dataCount/2},_refresh_selection:function(c){if(typeof c!=""object""){c=[c]}if(!c.length){return}if(this._is_mass_selection(c)){this.data.refresh()}else{for(var a=0;a<c.length;a++){this.render(c[a],this.data.item(c[a]),""update"")}}if(!this._silent_selection){this.callEvent(""onSelectChange"",[c])}}};dhtmlx.RenderStack={_init:function(){dhtmlx.assert(this.data,""RenderStack :: Component doesn't have DataStore"");dhtmlx.assert(dhtmlx.Template,""dhtmlx.Template :: dhtmlx.Template is not accessible"");this._html=document.createElement(""DIV"")},_toHTML:function(a){dhtmlx.assert((!a.$template||this.type[""template_""+a.$template]),""RenderStack :: Unknown template: ""+a.$template);this.callEvent(""onItemRender"",[a]);return this.type._item_start(a,this.type)+(a.$template?this.type[""template_""+a.$template]:this.type.template)(a,this.type)+this.type._item_end},_toHTMLObject:function(a){this._html.innerHTML=this._toHTML(a);return this._html.firstChild},_locateHTML:function(a){if(this._htmlmap){return this._htmlmap[a]}this._htmlmap={};var e=this._dataobj.childNodes;for(var c=0;c<e.length;c++){var g=e[c].getAttribute(this._id);if(g){this._htmlmap[g]=e[c]}}return this._locateHTML(a)},locate:function(a){return dhtmlx.html.locate(a,this._id)},show:function(c){var a=this._locateHTML(c);if(a){this._dataobj.scrollTop=a.offsetTop-this._dataobj.offsetTop}},render:function(l,g,e,h){if(l){var a=this._locateHTML(l);switch(e){case""update"":if(!a){return}var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,a);dhtmlx.html.remove(a);break;case""delete"":if(!a){return}dhtmlx.html.remove(a);delete this._htmlmap[l];break;case""add"":var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,this._locateHTML(this.data.next(l)),this._dataobj);break;case""move"":this.render(l,g,""delete"");this.render(l,g,""add"");break;default:dhtmlx.error(""Unknown render command: ""+e);break}}else{if(this.callEvent(""onBeforeRender"",[this.data])){this._dataobj.innerHTML=this.data.getRange().map(this._toHTML,this).join("""");this._htmlmap=null}}this.callEvent(""onAfterRender"",[])},pager_setter:function(c){this.attachEvent(""onBeforeRender"",function(){var g=this._settings.pager._settings;if(g.page==-1){return false}this.data.min=g.page*g.size;this.data.max=(g.page+1)*g.size-1;return true});var a=new dhtmlx.ui.pager(c);var e=dhtmlx.bind(function(){this.data.refresh()},this);a.attachEvent(""onRefresh"",e);this.data.attachEvent(""onStoreUpdated"",function(h){var g=this.dataCount();if(g!=a._settings.count){a._settings.count=g;if(a._settings.page==-1){a._settings.page=0}a.refresh()}});return a},height_setter:function(a){if(a==""auto""){this.attachEvent(""onAfterRender"",this._correct_height);dhtmlx.event(window,""resize"",dhtmlx.bind(this._correct_height,this))}return a},_correct_height:function(){this._dataobj.style.overflow=""hidden"";this._dataobj.style.height=""1px"";var a=this._dataobj.scrollHeight;this._dataobj.style.height=a+""px"";if(dhtmlx._isFF){var c=this._dataobj.scrollHeight;if(c!=a){this._dataobj.style.height=c+""px""}}this._obj.style.height=this._dataobj.style.height},_getDimension:function(){var a=this.type;var c=(a.border||0)+(a.padding||0)*2+(a.margin||0)*2;return{x:a.width+c,y:a.height+c}},x_count_setter:function(c){var e=this._getDimension();var a=dhtmlx.$customScroll?0:18;this._dataobj.style.width=e.x*c+(this._settings.height!=""auto""?a:0)+""px"";return c},y_count_setter:function(a){var c=this._getDimension();this._dataobj.style.height=c.y*a+""px"";return a}};dhtmlx.VirtualRenderStack={_init:function(){dhtmlx.assert(this.render,""VirtualRenderStack :: Object must use RenderStack first"");this._htmlmap={};this._dataobj.style.overflowY=""scroll"";dhtmlx.event(this._dataobj,""scroll"",dhtmlx.bind(this._render_visible_rows,this));dhtmlx.event(window,""resize"",dhtmlx.bind(function(){this.render()},this));this.data._unrendered_area=[];this.data.getIndexRange=this._getIndexRange},_locateHTML:function(a){return this._htmlmap[a]},show:function(e){range=this._getVisibleRange();var c=this.data.indexById(e);var a=Math.floor(c/range._dx)*range._y;this._dataobj.scrollTop=a},_getIndexRange:function(h,g){if(g!==0){g=Math.min((g||Infinity),this.dataCount()-1)}var a=dhtmlx.toArray();for(var c=(h||0);c<=g;c++){var e=this.item(this.order[c]);if(this.order.length>c){if(!e){this.order[c]=dhtmlx.uid();e={id:this.order[c],$template:""loading""};this._unrendered_area.push(this.order[c])}else{if(e.$template==""loading""){this._unrendered_area.push(this.order[c])}}a.push(e)}}return a},render:function(l,g,e,h){if(l){var a=this._locateHTML(l);switch(e){case""update"":if(!a){return}var c=this._htmlmap[l]=this._toHTMLObject(g);dhtmlx.html.insertBefore(c,a);dhtmlx.html.remove(a);break;default:this._render_delayed();break}}else{if(this.callEvent(""onBeforeRender"",[this.data])){this._htmlmap={};this._render_visible_rows(null,true);this._wait_for_render=false;this.callEvent(""onAfterRender"",[])}}},_render_delayed:function(){if(this._wait_for_render){return}this._wait_for_render=true;window.setTimeout(dhtmlx.bind(function(){this.render()},this),1)},_create_placeholder:function(a){var c=document.createElement(""DIV"");c.className=""dhxdataview_placeholder"";c.style.cssText=""height:""+a+""px; width:100%; overflow:hidden;"";return c},_render_visible_rows:function(A,E){this.data._unrendered_area=[];var y=this._getVisibleRange();if(!this._dataobj.firstChild||E){this._dataobj.innerHTML="""";this._dataobj.appendChild(this._create_placeholder(y._max));this._htmlrows=[this._dataobj.firstChild]}var l=Math.max(y._from,0);var x=(this.data.max||this.data.max===0)?this.data.max:Infinity;while(l<=y._height){while(this._htmlrows[l]&&this._htmlrows[l]._filled&&l<=y._height){l++}if(l>y._height){break}var o=l;while(!this._htmlrows[o]){o--}var a=this._htmlrows[o];var g=l*y._dx+(this.data.min||0);if(g>x){break}var m=Math.min(g+y._dx-1,x);var r=this._create_placeholder(y._y);var n=this.data.getIndexRange(g,m);if(!n.length){break}r.innerHTML=n.map(this._toHTML,this).join("""");for(var v=0;v<n.length;v++){this._htmlmap[this.data.idByIndex(g+v)]=r.childNodes[v]}var w=parseInt(a.style.height,10);var D=(l-o)*y._y;var u=(w-D-y._y);dhtmlx.html.insertBefore(r,D?a.nextSibling:a,this._dataobj);this._htmlrows[l]=r;r._filled=true;if(D<=0&&u>0){a.style.height=u+""px"";this._htmlrows[l+1]=a}else{if(D<0){dhtmlx.html.remove(a)}else{a.style.height=D+""px""}if(u>0){var q=this._htmlrows[l+1]=this._create_placeholder(u);dhtmlx.html.insertBefore(q,r.nextSibling,this._dataobj)}}l++}if(this.data._unrendered_area.length){var s=this.indexById(this.data._unrendered_area[0]);var c=this.indexById(this.data._unrendered_area.pop())+1;if(c>s){if(!this.callEvent(""onDataRequest"",[s,c-s])){return false}dhtmlx.assert(this.data.feed,""Data feed is missed"");this.data.feed.call(this,s,c-s)}}if(dhtmlx._isIE){var C=this._getVisibleRange();if(C._from!=y._from){this._render_visible_rows()}}},_getVisibleRange:function(){var c=dhtmlx.$customScroll?0:18;var m=this._dataobj.scrollTop;var a=Math.max(this._dataobj.scrollWidth,this._dataobj.offsetWidth)-c;var n=this._dataobj.offsetHeight;var q=this.type;var g=this._getDimension();var r=Math.floor(a/g.x)||1;var e=Math.floor(m/g.y);var o=Math.ceil((n+m)/g.y)-1;var h=this.data.max?(this.data.max-this.data.min):this.data.dataCount();var l=Math.ceil(h/r)*g.y;return{_from:e,_height:o,_top:m,_max:l,_y:g.y,_dx:r}}};dhtmlXDataView=function(a){this.name=""DataView"";if(dhtmlx.assert_enabled()){this._assert()}dhtmlx.extend(this,dhtmlx.Settings);this._parseContainer(a,""dhx_dataview"");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.RenderStack);dhtmlx.extend(this,dhtmlx.SelectionModel);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.KeyEvents);dhtmlx.extend(this,dhtmlx.EditAbility);dhtmlx.extend(this,dhtmlx.DataMove);dhtmlx.extend(this,dhtmlx.DragItem);dhtmlx.extend(this,dhtmlx.DataProcessor);dhtmlx.extend(this,dhtmlx.AutoTooltip);dhtmlx.extend(this,dhtmlx.Destruction);this.data.attachEvent(""onStoreUpdated"",dhtmlx.bind(function(){this.render.apply(this,arguments)},this));this._parseSettings(a,{drag:false,edit:false,select:""multiselect"",type:""default""});if(this._settings.height!=""auto""&&!this._settings.renderAll){dhtmlx.extend(this,dhtmlx.VirtualRenderStack)}this.data.provideApi(this,true);if(dhtmlx.$customScroll){dhtmlx.CustomScroll.enable(this)}};dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(e,h){var g=this._locateHTML(e.target);if(this.type.drag_marker){if(this._drag_marker){this._drag_marker.style.backgroundImage="""";this._drag_marker.style.backgroundRepeat=""""}if(g){g.style.backgroundImage=""url(""+(dhtmlx.image_path||"""")+this.type.drag_marker+"")"";g.style.backgroundRepeat=""no-repeat"";this._drag_marker=g}}if(g&&this._settings.auto_scroll){var a=g.offsetTop;var l=g.offsetHeight;var c=this._obj.scrollTop;var m=this._obj.offsetHeight;if(a-l>=0&&a-l*0.75<c){c=Math.max(a-l,0)}else{if(a+l/0.75>c+m){c=c+l}}this._obj.scrollTop=c}return true},_id:""dhx_f_id"",on_click:{dhx_dataview_item:function(a,c){if(this.stopEdit(false,c)){if(this._settings.select){if(this._settings.select==""multiselect""){this.select(c,a.ctrlKey,a.shiftKey)}else{this.select(c)}}}}},on_dblclick:{dhx_dataview_item:function(a,c){if(this._settings.edit){this.edit(c)}}},on_mouse_move:{},types:{""default"":{css:""default"",template:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>""),template_edit:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>""),template_loading:dhtmlx.Template.fromHTML(""<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>""),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML(""<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>""),template_item_end:dhtmlx.Template.fromHTML(""</div>"")};dhtmlx.compat(""layout"");if(typeof(window.dhtmlXCellObject)!=""undefined""){dhtmlXCellObject.prototype.attachDataView=function(a){this.callEvent(""_onBeforeContentAttach"",[""dataview""]);var c=document.createElement(""DIV"");c.style.width=""100%"";c.style.height=""100%"";c.style.position=""relative"";c.style.overflow=""hidden"";this._attachObject(c);if(typeof(a)==""undefined""){a={}}c.id=""DataViewObject_""+new Date().getTime();a.container=c.id;a.skin=this.conf.skin;this.dataType=""dataview"";this.dataObj=new dhtmlXDataView(a);this.dataObj.setSizes=function(){this.render()};c=null;this.callEvent(""_onContentAttach"",[]);return this.dataObj}}function xmlPointer(a){this.d=a}xmlPointer.prototype={text:function(){if(!_isFF){return this.d.xml}var a=new XMLSerializer();return a.serializeToString(this.d)},get:function(a){return this.d.getAttribute(a)},exists:function(){return !!this.d},content:function(){return this.d.firstChild?(this.d.firstChild.wholeText||this.d.firstChild.data):""""},each:function(g,m,l,h){var e=this.d.childNodes;var n=new xmlPointer();if(e.length){for(h=h||0;h<e.length;h++){if(e[h].tagName==g){n.d=e[h];if(m.apply(l,[n,h])==-1){return}}}}},get_all:function(){var e={};var c=this.d.attributes;for(var g=0;g<c.length;g++){e[c[g].name]=c[g].value}return e},sub:function(g){var e=this.d.childNodes;var l=new xmlPointer();if(e.length){for(var h=0;h<e.length;h++){if(e[h].tagName==g){l.d=e[h];return l}}}},up:function(a){return new xmlPointer(this.d.parentNode)},set:function(a,c){this.d.setAttribute(a,c)},clone:function(a){return new xmlPointer(this.d)},sub_exists:function(e){var c=this.d.childNodes;if(c.length){for(var g=0;g<c.length;g++){if(c[g].tagName==e){return true}}}return false},through:function(e,m,q,h,r){var n=this.d.childNodes;if(n.length){for(var g=0;g<n.length;g++){if(n[g].tagName==e&&n[g].getAttribute(m)!=null&&n[g].getAttribute(m)!=""""&&(!q||n[g].getAttribute(m)==q)){var l=new xmlPointer(n[g]);h.apply(r,[l,g])}var o=this.d;this.d=n[g];this.through(e,m,q,h,r);this.d=o}}}};function dhtmlXTreeObject(m,h,c,a){if(dhtmlxEvent.initTouch){dhtmlxEvent.initTouch()}if(_isIE){try{document.execCommand(""BackgroundImageCache"",false,true)}catch(l){}}if(typeof(m)!=""object""){this.parentObject=document.getElementById(m)}else{this.parentObject=m}this.parentObject.style.overflow=""hidden"";this._itim_dg=true;this.dlmtr="","";this.dropLower=false;this.enableIEImageFix(true);this.xmlstate=0;this.mytype=""tree"";this.smcheck=true;this.width=h;this.height=c;this.rootId=a;this.childCalc=null;this.def_img_x=""18px"";this.def_img_y=""18px"";this.def_line_img_x=""18px"";this.def_line_img_y=""24px"";this._dragged=new Array();this._selected=new Array();this.style_pointer=""pointer"";this._aimgs=true;this.htmlcA="" ["";this.htmlcB=""]"";this.lWin=window;this.cMenu=0;this.mlitems=0;this.iconURL="""";this.dadmode=0;this.slowParse=false;this.autoScroll=true;this.hfMode=0;this.nodeCut=new Array();this.XMLsource=0;this.XMLloadingWarning=0;this._idpull={};this._pullSize=0;this.treeLinesOn=true;this.tscheck=false;this.timgen=true;this.dpcpy=false;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"""";"
"<h2>%e<span class=""duration"">%ems</span>"
"<h2>Downloads <i style=""padding-left: 12px; font-size:12px;"">(Right-click, and use ""Save As"")</i>"
<h2>${1}
<h2>${LANG['header']}<span> v${antSword['package']['version']}</span>
<h2>%e
